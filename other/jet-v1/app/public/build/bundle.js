var app=function(){"use strict";function noop$1(){}const identity=e=>e;function assign$2(e,t){for(const r in t)e[r]=t[r];return e}function run$1(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run$1)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e)return noop$1;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(e){let t;return subscribe(e,(e=>t=e))(),t}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function create_slot(e,t,r,n){if(e){const i=get_slot_context(e,t,r,n);return e[0](i)}}function get_slot_context(e,t,r,n){return e[1]&&n?assign$2(r.ctx.slice(),e[1](n(t))):r.ctx}function get_slot_changes(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],r=Math.max(t.dirty.length,i.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|i[n];return e}return t.dirty|i}return t.dirty}function update_slot_base(e,t,r,n,i,o){if(i){const a=get_slot_context(t,r,n,o);e.p(a,i)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function exclude_internal_props(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function compute_rest_props(e,t){const r={};t=new Set(t);for(const n in e)t.has(n)||"$"===n[0]||(r[n]=e[n]);return r}function null_to_empty(e){return null==e?"":e}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop$1}const is_client="undefined"!=typeof window;let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop$1;const tasks=new Set;function run_tasks(e){tasks.forEach((t=>{t.c(e)||(tasks.delete(t),t.f())})),0!==tasks.size&&raf(run_tasks)}function loop(e){let t;return 0===tasks.size&&raf(run_tasks),{promise:new Promise((r=>{tasks.add(t={c:e,f:r})})),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return append_stylesheet(get_root_for_style(e),t),t}function append_stylesheet(e,t){append(e.head||e,t)}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function attr(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function set_attributes(e,t){const r=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)null==t[n]?e.removeAttribute(n):"style"===n?e.style.cssText=t[n]:"__value"===n?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:attr(e,n,t[n])}function set_custom_element_data(e,t,r){t in e?e[t]="boolean"==typeof e[t]&&""===r||r:attr(e,t,r)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function set_style(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}let crossorigin;function is_crossorigin(){if(void 0===crossorigin){crossorigin=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){crossorigin=!0}}return crossorigin}function add_resize_listener(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const r=element("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const n=is_crossorigin();let i;return n?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=listen(window,"message",(e=>{e.source===r.contentWindow&&t()}))):(r.src="about:blank",r.onload=()=>{i=listen(r.contentWindow,"resize",t)}),append(e,r),()=>{(n||i&&r.contentWindow)&&i(),detach(r)}}function toggle_class(e,t,r){e.classList[r?"add":"remove"](t)}function custom_event(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}class HtmlTag{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.e=element(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)insert(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}const active_docs=new Set;let active=0,current_component;function hash$2(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function create_rule(e,t,r,n,i,o,a,s=0){const c=16.666/n;let u="{\n";for(let e=0;e<=1;e+=c){const n=t+(r-t)*o(e);u+=100*e+`%{${a(n,1-n)}}\n`}const l=u+`100% {${a(r,1-r)}}\n}`,d=`__svelte_${hash$2(l)}_${s}`,f=get_root_for_style(e);active_docs.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=append_empty_stylesheet(e).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${l}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${n}ms linear ${i}ms 1 both`,active+=1,d}function delete_rule(e,t){const r=(e.style.animation||"").split(", "),n=r.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=r.length-n.length;i&&(e.style.animation=n.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf((()=>{active||(active_docs.forEach((e=>{const t=e.__svelte_stylesheet;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.__svelte_rules={}})),active_docs.clear())}))}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function beforeUpdate(e){get_current_component().$$.before_update.push(e)}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=custom_event(t,r);n.slice().forEach((t=>{t.call(e,i)}))}}}function setContext(e,t){get_current_component().$$.context.set(e,t)}function getContext(e){return get_current_component().$$.context.get(e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let e=0;e<dirty_components.length;e+=1){const t=dirty_components[e];set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then((()=>{promise=null}))),promise}function dispatch(e,t,r){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,n){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push((()=>{outroing.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}const null_transition={duration:0};function create_in_transition(e,t,r){let n,i,o=t(e,r),a=!1,s=0;function c(){n&&delete_rule(e,n)}function u(){const{delay:t=0,duration:r=300,easing:u=identity,tick:l=noop$1,css:d}=o||null_transition;d&&(n=create_rule(e,0,1,r,t,u,d,s++)),l(0,1);const f=now()+t,h=f+r;i&&i.abort(),a=!0,add_render_callback((()=>dispatch(e,!0,"start"))),i=loop((t=>{if(a){if(t>=h)return l(1,0),dispatch(e,!0,"end"),c(),a=!1;if(t>=f){const e=u((t-f)/r);l(e,1-e)}}return a}))}let l=!1;return{start(){l||(l=!0,delete_rule(e),is_function(o)?(o=o(),wait().then(u)):u())},invalidate(){l=!1},end(){a&&(c(),a=!1)}}}function create_out_transition(e,t,r){let n,i=t(e,r),o=!0;const a=outros;function s(){const{delay:t=0,duration:r=300,easing:s=identity,tick:c=noop$1,css:u}=i||null_transition;u&&(n=create_rule(e,1,0,r,t,s,u));const l=now()+t,d=l+r;add_render_callback((()=>dispatch(e,!1,"start"))),loop((t=>{if(o){if(t>=d)return c(0,1),dispatch(e,!1,"end"),--a.r||run_all(a.c),!1;if(t>=l){const e=s((t-l)/r);c(1-e,e)}}return o}))}return a.r+=1,is_function(i)?wait().then((()=>{i=i(),s()})):s(),{end(t){t&&i.tick&&i.tick(1,0),o&&(n&&delete_rule(e,n),o=!1)}}}function create_bidirectional_transition(e,t,r,n){let i=t(e,r),o=n?0:1,a=null,s=null,c=null;function u(){c&&delete_rule(e,c)}function l(e,t){const r=e.b-o;return t*=Math.abs(r),{a:o,b:e.b,d:r,duration:t,start:e.start,end:e.start+t,group:e.group}}function d(t){const{delay:r=0,duration:n=300,easing:d=identity,tick:f=noop$1,css:h}=i||null_transition,p={start:now()+r,b:t};t||(p.group=outros,outros.r+=1),a||s?s=p:(h&&(u(),c=create_rule(e,o,t,n,r,d,h)),t&&f(0,1),a=l(p,n),add_render_callback((()=>dispatch(e,t,"start"))),loop((t=>{if(s&&t>s.start&&(a=l(s,n),s=null,dispatch(e,a.b,"start"),h&&(u(),c=create_rule(e,o,a.b,a.duration,0,d,i.css))),a)if(t>=a.end)f(o=a.b,1-o),dispatch(e,a.b,"end"),s||(a.b?u():--a.group.r||run_all(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;o=a.a+a.d*d(e/a.duration),f(o,1-o)}return!(!a&&!s)})))}return{run(e){is_function(i)?wait().then((()=>{i=i(),d(e)})):d(e)},end(){u(),a=s=null}}}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function outro_and_destroy_block(e,t){transition_out(e,1,1,(()=>{t.delete(e.key)}))}function update_keyed_each(e,t,r,n,i,o,a,s,c,u,l,d){let f=e.length,h=o.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],b=new Map,y=new Map;for(p=h;p--;){const e=d(i,o,p),s=r(e);let c=a.get(s);c?n&&c.p(e,t):(c=u(s,e),c.c()),b.set(s,g[p]=c),s in m&&y.set(s,Math.abs(p-m[s]))}const _=new Set,v=new Set;function w(e){transition_in(e,1),e.m(s,l),a.set(e.key,e),l=e.first,h--}for(;f&&h;){const t=g[h-1],r=e[f-1],n=t.key,i=r.key;t===r?(l=t.first,f--,h--):b.has(i)?!a.has(n)||_.has(n)?w(t):v.has(i)?f--:y.get(n)>y.get(i)?(v.add(n),w(t)):(_.add(i),f--):(c(r,a),f--)}for(;f--;){const t=e[f];b.has(t.key)||c(t,a)}for(;h;)w(g[h-1]);return g}function get_spread_update(e,t){const r={},n={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(n[e]=1);for(const e in s)i[e]||(r[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const e in n)e in r||(r[e]=void 0);return r}function get_spread_object(e){return"object"==typeof e&&null!==e?e:{}}function bind(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function create_component(e){e&&e.c()}function mount_component(e,t,r,n){const{fragment:i,on_mount:o,on_destroy:a,after_update:s}=e.$$;i&&i.m(t,r),n||add_render_callback((()=>{const t=o.map(run$1).filter(is_function);a?a.push(...t):run_all(t),e.$$.on_mount=[]})),s.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;null!==r.fragment&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init$1(e,t,r,n,i,o,a,s=[-1]){const c=current_component;set_current_component(e);const u=e.$$={fragment:null,ctx:null,props:o,update:noop$1,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(u.root);let l=!1;if(u.ctx=r?r(e,t.props||{},((t,r,...n)=>{const o=n.length?n[0]:r;return u.ctx&&i(u.ctx[t],u.ctx[t]=o)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](o),l&&make_dirty(e,t)),r})):[],u.update(),l=!0,run_all(u.before_update),u.fragment=!!n&&n(u.ctx),t.target){if(t.hydrate){const e=children(t.target);u.fragment&&u.fragment.l(e),e.forEach(detach)}else u.fragment&&u.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(c)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const isUndefined$1=e=>void 0===e,isFunction$2=e=>"function"==typeof e,isNumber$1=e=>"number"==typeof e;function shouldNavigate(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function createCounter(){let e=0;return()=>e++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR="undefined"==typeof window;function addListener$1(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop$1){let r;const n=new Set;function i(t){if(safe_not_equal(e,t)&&(e=t,r)){const t=!subscriber_queue.length;for(const t of n)t[1](),subscriber_queue.push(t,e);if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,a=noop$1){const s=[o,a];return n.add(s),1===n.size&&(r=t(i)||noop$1),o(e),()=>{n.delete(s),0===n.size&&(r(),r=null)}}}}function derived(e,t,r){const n=!Array.isArray(e),i=n?[e]:e,o=t.length<2;return readable(r,(e=>{let r=!1;const a=[];let s=0,c=noop$1;const u=()=>{if(s)return;c();const r=t(n?a[0]:a,e);o?e(r):c=is_function(r)?r:noop$1},l=i.map(((e,t)=>subscribe(e,(e=>{a[t]=e,s&=~(1<<t),r&&u()}),(()=>{s|=1<<t}))));return r=!0,u(),function(){run_all(l),c()}}))}const createKey=e=>`@@svnav-ctx__${e}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith$1=(e,t)=>e.substr(0,t.length)===t,isRootSegment=e=>""===e,isDynamic=e=>paramRegex.test(e),isSplat=e=>"*"===e[0],stripSplat=e=>e.replace(/\*.*$/,""),stripSlashes=e=>e.replace(/(^\/+|\/+$)/g,"");function segmentize(e,t=!1){const r=stripSlashes(e).split("/");return t?r.filter(Boolean):r}const addQuery=(e,t)=>e+(t?`?${t}`:""),normalizePath=e=>`/${stripSlashes(e)}`;function join(...e){const t=e.map((e=>segmentize(e,!0).join("/"))).join("/");return normalizePath(t)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=e=>labels[e];function createIdentifier(e,t){let r;return e===ROUTE_ID?r=t.path?`path="${t.path}"`:"default":e===LINK_ID?r=`to="${t.to}"`:e===ROUTER_ID&&(r=`basepath="${t.basepath||""}"`),`<${createLabel(e)} ${r||""} />`}function createMessage(e,t,r,n){const i=r&&createIdentifier(n||e,r),o=i?`\n\nOccurred in: ${i}`:"",a=createLabel(e);return`<${a}> ${isFunction$2(t)?t(a):t}${o}`}const createMessageHandler=e=>(...t)=>e(createMessage(...t)),fail$1=createMessageHandler((e=>{throw new Error(e)})),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(e,t){return{route:e,score:e.default?0:segmentize(e.fullPath).reduce(((e,t)=>{let r=e;return r+=SEGMENT_POINTS,isRootSegment(t)?r+=ROOT_POINTS:isDynamic(t)?r+=DYNAMIC_POINTS:isSplat(t)?r-=SEGMENT_POINTS+SPLAT_PENALTY:r+=STATIC_POINTS,r}),0),index:t}}function rankRoutes(e){return e.map(rankRoute).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}function pick(e,t){let r,n;const[i]=t.split("?"),o=segmentize(i),a=""===o[0],s=rankRoutes(e);for(let e=0,i=s.length;e<i;e++){const{route:i}=s[e];let c=!1;const u={},l=e=>({...i,params:u,uri:e});if(i.default){n=l(t);continue}const d=segmentize(i.fullPath),f=Math.max(o.length,d.length);let h=0;for(;h<f;h++){const e=d[h],t=o[h];if(!isUndefined$1(e)&&isSplat(e)){const t="*"===e?"*":e.slice(1);u[t]=o.slice(h).map(decodeURIComponent).join("/");break}if(isUndefined$1(t)){c=!0;break}const r=paramRegex.exec(e);if(r&&!a){const e=decodeURIComponent(t);u[r[1]]=e}else if(e!==t){c=!0;break}}if(!c){r=l(join(...o.slice(0,h)));break}}return r||n||null}function match(e,t){return pick([e],t)}function resolve(e,t){if(startsWith$1(e,"/"))return e;const[r,n]=e.split("?"),[i]=t.split("?"),o=segmentize(r),a=segmentize(i);if(""===o[0])return addQuery(i,n);if(!startsWith$1(o[0],".")){const e=a.concat(o).join("/");return addQuery(("/"===i?"":"/")+e,n)}const s=a.concat(o),c=[];return s.forEach((e=>{".."===e?c.pop():"."!==e&&c.push(e)})),addQuery(`/${c.join("/")}`,n)}function normalizeLocation(e,t){const{pathname:r,hash:n="",search:i="",state:o}=e,a=segmentize(t,!0),s=segmentize(r,!0);for(;a.length;)a[0]!==s[0]&&fail$1(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${t}", found "${r}"`),a.shift(),s.shift();return{pathname:join(...s),hash:n,search:i,state:o}}const normalizeUrlFragment=e=>1===e.length?"":e;function createLocation(e){const t=e.indexOf("?"),r=e.indexOf("#"),n=-1!==t,i=-1!==r,o=i?normalizeUrlFragment(e.substr(r)):"",a=i?e.substr(0,r):e,s=n?normalizeUrlFragment(a.substr(t)):"";return{pathname:n?a.substr(0,t):a,search:s,hash:o}}function resolveLink(e,t,r){return join(r,resolve(e,t))}function extractBaseUri(e,t){const r=normalizePath(stripSplat(e)),n=segmentize(r,!0),i=match({fullPath:r},join(...segmentize(t,!0).slice(0,n.length)));return i&&i.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(e){return{...e.location,pathname:encodeURI(decodeURI(e.location.pathname)),state:e.history.state,_key:e.history.state&&e.history.state._key||"initial"}}function createHistory(e){let t=[],r=getLocation(e),n=POP;const i=(e=t)=>e.forEach((e=>e({location:r,action:n})));return{get location(){return r},listen(o){t.push(o);i([o]);const a=addListener$1(e,"popstate",(()=>{r=getLocation(e),n=POP,i([o])}));return()=>{a(),t=t.filter((e=>e!==o))}},navigate(t,o){const{state:a={},replace:s=!1}=o||{};if(n=s?REPLACE:PUSH,isNumber$1(t))o&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=POP,e.history.go(t);else{const r={...a,_key:createGlobalId()};try{e.history[s?"replaceState":"pushState"](r,"",t)}catch(r){e.location[s?"replace":"assign"](t)}}r=getLocation(e),i()}}}function createStackFrame(e,t){return{...createLocation(t),state:e}}function createMemorySource(e="/"){let t=0,r=[createStackFrame(null,e)];return{get entries(){return r},get location(){return r[t]},addEventListener(){},removeEventListener(){},history:{get state(){return r[t].state},pushState(e,n,i){t++,r=r.slice(0,t),r.push(createStackFrame(e,i))},replaceState(e,n,i){r[t]=createStackFrame(e,i)},go(e){const n=t+e;n<0||n>r.length-1||(t=n)}}}}const canUseDOM=!(isSSR||!window.document||!window.document.createElement),isEmbeddedPage=!isSSR&&"null"===window.location.origin,globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource()),{navigate:navigate}=globalHistory;let focusCandidate=null,initialNavigation=!0;function isAbove(e,t){const r=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<r.length;n++){const i=r[n],o=Number(i.dataset.svnavRouter);if(o===e)return!0;if(o===t)return!1}return!1}function pushFocusCandidate(e){(!focusCandidate||e.level>focusCandidate.level||e.level===focusCandidate.level&&isAbove(e.routerId,focusCandidate.routerId))&&(focusCandidate=e)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(e){if(!e)return!1;const t="tabindex";try{if(!e.hasAttribute(t)){let r;e.setAttribute(t,"-1");const n=()=>{e.removeAttribute(t),r()};r=addListener$1(e,"blur",n)}return e.focus(),document.activeElement===e}catch(e){return!1}}function isEndMarker(e,t){return Number(e.dataset.svnavRouteEnd)===t}function isHeading(e){return/^H[1-6]$/i.test(e.tagName)}function query(e,t=document){return t.querySelector(e)}function queryHeading(e){let t=query(`[data-svnav-route-start="${e}"]`).nextElementSibling;for(;!isEndMarker(t,e);){if(isHeading(t))return t;const e=query("h1,h2,h3,h4,h5,h6",t);if(e)return e;t=t.nextElementSibling}return null}function handleFocus(e){Promise.resolve(get_store_value(e.focusElement)).then((t=>{const r=t||queryHeading(e.id);r||warn(ROUTER_ID,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',e,ROUTE_ID);focus(r)||focus(document.documentElement)}))}const createTriggerFocus=(e,t,r)=>(n,i)=>tick().then((()=>{if(focusCandidate&&!initialNavigation){if(n&&handleFocus(focusCandidate.route),e.announcements&&i){const{path:n,fullPath:i,meta:o,params:a,uri:s}=focusCandidate.route,c=e.createAnnouncement({path:n,fullPath:i,meta:o,params:a,uri:s},get_store_value(r));Promise.resolve(c).then((e=>{t.set(e)}))}clearFocusCandidate()}else initialNavigationOccurred()})),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$r(e){let t,r;return{c(){t=element("div"),r=text(e[0]),attr(t,"role","status"),attr(t,"aria-atomic","true"),attr(t,"aria-live","polite"),attr(t,"style",visuallyHiddenStyle)},m(e,n){insert(e,t,n),append(t,r)},p(e,t){1&t[0]&&set_data(r,e[0])},d(e){e&&detach(t)}}}function create_fragment$C(e){let t,r,n,i,o;const a=e[20].default,s=create_slot(a,e,e[19],null);let c=e[2]&&e[4]&&e[1].announcements&&create_if_block$r(e);return{c(){t=element("div"),r=space(),s&&s.c(),n=space(),c&&c.c(),i=empty(),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-router",e[3])},m(e,a){insert(e,t,a),insert(e,r,a),s&&s.m(e,a),insert(e,n,a),c&&c.m(e,a),insert(e,i,a),o=!0},p(e,t){s&&s.p&&(!o||524288&t[0])&&update_slot_base(s,a,e,e[19],o?get_slot_changes(a,e[19],t,null):get_all_dirty_from_scope(e[19]),null),e[2]&&e[4]&&e[1].announcements&&c.p(e,t)},i(e){o||(transition_in(s,e),o=!0)},o(e){transition_out(s,e),o=!1},d(e){e&&detach(t),e&&detach(r),s&&s.d(e),e&&detach(n),c&&c.d(e),e&&detach(i)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$B(e,t,r){let n,i,o,a,s,{$$slots:c={},$$scope:u}=t,{basepath:l=defaultBasepath}=t,{url:d=null}=t,{history:f=globalHistory}=t,{primary:h=!0}=t,{a11y:p={}}=t;const m={createAnnouncement:e=>`Navigated to ${e.uri}`,announcements:!0,...p},g=l,b=normalizePath(l),y=getContext(LOCATION),_=getContext(ROUTER),v=!y,w=createId$1(),$=h&&!(_&&!_.manageFocus),S=writable("");component_subscribe(e,S,(e=>r(0,s=e)));const k=writable([]);component_subscribe(e,k,(e=>r(18,a=e)));const A=writable(null);component_subscribe(e,A,(e=>r(16,i=e)));let E=!1;const I=v?0:_.level+1,R=v?writable(normalizeLocation(isSSR?createLocation(d):f.location,b)):y;component_subscribe(e,R,(e=>r(15,n=e)));const T=writable(n);component_subscribe(e,T,(e=>r(17,o=e)));const x=createTriggerFocus(m,S,R),P=e=>t=>t.filter((t=>t.id!==e));return v||l===defaultBasepath||warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:l}),v&&(onMount((()=>f.listen((e=>{const t=normalizeLocation(e.location,b);T.set(n),R.set(t)})))),setContext(LOCATION,R)),setContext(ROUTER,{activeRoute:A,registerRoute:function(e){if(isSSR){if(E)return;const t=match(e,n.pathname);if(t)return E=!0,t}else k.update((t=>{const r=P(e.id)(t);return r.push(e),r}))},unregisterRoute:function(e){k.update(P(e))},manageFocus:$,level:I,id:w,history:v?f:_.history,basepath:v?b:_.basepath}),e.$$set=e=>{"basepath"in e&&r(10,l=e.basepath),"url"in e&&r(11,d=e.url),"history"in e&&r(12,f=e.history),"primary"in e&&r(13,h=e.primary),"a11y"in e&&r(14,p=e.a11y),"$$scope"in e&&r(19,u=e.$$scope)},e.$$.update=()=>{if(1024&e.$$.dirty[0]&&l!==g&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),294912&e.$$.dirty[0]){const e=pick(a,n.pathname);A.set(e)}if(163840&e.$$.dirty[0]&&v){const e=!!n.hash,t=!e&&$,r=!e||n.pathname!==o.pathname;x(t,r)}65536&e.$$.dirty[0]&&$&&i&&i.primary&&pushFocusCandidate({level:I,routerId:w,route:i})},[s,m,v,w,$,S,k,A,R,T,l,d,f,h,p,n,i,o,a,u,c]}class Router extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$B,create_fragment$C,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}var Router$1=Router;function usePreflightCheck(e,t,r=ROUTER,n=ROUTER_ID){getContext(r)||fail$1(e,(e=>`You cannot use ${e} outside of a ${createLabel(n)}.`),t)}const toReadonly=e=>{const{subscribe:t}=getContext(e);return{subscribe:t}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:e}=getContext(ROUTER);return e}function useRouteBase(){const e=getContext(ROUTE);return e?derived(e,(e=>e.base)):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const e=useRouteBase(),{basepath:t}=getContext(ROUTER);return r=>resolveLink(r,get_store_value(e),t)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const e=useResolve(),{navigate:t}=useHistory();return(r,n)=>{const i=isNumber$1(r)?r:e(r);return t(i,n)}}const get_default_slot_changes$1=e=>({params:16&e,location:8&e}),get_default_slot_context$1=e=>({params:isSSR?get_store_value(e[9]):e[4],location:e[3],navigate:e[10]});function create_if_block$q(e){let t,r;return t=new Router$1({props:{primary:e[1],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.primary=e[1]),264217&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_else_block$g(e){let t;const r=e[17].default,n=create_slot(r,e,e[18],get_default_slot_context$1);return{c(){n&&n.c()},m(e,r){n&&n.m(e,r),t=!0},p(e,i){n&&n.p&&(!t||262168&i)&&update_slot_base(n,r,e,e[18],t?get_slot_changes(r,e[18],i,get_default_slot_changes$1):get_all_dirty_from_scope(e[18]),get_default_slot_context$1)},i(e){t||(transition_in(n,e),t=!0)},o(e){transition_out(n,e),t=!1},d(e){n&&n.d(e)}}}function create_if_block_1$j(e){let t,r,n;const i=[{location:e[3]},{navigate:e[10]},isSSR?get_store_value(e[9]):e[4],e[11]];var o=e[0];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=assign$2(t,i[e]);return{props:t}}return o&&(t=new o(a())),{c(){t&&create_component(t.$$.fragment),r=empty()},m(e,i){t&&mount_component(t,e,i),insert(e,r,i),n=!0},p(e,n){const s=3608&n?get_spread_update(i,[8&n&&{location:e[3]},1024&n&&{navigate:e[10]},528&n&&get_spread_object(isSSR?get_store_value(e[9]):e[4]),2048&n&&get_spread_object(e[11])]):{};if(o!==(o=e[0])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(a()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else o&&t.$set(s)},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_default_slot$3(e){let t,r,n,i;const o=[create_if_block_1$j,create_else_block$g],a=[];function s(e,t){return null!==e[0]?0:1}return t=s(e),r=a[t]=o[t](e),{c(){r.c(),n=empty()},m(e,r){a[t].m(e,r),insert(e,n,r),i=!0},p(e,i){let c=t;t=s(e),t===c?a[t].p(e,i):(group_outros(),transition_out(a[c],1,1,(()=>{a[c]=null})),check_outros(),r=a[t],r?r.p(e,i):(r=a[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){i||(transition_in(r),i=!0)},o(e){transition_out(r),i=!1},d(e){a[t].d(e),e&&detach(n)}}}function create_fragment$B(e){let t,r,n,i,o,a=e[2]&&create_if_block$q(e);return{c(){t=element("div"),r=space(),a&&a.c(),n=space(),i=element("div"),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-route-start",e[5]),set_style(i,"display","none"),attr(i,"aria-hidden","true"),attr(i,"data-svnav-route-end",e[5])},m(e,s){insert(e,t,s),insert(e,r,s),a&&a.m(e,s),insert(e,n,s),insert(e,i,s),o=!0},p(e,[t]){e[2]?a?(a.p(e,t),4&t&&transition_in(a,1)):(a=create_if_block$q(e),a.c(),transition_in(a,1),a.m(n.parentNode,n)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros())},i(e){o||(transition_in(a),o=!0)},o(e){transition_out(a),o=!1},d(e){e&&detach(t),e&&detach(r),a&&a.d(e),e&&detach(n),e&&detach(i)}}}const createId=createCounter();function instance$A(e,t,r){let n;const i=["path","component","meta","primary"];let o,a,s,c,u=compute_rest_props(t,i),{$$slots:l={},$$scope:d}=t,{path:f=""}=t,{component:h=null}=t,{meta:p={}}=t,{primary:m=!0}=t;usePreflightCheck(ROUTE_ID,t);const g=createId(),{registerRoute:b,unregisterRoute:y,activeRoute:_}=getContext(ROUTER);component_subscribe(e,_,(e=>r(15,o=e)));const v=useRouteBase();component_subscribe(e,v,(e=>r(16,s=e)));const w=useLocation();component_subscribe(e,w,(e=>r(3,a=e)));const $=writable(null);let S;const k=writable(),A=writable({});component_subscribe(e,A,(e=>r(4,c=e))),setContext(ROUTE,k),setContext(ROUTE_PARAMS,A),setContext(FOCUS_ELEM,$);const E=useNavigate();return isSSR||onDestroy((()=>y(g))),e.$$set=e=>{r(23,t=assign$2(assign$2({},t),exclude_internal_props(e))),r(11,u=compute_rest_props(t,i)),"path"in e&&r(12,f=e.path),"component"in e&&r(0,h=e.component),"meta"in e&&r(13,p=e.meta),"primary"in e&&r(1,m=e.primary),"$$scope"in e&&r(18,d=e.$$scope)},e.$$.update=()=>{if(77834&e.$$.dirty){const e=""===f,t=join(s,f),n={id:g,path:f,meta:p,default:e,fullPath:e?"":t,base:e?s:extractBaseUri(t,a.pathname),primary:m,focusElement:$};k.set(n),r(14,S=b(n))}if(49152&e.$$.dirty&&r(2,n=!!(S||o&&o.id===g)),49156&e.$$.dirty&&n){const{params:e}=S||o;A.set(e)}},t=exclude_internal_props(t),[h,m,n,a,c,g,_,v,w,A,E,u,f,p,S,o,s,l,d]}class Route extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$A,create_fragment$B,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}var Route$1=Route;const createAction=e=>(t,r=navigate)=>({destroy:addListener$1(t,"click",(t=>{const n=e(t);if(n&&""===n.target&&shouldNavigate(t)){t.preventDefault();const e=n.pathname+n.search+n.hash;r(e,{replace:n.hasAttribute("replace")})}}))}),link=createAction((e=>e.currentTarget));var global$2="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t,r){return r={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?r.path:t)}},e(r,r.exports),r.exports}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var _nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$0$2=getAugmentedNamespace(_nodeResolve_empty$1),naclFast=createCommonjsModule((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),s=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function m(e,t,r,n){return p(e,t,r,n,16)}function g(e,t,r,n){return p(e,t,r,n,32)}function b(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,$=a,S=s,k=c,A=u,E=l,I=d,R=f,T=h,x=p,P=m,M=g,C=b,O=y,L=_,B=v,N=0;N<20;N+=2)w^=(i=(C^=(i=(T^=(i=(A^=(i=w+C|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+T|0)<<18|i>>>14,E^=(i=($^=(i=(O^=(i=(x^=(i=E+$|0)<<7|i>>>25)+E|0)<<9|i>>>23)+x|0)<<13|i>>>19)+O|0)<<18|i>>>14,P^=(i=(I^=(i=(S^=(i=(L^=(i=P+I|0)<<7|i>>>25)+P|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,B^=(i=(M^=(i=(R^=(i=(k^=(i=B+M|0)<<7|i>>>25)+B|0)<<9|i>>>23)+k|0)<<13|i>>>19)+R|0)<<18|i>>>14,w^=(i=(k^=(i=(S^=(i=($^=(i=w+k|0)<<7|i>>>25)+w|0)<<9|i>>>23)+$|0)<<13|i>>>19)+S|0)<<18|i>>>14,E^=(i=(A^=(i=(R^=(i=(I^=(i=E+A|0)<<7|i>>>25)+E|0)<<9|i>>>23)+I|0)<<13|i>>>19)+R|0)<<18|i>>>14,P^=(i=(x^=(i=(T^=(i=(M^=(i=P+x|0)<<7|i>>>25)+P|0)<<9|i>>>23)+M|0)<<13|i>>>19)+T|0)<<18|i>>>14,B^=(i=(L^=(i=(O^=(i=(C^=(i=B+L|0)<<7|i>>>25)+B|0)<<9|i>>>23)+C|0)<<13|i>>>19)+O|0)<<18|i>>>14;w=w+o|0,$=$+a|0,S=S+s|0,k=k+c|0,A=A+u|0,E=E+l|0,I=I+d|0,R=R+f|0,T=T+h|0,x=x+p|0,P=P+m|0,M=M+g|0,C=C+b|0,O=O+y|0,L=L+_|0,B=B+v|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=$>>>0&255,e[5]=$>>>8&255,e[6]=$>>>16&255,e[7]=$>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=x>>>0&255,e[37]=x>>>8&255,e[38]=x>>>16&255,e[39]=x>>>24&255,e[40]=P>>>0&255,e[41]=P>>>8&255,e[42]=P>>>16&255,e[43]=P>>>24&255,e[44]=M>>>0&255,e[45]=M>>>8&255,e[46]=M>>>16&255,e[47]=M>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=B>>>0&255,e[61]=B>>>8&255,e[62]=B>>>16&255,e[63]=B>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(b^=(i=(h^=(i=(u^=(i=o+b|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(d^=(i=(s^=(i=(_^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+_|0)<<13|i>>>19)+s|0)<<18|i>>>14,v^=(i=(g^=(i=(f^=(i=(c^=(i=v+g|0)<<7|i>>>25)+v|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(d^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(h^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,v^=(i=(_^=(i=(y^=(i=(b^=(i=v+_|0)<<7|i>>>25)+v|0)<<9|i>>>23)+b|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=v>>>0&255,e[13]=v>>>8&255,e[14]=v>>>16&255,e[15]=v>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function v(e,t,r,n,i,o,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(b(l,u,a,_),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(b(l,u,a,_),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function w(e,t,r,n,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(b(c,s,i,_),a=0;a<64;a++)e[t+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(b(c,s,i,_),a=0;a<r;a++)e[t+a]=c[a];return 0}function $(e,t,r,n,i){var o=new Uint8Array(32);y(o,n,i,_);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return w(e,t,r,a,o)}function S(e,t,r,n,i,o,a){var s=new Uint8Array(32);y(s,o,a,_);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return v(e,t,r,n,i,c,s)}var k=function(e){var t,r,n,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,i,o){var a=new k(o);return a.update(r,n,i),a.finish(e,t),0}function E(e,t,r,n,i,o){var a=new Uint8Array(16);return A(a,0,r,n,i,o),m(e,t,a,0)}function I(e,t,r,n,i){var o;if(r<32)return-1;for(S(e,0,t,0,r,n,i),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function R(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if($(a,0,32,n,i),0!==E(t,16,t,32,r-32,a))return-1;for(S(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function T(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function x(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function M(e,r){var n,i,o,a=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(x(s),x(s),x(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,P(s,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function C(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),g(r,0,n,0)}function O(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function L(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function D(e,t,r){var n,i,o=0,a=0,s=0,c=0,u=0,l=0,d=0,f=0,h=0,p=0,m=0,g=0,b=0,y=0,_=0,v=0,w=0,$=0,S=0,k=0,A=0,E=0,I=0,R=0,T=0,x=0,P=0,M=0,C=0,O=0,L=0,B=r[0],N=r[1],D=r[2],U=r[3],j=r[4],z=r[5],F=r[6],K=r[7],H=r[8],q=r[9],W=r[10],V=r[11],Y=r[12],G=r[13],Z=r[14],J=r[15];o+=(n=t[0])*B,a+=n*N,s+=n*D,c+=n*U,u+=n*j,l+=n*z,d+=n*F,f+=n*K,h+=n*H,p+=n*q,m+=n*W,g+=n*V,b+=n*Y,y+=n*G,_+=n*Z,v+=n*J,a+=(n=t[1])*B,s+=n*N,c+=n*D,u+=n*U,l+=n*j,d+=n*z,f+=n*F,h+=n*K,p+=n*H,m+=n*q,g+=n*W,b+=n*V,y+=n*Y,_+=n*G,v+=n*Z,w+=n*J,s+=(n=t[2])*B,c+=n*N,u+=n*D,l+=n*U,d+=n*j,f+=n*z,h+=n*F,p+=n*K,m+=n*H,g+=n*q,b+=n*W,y+=n*V,_+=n*Y,v+=n*G,w+=n*Z,$+=n*J,c+=(n=t[3])*B,u+=n*N,l+=n*D,d+=n*U,f+=n*j,h+=n*z,p+=n*F,m+=n*K,g+=n*H,b+=n*q,y+=n*W,_+=n*V,v+=n*Y,w+=n*G,$+=n*Z,S+=n*J,u+=(n=t[4])*B,l+=n*N,d+=n*D,f+=n*U,h+=n*j,p+=n*z,m+=n*F,g+=n*K,b+=n*H,y+=n*q,_+=n*W,v+=n*V,w+=n*Y,$+=n*G,S+=n*Z,k+=n*J,l+=(n=t[5])*B,d+=n*N,f+=n*D,h+=n*U,p+=n*j,m+=n*z,g+=n*F,b+=n*K,y+=n*H,_+=n*q,v+=n*W,w+=n*V,$+=n*Y,S+=n*G,k+=n*Z,A+=n*J,d+=(n=t[6])*B,f+=n*N,h+=n*D,p+=n*U,m+=n*j,g+=n*z,b+=n*F,y+=n*K,_+=n*H,v+=n*q,w+=n*W,$+=n*V,S+=n*Y,k+=n*G,A+=n*Z,E+=n*J,f+=(n=t[7])*B,h+=n*N,p+=n*D,m+=n*U,g+=n*j,b+=n*z,y+=n*F,_+=n*K,v+=n*H,w+=n*q,$+=n*W,S+=n*V,k+=n*Y,A+=n*G,E+=n*Z,I+=n*J,h+=(n=t[8])*B,p+=n*N,m+=n*D,g+=n*U,b+=n*j,y+=n*z,_+=n*F,v+=n*K,w+=n*H,$+=n*q,S+=n*W,k+=n*V,A+=n*Y,E+=n*G,I+=n*Z,R+=n*J,p+=(n=t[9])*B,m+=n*N,g+=n*D,b+=n*U,y+=n*j,_+=n*z,v+=n*F,w+=n*K,$+=n*H,S+=n*q,k+=n*W,A+=n*V,E+=n*Y,I+=n*G,R+=n*Z,T+=n*J,m+=(n=t[10])*B,g+=n*N,b+=n*D,y+=n*U,_+=n*j,v+=n*z,w+=n*F,$+=n*K,S+=n*H,k+=n*q,A+=n*W,E+=n*V,I+=n*Y,R+=n*G,T+=n*Z,x+=n*J,g+=(n=t[11])*B,b+=n*N,y+=n*D,_+=n*U,v+=n*j,w+=n*z,$+=n*F,S+=n*K,k+=n*H,A+=n*q,E+=n*W,I+=n*V,R+=n*Y,T+=n*G,x+=n*Z,P+=n*J,b+=(n=t[12])*B,y+=n*N,_+=n*D,v+=n*U,w+=n*j,$+=n*z,S+=n*F,k+=n*K,A+=n*H,E+=n*q,I+=n*W,R+=n*V,T+=n*Y,x+=n*G,P+=n*Z,M+=n*J,y+=(n=t[13])*B,_+=n*N,v+=n*D,w+=n*U,$+=n*j,S+=n*z,k+=n*F,A+=n*K,E+=n*H,I+=n*q,R+=n*W,T+=n*V,x+=n*Y,P+=n*G,M+=n*Z,C+=n*J,_+=(n=t[14])*B,v+=n*N,w+=n*D,$+=n*U,S+=n*j,k+=n*z,A+=n*F,E+=n*K,I+=n*H,R+=n*q,T+=n*W,x+=n*V,P+=n*Y,M+=n*G,C+=n*Z,O+=n*J,v+=(n=t[15])*B,a+=38*($+=n*D),s+=38*(S+=n*U),c+=38*(k+=n*j),u+=38*(A+=n*z),l+=38*(E+=n*F),d+=38*(I+=n*K),f+=38*(R+=n*H),h+=38*(T+=n*q),p+=38*(x+=n*W),m+=38*(P+=n*V),g+=38*(M+=n*Y),b+=38*(C+=n*G),y+=38*(O+=n*Z),_+=38*(L+=n*J),o=(n=(o+=38*(w+=n*N))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=f,e[8]=h,e[9]=p,e[10]=m,e[11]=g,e[12]=b,e[13]=y,e[14]=_,e[15]=v}function U(e,t){D(e,t,t)}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function z(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r,n){var i,o,a=new Uint8Array(32),c=new Float64Array(80),u=t(),l=t(),d=t(),f=t(),h=t(),p=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,L(c,n),o=0;o<16;o++)l[o]=c[o],f[o]=u[o]=d[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)P(u,l,i=a[o>>>3]>>>(7&o)&1),P(d,f,i),B(h,u,d),N(u,u,d),B(d,l,f),N(l,l,f),U(f,h),U(p,u),D(u,d,u),D(d,l,h),B(h,u,d),N(u,u,d),U(l,u),N(d,f,p),D(u,d,s),B(u,u,f),D(d,d,u),D(u,f,p),D(f,l,c),U(l,h),P(u,l,i),P(d,f,i);for(o=0;o<16;o++)c[o+16]=u[o],c[o+32]=d[o],c[o+48]=l[o],c[o+64]=f[o];var m=c.subarray(32),g=c.subarray(16);return j(m,m),D(g,g,m),M(e,g),0}function K(e,t){return F(e,t,i)}function H(e,t){return r(t,32),K(e,t)}function q(e,t,r){var i=new Uint8Array(32);return F(i,r,t),y(e,n,i,_)}k.prototype.blocks=function(e,t,r){for(var n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$=this.fin?0:2048,S=this.h[0],k=this.h[1],A=this.h[2],E=this.h[3],I=this.h[4],R=this.h[5],T=this.h[6],x=this.h[7],P=this.h[8],M=this.h[9],C=this.r[0],O=this.r[1],L=this.r[2],B=this.r[3],N=this.r[4],D=this.r[5],U=this.r[6],j=this.r[7],z=this.r[8],F=this.r[9];r>=16;)f=d=0,f+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*C,f+=(k+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),f+=(A+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*z),f+=(E+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),d=(f+=(I+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,f&=8191,f+=(R+=s>>>1&8191)*(5*D),f+=(T+=8191&(s>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),f+=(x+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*B),f+=(P+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),h=d+=(f+=(M+=l>>>5|$)*(5*O))>>>13,h+=S*O,h+=k*C,h+=A*(5*F),h+=E*(5*z),d=(h+=I*(5*j))>>>13,h&=8191,h+=R*(5*U),h+=T*(5*D),h+=x*(5*N),h+=P*(5*B),d+=(h+=M*(5*L))>>>13,h&=8191,p=d,p+=S*L,p+=k*O,p+=A*C,p+=E*(5*F),d=(p+=I*(5*z))>>>13,p&=8191,p+=R*(5*j),p+=T*(5*U),p+=x*(5*D),p+=P*(5*N),m=d+=(p+=M*(5*B))>>>13,m+=S*B,m+=k*L,m+=A*O,m+=E*C,d=(m+=I*(5*F))>>>13,m&=8191,m+=R*(5*z),m+=T*(5*j),m+=x*(5*U),m+=P*(5*D),g=d+=(m+=M*(5*N))>>>13,g+=S*N,g+=k*B,g+=A*L,g+=E*O,d=(g+=I*C)>>>13,g&=8191,g+=R*(5*F),g+=T*(5*z),g+=x*(5*j),g+=P*(5*U),b=d+=(g+=M*(5*D))>>>13,b+=S*D,b+=k*N,b+=A*B,b+=E*L,d=(b+=I*O)>>>13,b&=8191,b+=R*C,b+=T*(5*F),b+=x*(5*z),b+=P*(5*j),y=d+=(b+=M*(5*U))>>>13,y+=S*U,y+=k*D,y+=A*N,y+=E*B,d=(y+=I*L)>>>13,y&=8191,y+=R*O,y+=T*C,y+=x*(5*F),y+=P*(5*z),_=d+=(y+=M*(5*j))>>>13,_+=S*j,_+=k*U,_+=A*D,_+=E*N,d=(_+=I*B)>>>13,_&=8191,_+=R*L,_+=T*O,_+=x*C,_+=P*(5*F),v=d+=(_+=M*(5*z))>>>13,v+=S*z,v+=k*j,v+=A*U,v+=E*D,d=(v+=I*N)>>>13,v&=8191,v+=R*B,v+=T*L,v+=x*O,v+=P*C,w=d+=(v+=M*(5*F))>>>13,w+=S*F,w+=k*z,w+=A*j,w+=E*U,d=(w+=I*D)>>>13,w&=8191,w+=R*N,w+=T*B,w+=x*L,w+=P*O,S=f=8191&(d=(d=((d+=(w+=M*C)>>>13)<<2)+d|0)+(f&=8191)|0),k=h+=d>>>=13,A=p&=8191,E=m&=8191,I=g&=8191,R=b&=8191,T=y&=8191,x=_&=8191,P=v&=8191,M=w&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=k,this.h[2]=A,this.h[3]=E,this.h[4]=I,this.h[5]=R,this.h[6]=T,this.h[7]=x,this.h[8]=P,this.h[9]=M},k.prototype.finish=function(e,t){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var W=I,V=R;var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(e,t,r,n){for(var i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x=new Int32Array(16),P=new Int32Array(16),M=e[0],C=e[1],O=e[2],L=e[3],B=e[4],N=e[5],D=e[6],U=e[7],j=t[0],z=t[1],F=t[2],K=t[3],H=t[4],q=t[5],W=t[6],V=t[7],G=0;n>=128;){for($=0;$<16;$++)S=8*$+G,x[$]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],P[$]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for($=0;$<80;$++)if(i=M,o=C,a=O,s=L,c=B,u=N,l=D,U,f=j,h=z,p=F,m=K,g=H,b=q,y=W,V,E=65535&(A=V),I=A>>>16,R=65535&(k=U),T=k>>>16,E+=65535&(A=(H>>>14|B<<18)^(H>>>18|B<<14)^(B>>>9|H<<23)),I+=A>>>16,R+=65535&(k=(B>>>14|H<<18)^(B>>>18|H<<14)^(H>>>9|B<<23)),T+=k>>>16,E+=65535&(A=H&q^~H&W),I+=A>>>16,R+=65535&(k=B&N^~B&D),T+=k>>>16,E+=65535&(A=Y[2*$+1]),I+=A>>>16,R+=65535&(k=Y[2*$]),T+=k>>>16,k=x[$%16],I+=(A=P[$%16])>>>16,R+=65535&k,T+=k>>>16,R+=(I+=(E+=65535&A)>>>16)>>>16,E=65535&(A=w=65535&E|I<<16),I=A>>>16,R=65535&(k=v=65535&R|(T+=R>>>16)<<16),T=k>>>16,E+=65535&(A=(j>>>28|M<<4)^(M>>>2|j<<30)^(M>>>7|j<<25)),I+=A>>>16,R+=65535&(k=(M>>>28|j<<4)^(j>>>2|M<<30)^(j>>>7|M<<25)),T+=k>>>16,I+=(A=j&z^j&F^z&F)>>>16,R+=65535&(k=M&C^M&O^C&O),T+=k>>>16,d=65535&(R+=(I+=(E+=65535&A)>>>16)>>>16)|(T+=R>>>16)<<16,_=65535&E|I<<16,E=65535&(A=m),I=A>>>16,R=65535&(k=s),T=k>>>16,I+=(A=w)>>>16,R+=65535&(k=v),T+=k>>>16,C=i,O=o,L=a,B=s=65535&(R+=(I+=(E+=65535&A)>>>16)>>>16)|(T+=R>>>16)<<16,N=c,D=u,U=l,M=d,z=f,F=h,K=p,H=m=65535&E|I<<16,q=g,W=b,V=y,j=_,$%16==15)for(S=0;S<16;S++)k=x[S],E=65535&(A=P[S]),I=A>>>16,R=65535&k,T=k>>>16,k=x[(S+9)%16],E+=65535&(A=P[(S+9)%16]),I+=A>>>16,R+=65535&k,T+=k>>>16,v=x[(S+1)%16],E+=65535&(A=((w=P[(S+1)%16])>>>1|v<<31)^(w>>>8|v<<24)^(w>>>7|v<<25)),I+=A>>>16,R+=65535&(k=(v>>>1|w<<31)^(v>>>8|w<<24)^v>>>7),T+=k>>>16,v=x[(S+14)%16],I+=(A=((w=P[(S+14)%16])>>>19|v<<13)^(v>>>29|w<<3)^(w>>>6|v<<26))>>>16,R+=65535&(k=(v>>>19|w<<13)^(w>>>29|v<<3)^v>>>6),T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,x[S]=65535&R|T<<16,P[S]=65535&E|I<<16;E=65535&(A=j),I=A>>>16,R=65535&(k=M),T=k>>>16,k=e[0],I+=(A=t[0])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[0]=M=65535&R|T<<16,t[0]=j=65535&E|I<<16,E=65535&(A=z),I=A>>>16,R=65535&(k=C),T=k>>>16,k=e[1],I+=(A=t[1])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[1]=C=65535&R|T<<16,t[1]=z=65535&E|I<<16,E=65535&(A=F),I=A>>>16,R=65535&(k=O),T=k>>>16,k=e[2],I+=(A=t[2])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[2]=O=65535&R|T<<16,t[2]=F=65535&E|I<<16,E=65535&(A=K),I=A>>>16,R=65535&(k=L),T=k>>>16,k=e[3],I+=(A=t[3])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[3]=L=65535&R|T<<16,t[3]=K=65535&E|I<<16,E=65535&(A=H),I=A>>>16,R=65535&(k=B),T=k>>>16,k=e[4],I+=(A=t[4])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[4]=B=65535&R|T<<16,t[4]=H=65535&E|I<<16,E=65535&(A=q),I=A>>>16,R=65535&(k=N),T=k>>>16,k=e[5],I+=(A=t[5])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[5]=N=65535&R|T<<16,t[5]=q=65535&E|I<<16,E=65535&(A=W),I=A>>>16,R=65535&(k=D),T=k>>>16,k=e[6],I+=(A=t[6])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[6]=D=65535&R|T<<16,t[6]=W=65535&E|I<<16,E=65535&(A=V),I=A>>>16,R=65535&(k=U),T=k>>>16,k=e[7],I+=(A=t[7])>>>16,R+=65535&k,T+=k>>>16,T+=(R+=(I+=(E+=65535&A)>>>16)>>>16)>>>16,e[7]=U=65535&R|T<<16,t[7]=V=65535&E|I<<16,G+=128,n-=128}return n}function Z(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G(i,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,h(a,r-8,s/536870912|0,s<<3),G(i,o,a,r),n=0;n<8;n++)h(e,8*n,i[n],o[n]);return 0}function J(e,r){var n=t(),i=t(),o=t(),a=t(),s=t(),c=t(),l=t(),d=t(),f=t();N(n,e[1],e[0]),N(f,r[1],r[0]),D(n,n,f),B(i,e[0],e[1]),B(f,r[0],r[1]),D(i,i,f),D(o,e[3],r[3]),D(o,o,u),D(a,e[2],r[2]),B(a,a,a),N(s,i,n),N(c,a,o),B(l,a,o),B(d,i,n),D(e[0],s,c),D(e[1],d,l),D(e[2],l,c),D(e[3],s,d)}function X(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function Q(e,r){var n=t(),i=t(),o=t();j(o,r[2]),D(n,r[0],o),D(i,r[1],o),M(e,i),e[31]^=O(n)<<7}function ee(e,t,r){var n,i;for(T(e[0],o),T(e[1],a),T(e[2],a),T(e[3],o),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),J(t,e),J(e,e),X(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];T(n[0],l),T(n[1],d),T(n[2],a),D(n[3],l,d),ee(e,n,r)}function re(e,n,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),Z(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),Q(e,s),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function ae(e,r,n,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];Z(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(Z(u,e.subarray(32),n+32),oe(u),te(d,u),Q(e,d),o=32;o<64;o++)e[o]=i[o];for(Z(c,e,n+64),oe(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=c[o]*s[a];return ie(e.subarray(32),l),f}function se(e,r,n,i){var s,u=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),u=t(),l=t(),d=t(),h=t();return T(e[2],a),L(e[1],r),U(s,e[1]),D(u,s,c),N(s,s,e[2]),B(u,e[2],u),U(l,u),U(d,l),D(h,d,l),D(n,h,s),D(n,n,u),z(n,n),D(n,n,s),D(n,n,u),D(n,n,u),D(e[0],n,u),U(i,e[0]),D(i,i,u),C(i,s)&&D(e[0],e[0],f),U(i,e[0]),D(i,i,u),C(i,s)?-1:(O(e[0])===r[31]>>7&&N(e[0],o,e[0]),D(e[3],e[0],e[1]),0)}(h,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Z(l,e,n),oe(l),ee(d,h,l),te(h,r.subarray(32)),J(d,h),Q(u,d),n-=64,g(r,0,u,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ce=16,ue=64,le=32,de=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function he(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:S,crypto_stream:$,crypto_stream_salsa20_xor:v,crypto_stream_salsa20:w,crypto_onetimeauth:A,crypto_onetimeauth_verify:E,crypto_verify_16:m,crypto_verify_32:g,crypto_secretbox:I,crypto_secretbox_open:R,crypto_scalarmult:F,crypto_scalarmult_base:K,crypto_box_beforenm:q,crypto_box_afternm:W,crypto_box:function(e,t,r,n,i,o){var a=new Uint8Array(32);return q(a,i,o),W(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,o){var a=new Uint8Array(32);return q(a,i,o),V(e,t,r,n,a)},crypto_box_keypair:H,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:se,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:M,unpack25519:L,M:D,A:B,S:U,Z:N,pow2523:z,add:J,set25519:T,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){he(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return I(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){he(e,t,r),fe(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ce]=e[o];return n.length<32||0!==R(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(he(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,e,t),r},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){he(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(he(e,t),t.length!==de)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(he(e,t),t.length!==le)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=se(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(he(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==le)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return se(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(de);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(le),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),r=new Uint8Array(de),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){he(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return he(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}else void 0!==commonjsRequire&&(t=require$$0$2)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),lookup$2=[],revLookup$2=[],Arr$2="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)lookup$2[t]=e[t],revLookup$2[e.charCodeAt(t)]=t;revLookup$2["-".charCodeAt(0)]=62,revLookup$2["_".charCodeAt(0)]=63}function toByteArray$2(e){var t,r,n,i,o,a;inited||init();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new Arr$2(3*s/4-o),n=o>0?s-4:s;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=revLookup$2[e.charCodeAt(t)]<<18|revLookup$2[e.charCodeAt(t+1)]<<12|revLookup$2[e.charCodeAt(t+2)]<<6|revLookup$2[e.charCodeAt(t+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=revLookup$2[e.charCodeAt(t)]<<2|revLookup$2[e.charCodeAt(t+1)]>>4,a[c++]=255&i):1===o&&(i=revLookup$2[e.charCodeAt(t)]<<10|revLookup$2[e.charCodeAt(t+1)]<<4|revLookup$2[e.charCodeAt(t+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a}function tripletToBase64$2(e){return lookup$2[e>>18&63]+lookup$2[e>>12&63]+lookup$2[e>>6&63]+lookup$2[63&e]}function encodeChunk$2(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64$2(n));return i.join("")}function fromByteArray$2(e){var t;inited||init();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,c=r-n;s<c;s+=a)o.push(encodeChunk$2(e,s,s+a>c?c:s+a));return 1===n?(t=e[r-1],i+=lookup$2[t>>2],i+=lookup$2[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=lookup$2[t>>10],i+=lookup$2[t>>4&63],i+=lookup$2[t<<2&63],i+="="),o.push(i),o.join("")}function read(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)}function write(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*m}var toString$3={}.toString,isArray$1=Array.isArray||function(e){return"[object Array]"==toString$3.call(e)},INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=void 0===global$2.TYPED_ARRAY_SUPPORT||global$2.TYPED_ARRAY_SUPPORT;var _kMaxLength=kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength$1(t,r),i=(e=createBuffer(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray$1(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength$1(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray$2(e):fromByteArray$2(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return decodeCodePointsArray(n)}Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=isBuffer,Buffer.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!isArray$1(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!internalIsBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer.byteLength=byteLength$1,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r),l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex$2(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,t,r,4),write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,t,r,8),write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=internalIsBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex$2(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}function base64ToBytes(e){return toByteArray$2(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!=e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}var bufferEs6=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:INSPECT_MAX_BYTES,kMaxLength:_kMaxLength,Buffer:Buffer,SlowBuffer:SlowBuffer,isBuffer:isBuffer}),bn$1=createCommonjsModule((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require$$0$2.Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&a<i,"Invalid character"),o+=a}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?d[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],l=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?m+n:d[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],b=8191&g,y=g>>>13,_=0|a[3],v=8191&_,w=_>>>13,$=0|a[4],S=8191&$,k=$>>>13,A=0|a[5],E=8191&A,I=A>>>13,R=0|a[6],T=8191&R,x=R>>>13,P=0|a[7],M=8191&P,C=P>>>13,O=0|a[8],L=8191&O,B=O>>>13,N=0|a[9],D=8191&N,U=N>>>13,j=0|s[0],z=8191&j,F=j>>>13,K=0|s[1],H=8191&K,q=K>>>13,W=0|s[2],V=8191&W,Y=W>>>13,G=0|s[3],Z=8191&G,J=G>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,F))+Math.imul(f,z)|0))<<13)|0;u=((o=Math.imul(f,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(m,z)|0,o=Math.imul(m,F);var be=(u+(n=n+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,F))+Math.imul(y,z)|0,o=Math.imul(y,F),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,q)|0;var ye=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(w,z)|0,o=Math.imul(w,F),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(k,z)|0,o=Math.imul(k,F),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,q)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,J)|0;var ve=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,q)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var $e=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;u=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,F))+Math.imul(C,z)|0,o=Math.imul(C,F),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((o=o+Math.imul(f,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var ke=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,H)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Ae=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,q))+Math.imul(U,H)|0,o=Math.imul(U,q),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(b,de)|0,i=(i=i+Math.imul(b,fe)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,fe)|0;var Ee=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,Y))+Math.imul(U,V)|0,o=Math.imul(U,Y),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,J)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(v,de)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var Ie=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,J))+Math.imul(U,Z)|0,o=Math.imul(U,J),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,fe)|0;var Re=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,n=n+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(E,de)|0,i=(i=i+Math.imul(E,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Te=(u+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,fe)|0;var xe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,fe)|0;var Pe=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(L,de)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,fe)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,fe))+Math.imul(U,de)|0,o=Math.imul(U,fe);var Ce=(u+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Oe=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,me))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=be,c[2]=ye,c[3]=_e,c[4]=ve,c[5]=we,c[6]=$e,c[7]=Se,c[8]=ke,c[9]=Ae,c[10]=Ee,c[11]=Ie,c[12]=Re,c[13]=Te,c[14]=xe,c[15]=Pe,c[16]=Me,c[17]=Ce,c[18]=Oe,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return g(e,t,r)}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?p(this,e,t):r<1024?g(this,e,t):b(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),b(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,c=n.length-o.length;if("mod"!==t){(s=new i(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=n.clone()._ishlnsubmul(o,1,c);0===l.negative&&(n=l,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(o,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=f)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(c)):(n.isub(t),s.isub(o),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},n(v,_),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,_),n($,_),n(S,_),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new $;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return y[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var b=this.pow(d,new i(1).iushln(p-g-1));f=f.redMul(b),d=b.redSqr(),h=h.redMul(d),p=g}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}c=26}return o},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)})),buffer_1=getAugmentedNamespace(bufferEs6),safeBuffer=createCommonjsModule((function(e,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=buffer_1.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=buffer_1:(n(buffer_1,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return buffer_1.SlowBuffer(e)}})),_Buffer=safeBuffer.Buffer;function base$1(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return _Buffer.alloc(0);for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=a*u[f]>>>0,u[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var h=o-i;h!==o&&0===u[h];)h++;var p=_Buffer.allocUnsafe(n+(o-h));p.fill(0,0,n);for(var m=n;h!==o;)p[m++]=u[h++];return p}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=_Buffer.from(t)),!_Buffer.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,h=c-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var m=s.repeat(r);p<c;++p)m+=e.charAt(l[p]);return m},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}var src$1=base$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=src$1(ALPHABET);function inRange(e,t,r){return t<=e&&e<=r}function ToDictionary(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,c=1023&a;i.push(65536+(s<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function codePointsToString(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}var end_of_stream=-1;function Stream(e){this.tokens=[].slice.call(e)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var finished=-1;function decoderError(e,t){if(e)throw TypeError("Decoder error");return t||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(e,t){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(e,t);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function TextEncoder$1(e,t){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(e,t);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function UTF8Decoder(e){var t=e.fatal,r=0,n=0,i=0,o=128,a=191;this.handler=function(e,s){if(s===end_of_stream&&0!==i)return i=0,decoderError(t);if(s===end_of_stream)return finished;if(0===i){if(inRange(s,0,127))return s;if(inRange(s,194,223))i=1,r=s-192;else if(inRange(s,224,239))224===s&&(o=160),237===s&&(a=159),i=2,r=s-224;else{if(!inRange(s,240,244))return decoderError(t);240===s&&(o=144),244===s&&(a=143),i=3,r=s-240}return r<<=6*i,null}if(!inRange(s,o,a))return r=i=n=0,o=128,a=191,e.prepend(s),decoderError(t);if(o=128,a=191,r+=s-128<<6*(i-(n+=1)),n!==i)return null;var c=r;return r=i=n=0,c}}function UTF8Encoder(e){e.fatal,this.handler=function(e,t){if(t===end_of_stream)return finished;if(inRange(t,0,127))return t;var r,n;inRange(t,128,2047)?(r=1,n=192):inRange(t,2048,65535)?(r=2,n=224):inRange(t,65536,1114111)&&(r=3,n=240);for(var i=[(t>>6*r)+n];r>0;){var o=t>>6*(r-1);i.push(128|63&o),r-=1}return i}}TextDecoder$1.prototype={decode:function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=ToDictionary(t),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,i=new Stream(r),o=[];!i.endOfStream()&&(n=this._decoder.handler(i,i.read()))!==finished;)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if((n=this._decoder.handler(i,i.read()))===finished)break;null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),codePointsToString(o)}},TextEncoder$1.prototype={encode:function(e,t){e=e?String(e):"",t=ToDictionary(t),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],i=new Stream(stringToCodePoints(e));!i.endOfStream()&&(r=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}};var encoding_lib=Object.freeze({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1}),require$$2=getAugmentedNamespace(encoding_lib),lib$3=createCommonjsModule((function(e,t){var r=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const s=a(bn$1),c=a(bs58),u=o(require$$2),l=new("function"!=typeof commonjsGlobal$1.TextDecoder?u.TextDecoder:commonjsGlobal$1.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),c.default.encode(Buffer.from(e))},t.baseDecode=function(e){return Buffer.from(c.default.decode(e))};const d=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class h{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(d)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function p(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new f("Reached the end of buffer when deserializing")}throw e}}}t.BinaryWriter=h;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new s.default(e,"le")}readU128(){const e=this.readBuffer(16);return new s.default(e,"le")}readU256(){const e=this.readBuffer(32);return new s.default(e,"le")}readU512(){const e=this.readBuffer(64);return new s.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return l.decode(t)}catch(e){throw new f(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"==typeof n)i[`write${g(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else i.writeArray(r,(r=>{b(e,t,r,n[0],i)}));else if(void 0!==n.kind){if("option"!==n.kind)throw new f(`FieldType ${n} unrecognized`);null==r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i))}else y(e,r,i)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function y(e,t,r){const n=e.get(t.constructor);if(!n)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{b(e,n,t[n],i,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let o=0;o<n.values.length;++o){const[a,s]=n.values[o];if(a===i){r.writeU8(o),b(e,a,t[a],s,r);break}}}}}function _(e,t,r,n){try{if("string"==typeof r)return n[`read${g(r)}`]();if(r instanceof Array)return"number"==typeof r[0]?n.readFixedArray(r[0]):n.readArray((()=>_(e,t,r[0],n)));if("option"===r.kind){return n.readU8()?_(e,t,r.type,n):void 0}return v(e,r,n)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function v(e,t,r){const n=e.get(t);if(!n)throw new f(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of e.get(t).fields)n[i]=_(e,i,o,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,a]=n.values[i];return new t({[o]:_(e,o,a,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}i([p],m.prototype,"readU8",null),i([p],m.prototype,"readU16",null),i([p],m.prototype,"readU32",null),i([p],m.prototype,"readU64",null),i([p],m.prototype,"readU128",null),i([p],m.prototype,"readU256",null),i([p],m.prototype,"readU512",null),i([p],m.prototype,"readString",null),i([p],m.prototype,"readFixedArray",null),i([p],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t){const r=new h;return y(e,t,r),r.toArray()},t.deserialize=function(e,t,r){const n=new m(r),i=v(e,t,n);if(n.offset<r.length)throw new f(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,r){return v(e,t,new m(r))}})),Layout_1$1=createCommonjsModule((function(e,t){var r,n=commonjsGlobal$1&&commonjsGlobal$1.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),buffer_1.Buffer.from(e.buffer,e.byteOffset,e.length)}t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0,t.checkUint8Array=i,t.uint8ArrayToBuffer=o;var a=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,r){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function s(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=a,t.nameWithProperty=s,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(a);t.ExternalLayout=c;var u=function(e){function t(t,r){var n=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(n=e.call(this,-1,r)||this).elementSpan=t,n}return n(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){i(e),void 0===t&&(t=0);var r=e.length-t;return Math.floor(r/this.elementSpan)},t.prototype.encode=function(e,t,r){return 0},t}(c);t.GreedyCount=u;var l=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,n||t.property)||this).layout=t,i.offset=r,i}return n(t,e),t.prototype.isCount=function(){return this.layout instanceof d||this.layout instanceof f},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)},t}(c);t.OffsetLayout=l;var d=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntLE(e,r,this.span),this.span},t}(a);t.UInt=d;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntBE(e,r,this.span),this.span},t}(a);t.UIntBE=f;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntLE(e,r,this.span),this.span},t}(a);t.Int=h;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntBE(e,r,this.span),this.span},t}(a);t.IntBE=p;var m=Math.pow(2,32);function g(e){var t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function b(e,t){return e*m+t}var y=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readUInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=g(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8},t}(a);t.NearUInt64=y;var _=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readUInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=g(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearUInt64BE=_;var v=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=g(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8},t}(a);t.NearInt64=v;var w=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=g(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearInt64BE=w;var $=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatLE(e,r),4},t}(a);t.Float=$;var S=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatBE(e,r),4},t}(a);t.FloatBE=S;var k=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleLE(e,r),8},t}(a);t.Double=k;var A=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleBE(e,r),8},t}(a);t.DoubleBE=A;var E=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof c&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var o=-1;return!(r instanceof c)&&0<t.span&&(o=r*t.span),(i=e.call(this,o,n)||this).elementLayout=t,i.count=r,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else for(var i=0;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i;return r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=[],n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.elementLayout,i=e.reduce((function(e,i){return e+n.encode(i,t,r+e)}),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i},t}(a);t.Sequence=E;var I=function(e){function t(t,r,n){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof a}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof r&&void 0===n&&(n=r,r=void 0);for(var o=0,s=t;o<s.length;o++){var c=s[o];if(0>c.span&&void 0===c.property)throw new Error("fields cannot contain unnamed variable-length layout")}var u=-1;try{u=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(e){}return(i=e.call(this,u,r)||this).fields=t,i.decodePrefixes=!!n,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;try{r=this.fields.reduce((function(r,n){var i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r},t.prototype.decode=function(e,t){i(e),void 0===t&&(t=0);for(var r=this.makeDestinationObject(),n=0,o=this.fields;n<o.length;n++){var a=o[n];if(void 0!==a.property&&(r[a.property]=a.decode(e,t)),t+=a.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);for(var n=r,i=0,o=0,a=0,s=this.fields;a<s.length;a++){var c=s[a],u=c.span;if(o=0<u?u:0,void 0!==c.property){var l=e[c.property];void 0!==l&&(o=c.encode(l,t,r),0>u&&(u=c.getSpan(t,r)))}i=r,r+=u}return i+o-n},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),r=0,n=this.fields;r<n.length;r++){var i=n[r];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t.prototype.offsetOf=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,r=0,n=this.fields;r<n.length;r++){var i=n[r];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(a);t.Structure=I;var R=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,r){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=R;var T=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(n=e.call(this,r||t.property||"variant")||this).layout=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,r){return this.layout.encode(e,t,r)},t}(R);t.UnionLayoutDiscriminator=T;var x=function(e){function t(t,r,n){var i,o=this,s=t instanceof d||t instanceof f;if(s)i=new T(new l(t));else if(t instanceof c&&t.isCount())i=new T(t);else{if(!(t instanceof R))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===r&&(r=null),!(null===r||r instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}var u=-1;r&&0<=(u=r.span)&&s&&(u+=i.layout.span),(o=e.call(this,u,n)||this).discriminator=i,o.usesPrefixDiscriminator=s,o.defaultLayout=r,o.registry={};var h=o.defaultGetSourceVariant.bind(o);return o.getSourceVariant=function(e){return h(e)},o.configGetSourceVariant=function(e){h=e.bind(this)},o}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((r=this.registry[e[this.discriminator.property]])&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(var t in this.registry){var r;if((r=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var r;void 0===t&&(t=0);var n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){var a=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[a.property]=a.decode(e,t+s)}else r=o.decode(e,t);return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.getSourceVariant(e);if(void 0===n){var i=this.discriminator,o=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return n.encode(e,t,r)},t.prototype.addVariant=function(e,t,r){var n=new P(this,e,t,r);return this.registry[e]=n,n},t.prototype.getVariant=function(e,t){var r;return e instanceof Uint8Array?(void 0===t&&(t=0),r=this.discriminator.decode(e,t)):r=e,this.registry[r]},t}(a);t.Union=x;var P=function(e){function t(t,r,n,i){var o=this;if(!(t instanceof x))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof a))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}var s=t.span;return 0>t.span&&0<=(s=n?n.span:0)&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span),(o=e.call(this,s,i)||this).union=t,o.variant=r,o.layout=n||null,o}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n},t.prototype.decode=function(e,t){var r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;return this.layout?r[i]=this.layout.decode(e,t+n):i?r[i]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,r);var o=n;if(this.layout&&(this.layout.encode(e[i],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(a);function M(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=P;var C=function(e){function t(t,r,n){var i=this;if(!(t instanceof d||t instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof r&&void 0===n&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,n)||this).word=t,i.msb=!!r,i.fields=[];var o=0;return i._packedSetValue=function(e){return o=M(e),this},i._packedGetValue=function(){return o},i}return n(t,e),t.prototype.decode=function(e,t){var r=this.makeDestinationObject();void 0===t&&(t=0);var n=this.word.decode(e,t);this._packedSetValue(n);for(var i=0,o=this.fields;i<o.length;i++){var a=o[i];void 0!==a.property&&(r[a.property]=a.decode(n))}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.word.decode(t,r);this._packedSetValue(n);for(var i=0,o=this.fields;i<o.length;i++){var a=o[i];if(void 0!==a.property){var s=e[a.property];void 0!==s&&a.encode(s)}}return this.word.encode(this._packedGetValue(),t,r)},t.prototype.addField=function(e,t){var r=new O(this,e,t);return this.fields.push(r),r},t.prototype.addBoolean=function(e){var t=new L(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!=typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t}(a);t.BitStructure=C;var O=function(){function e(e,t,r){if(!(e instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var n=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=M(this.valueMask<<this.start),this.property=r}return e.prototype.decode=function(e,t){return M(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==M(e&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),r=M(e<<this.start);this.container._packedSetValue(M(t&~this.wordMask)|r)},e}();t.BitField=O;var L=function(e){function t(t,r){return e.call(this,t,1,r)||this}return n(t,e),t.prototype.decode=function(e,t){return!!O.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"==typeof e&&(e=+e),O.prototype.encode.call(this,e)},t}(O);t.Boolean=L;var B=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof c||(i=t),(n=e.call(this,i,r)||this).length=t,n}return n(t,e),t.prototype.getSpan=function(e,t){var r=this.span;return 0>r&&(r=this.length.decode(e,t)),r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)},t.prototype.encode=function(e,t,r){var n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");var i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n},t}(a);t.Blob=B;var N=function(e){function t(t){return e.call(this,-1,t)||this}return n(t,e),t.prototype.getSpan=function(e,t){i(e),void 0===t&&(t=0);for(var r=t;r<e.length&&0!==e[r];)r+=1;return 1+r-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());var n=buffer_1.Buffer.from(e,"utf8"),i=n.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");var a=o(t);return n.copy(a,r),a[r+i]=0,i+1},t}(a);t.CString=N;var D=function(e){function t(t,r){var n=this;if("string"==typeof t&&void 0===r&&(r=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(n=e.call(this,-1,r)||this).maxSpan=t,n}return n(t,e),t.prototype.getSpan=function(e,t){return i(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());var n=buffer_1.Buffer.from(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(o(t),r),i},t}(a);t.UTF8=D;var U=function(e){function t(t,r){var n=e.call(this,0,r)||this;return n.value=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,r){return 0},t}(a);t.Constant=U,t.greedy=function(e,t){return new u(e,t)},t.offset=function(e,t,r){return new l(e,t,r)},t.u8=function(e){return new d(1,e)},t.u16=function(e){return new d(2,e)},t.u24=function(e){return new d(3,e)},t.u32=function(e){return new d(4,e)},t.u40=function(e){return new d(5,e)},t.u48=function(e){return new d(6,e)},t.nu64=function(e){return new y(e)},t.u16be=function(e){return new f(2,e)},t.u24be=function(e){return new f(3,e)},t.u32be=function(e){return new f(4,e)},t.u40be=function(e){return new f(5,e)},t.u48be=function(e){return new f(6,e)},t.nu64be=function(e){return new _(e)},t.s8=function(e){return new h(1,e)},t.s16=function(e){return new h(2,e)},t.s24=function(e){return new h(3,e)},t.s32=function(e){return new h(4,e)},t.s40=function(e){return new h(5,e)},t.s48=function(e){return new h(6,e)},t.ns64=function(e){return new v(e)},t.s16be=function(e){return new p(2,e)},t.s24be=function(e){return new p(3,e)},t.s32be=function(e){return new p(4,e)},t.s40be=function(e){return new p(5,e)},t.s48be=function(e){return new p(6,e)},t.ns64be=function(e){return new w(e)},t.f32=function(e){return new $(e)},t.f32be=function(e){return new S(e)},t.f64=function(e){return new k(e)},t.f64be=function(e){return new A(e)},t.struct=function(e,t,r){return new I(e,t,r)},t.bits=function(e,t,r){return new C(e,t,r)},t.seq=function(e,t,r){return new E(e,t,r)},t.union=function(e,t,r){return new x(e,t,r)},t.unionLayoutDiscriminator=function(e,t){return new T(e,t)},t.blob=function(e,t){return new B(e,t)},t.cstr=function(e){return new N(e)},t.utf8=function(e,t){return new D(e,t)},t.constant=function(e,t){return new U(e,t)}}));class StructError extends TypeError{constructor(e,t){let r;const{message:n,...i}=e,{path:o}=e;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function isIterable(e){return isObject$2(e)&&"function"==typeof e[Symbol.iterator]}function isObject$2(e){return"object"==typeof e&&null!=e}function print(e){return"string"==typeof e?JSON.stringify(e):""+e}function shiftIterator(e){const{done:t,value:r}=e.next();return t?void 0:r}function toFailure(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:c="Expected a value of type `"+a+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+print(n)+"`"}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*toFailures(e,t,r,n){isIterable(e)||(e=[e]);for(const i of e){const e=toFailure(i,t,r,n);e&&(yield e)}}function*run(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(e=t.coercer(e,s),a&&"type"!==t.type&&isObject$2(t.schema)&&isObject$2(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let c=!0;for(const r of t.validator(e,s))c=!1,yield[r,void 0];for(let[r,u,l]of t.entries(e,s)){const t=run(u,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,u],coerce:o,mask:a});for(const n of t)n[0]?(c=!1,yield[n[0],void 0]):o&&(u=n[1],void 0===r?e=u:e instanceof Map?e.set(r,u):e instanceof Set?e.add(u):isObject$2(e)&&(e[r]=u))}if(c)for(const r of t.refiner(e,s))c=!1,yield[r,void 0];c&&(yield[void 0,e])}class Struct$1{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,this.validator=n?(e,t)=>toFailures(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>toFailures(i(e,t),t,this,e):()=>[]}assert(e){return assert$j(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,t={}){return validate(e,this,t)}}function assert$j(e,t){const r=validate(e,t);if(r[0])throw r[0]}function create(e,t){const r=validate(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function mask(e,t){const r=validate(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function is(e,t){return!validate(e,t)[0]}function validate(e,t,r={}){const n=run(e,t,r),i=shiftIterator(n);if(i[0]){return[new StructError(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function define(e,t){return new Struct$1({type:e,schema:null,validator:t})}function any(){return define("any",(()=>!0))}function array(e){return new Struct$1({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+print(e)})}function boolean(){return define("boolean",(e=>"boolean"==typeof e))}function instance$z(e){return define("instance",(t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+print(t)))}function literal(e){const t=print(e),r=typeof e;return new Struct$1({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+print(r)})}function never(){return define("never",(()=>!1))}function nullable(e){return new Struct$1({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function number(){return define("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+print(e)))}function optional(e){return new Struct$1({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function record(e,t){return new Struct$1({type:"record",schema:null,*entries(r){if(isObject$2(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>isObject$2(e)||"Expected an object, but received: "+print(e)})}function string(){return define("string",(e=>"string"==typeof e||"Expected a string, but received: "+print(e)))}function tuple(e){const t=never();return new Struct$1({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+print(e)})}function type(e){const t=Object.keys(e);return new Struct$1({type:"type",schema:e,*entries(r){if(isObject$2(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>isObject$2(e)||"Expected an object, but received: "+print(e)})}function union$1(e){const t=e.map((e=>e.type)).join(" | ");return new Struct$1({type:"union",schema:null,validator(r,n){const i=[];for(const t of e){const[...e]=run(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+print(r),...i]}})}function unknown(){return define("unknown",(()=>!0))}function coerce(e,t,r){return new Struct$1({...e,coercer:(n,i)=>is(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var interopRequireDefault=createCommonjsModule((function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0})),classCallCheck=createCommonjsModule((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0})),setPrototypeOf=createCommonjsModule((function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),inherits$3=createCommonjsModule((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&setPrototypeOf(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),_typeof_1=createCommonjsModule((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),assertThisInitialized=createCommonjsModule((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0})),possibleConstructorReturn=createCommonjsModule((function(e){var t=_typeof_1.default;e.exports=function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(e)},e.exports.default=e.exports,e.exports.__esModule=!0})),getPrototypeOf$2=createCommonjsModule((function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),createClass=createCommonjsModule((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0})),eventemitter3=createCommonjsModule((function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})),websocket_browser=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new c(e,t)};var r=interopRequireDefault(classCallCheck),n=interopRequireDefault(createClass),i=interopRequireDefault(inherits$3),o=interopRequireDefault(possibleConstructorReturn),a=interopRequireDefault(getPrototypeOf$2);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var i=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var c=function(e){(0,i.default)(o,e);var t=s(o);function o(e,n,i){var a;return(0,r.default)(this,o),(a=t.call(this)).socket=new window.WebSocket(e,i),a.socket.onopen=function(){return a.emit("open")},a.socket.onmessage=function(e){return a.emit("message",e.data)},a.socket.onerror=function(e){return a.emit("error",e)},a.socket.onclose=function(e){a.emit("close",e.code,e.reason)},a}return(0,n.default)(o,[{key:"send",value:function(e,t,r){var n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,r){this.socket.addEventListener(e,t,r)}}]),o}(eventemitter3.EventEmitter)})),runtime_1=createCommonjsModule((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new R(n||[]);return o._invoke=function(e,t,r){var n=d;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?p:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function b(){}function y(){}var _={};c(_,o,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(T([])));w&&w!==r&&n.call(w,o)&&(_=w);var $=y.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function A(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return b.prototype=y,c($,"constructor",y),c(y,"constructor",b),b.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create($),e},e.awrap=function(e){return{__await:e}},S(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new k(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S($),c($,s,"Generator"),c($,o,(function(){return this})),c($,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),regenerator=runtime_1,asyncToGenerator=createCommonjsModule((function(e){function t(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,c,"next",e)}function c(e){t(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0})),specialChar="~",safeSpecialChar="\\x"+("0"+specialChar.charCodeAt(0).toString(16)).slice(-2),escapedSafeSpecialChar="\\"+safeSpecialChar,specialCharRG=new RegExp(safeSpecialChar,"g"),safeSpecialCharRG=new RegExp(escapedSafeSpecialChar,"g"),safeStartWithSpecialCharRG=new RegExp("(?:^|([^\\\\]))"+escapedSafeSpecialChar),indexOf=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},$String=String;function generateReplacer(e,t,r){var n,i,o=!1,a=!!t,s=[],c=[e],u=[e],l=[r?specialChar:"[Circular]"],d=e,f=1;return a&&(i="object"==typeof t?function(e,r){return""!==e&&t.indexOf(e)<0?void 0:r}:t),function(e,t){return a&&(t=i.call(this,e,t)),o?(d!==this&&(n=f-indexOf.call(c,this)-1,f-=n,c.splice(f,c.length),s.splice(f-1,s.length),d=this),"object"==typeof t&&t?(indexOf.call(c,t)<0&&c.push(d=t),f=c.length,(n=indexOf.call(u,t))<0?(n=u.push(t)-1,r?(s.push((""+e).replace(specialCharRG,safeSpecialChar)),l[n]=specialChar+s.join(specialChar)):l[n]=l[0]):t=l[n]):"string"==typeof t&&r&&(t=t.replace(safeSpecialChar,escapedSafeSpecialChar).replace(specialChar,safeSpecialChar))):o=!0,t}}function retrieveFromPath(e,t){for(var r=0,n=t.length;r<n;e=e[t[r++].replace(safeSpecialCharRG,specialChar)]);return e}function generateReviver(e){return function(t,r){var n="string"==typeof r;return n&&r.charAt(0)===specialChar?new $String(r.slice(1)):(""===t&&(r=regenerate(r,r,{})),n&&(r=r.replace(safeStartWithSpecialCharRG,"$1"+specialChar).replace(escapedSafeSpecialChar,safeSpecialChar)),e?e.call(this,t,r):r)}}function regenerateArray(e,t,r){for(var n=0,i=t.length;n<i;n++)t[n]=regenerate(e,t[n],r);return t}function regenerateObject(e,t,r){for(var n in t)t.hasOwnProperty(n)&&(t[n]=regenerate(e,t[n],r));return t}function regenerate(e,t,r){return t instanceof Array?regenerateArray(e,t,r):t instanceof $String?t.length?r.hasOwnProperty(t)?r[t]:r[t]=retrieveFromPath(e,t.split(specialChar)):e:t instanceof Object?regenerateObject(e,t,r):t}for(var CircularJSON={stringify:function(e,t,r,n){return CircularJSON.parser.stringify(e,generateReplacer(e,t,!n),r)},parse:function(e,t){return CircularJSON.parser.parse(e,generateReviver(t))},parser:JSON},circularJson_node=CircularJSON,client=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=interopRequireDefault(regenerator),n=interopRequireDefault(asyncToGenerator),i=interopRequireDefault(_typeof_1),o=interopRequireDefault(classCallCheck),a=interopRequireDefault(createClass),s=interopRequireDefault(inherits$3),c=interopRequireDefault(possibleConstructorReturn),u=interopRequireDefault(getPrototypeOf$2),l=interopRequireDefault(circularJson_node);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},h=function(e){(0,s.default)(m,e);var t,c,u,h,p=d(m);function m(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,o.default)(this,m);var a=n.autoconnect,s=void 0===a||a,c=n.reconnect,u=void 0===c||c,l=n.reconnect_interval,d=void 0===l?1e3:l,h=n.max_reconnects,g=void 0===h?5:h,b=f(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(t=p.call(this)).webSocketFactory=e,t.queue={},t.rpc_id=0,t.address=r,t.autoconnect=s,t.ready=!1,t.reconnect=u,t.reconnect_interval=d,t.max_reconnects=g,t.rest_options=b,t.current_reconnects=0,t.generate_request_id=i||function(){return++t.rpc_id},t.autoconnect&&t._connect(t.address,Object.assign({autoconnect:t.autoconnect,reconnect:t.reconnect,reconnect_interval:t.reconnect_interval,max_reconnects:t.max_reconnects},t.rest_options)),t}return(0,a.default)(m,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(e,t,r,n){var o=this;return n||"object"!==(0,i.default)(r)||(n=r,r=null),new Promise((function(i,a){if(!o.ready)return a(new Error("socket not ready"));var s=o.generate_request_id(e,t),c={jsonrpc:"2.0",method:e,params:t||null,id:s};o.socket.send(JSON.stringify(c),n,(function(e){if(e)return a(e);o.queue[s]={promise:[i,a]},r&&(o.queue[s].timeout=setTimeout((function(){delete o.queue[s],a(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(h=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rpc.login",t);case 2:if(n=e.sent){e.next=5;break}throw new Error("authentication failed");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"listMethods",value:(u=(0,n.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("__listMethods");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"notify",value:function(e,t){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:e,params:t||null};r.socket.send(JSON.stringify(o),(function(e){if(e)return i(e);n()}))}))}},{key:"subscribe",value:(c=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.on",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"unsubscribe",value:(t=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.off",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"close",value:function(e,t){this.socket.close(e||1e3,t)}},{key:"_connect",value:function(e,t){var r=this;this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var t=e.data;t instanceof ArrayBuffer&&(t=Buffer.from(t).toString());try{t=l.default.parse(t)}catch(e){return}if(t.notification&&r.listeners(t.notification).length){if(!Object.keys(t.params).length)return r.emit(t.notification);var n=[t.notification];if(t.params.constructor===Object)n.push(t.params);else for(var i=0;i<t.params.length;i++)n.push(t.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[t.id])return t.method&&t.params?Promise.resolve().then((function(){r.emit(t.method,t.params)})):void 0;"error"in t=="result"in t&&r.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[t.id].timeout&&clearTimeout(r.queue[t.id].timeout),t.error?r.queue[t.id].promise[1](t.error):r.queue[t.id].promise[0](t.result),delete r.queue[t.id]})),this.socket.addEventListener("error",(function(e){return r.emit("error",e)})),this.socket.addEventListener("close",(function(n){var i=n.code,o=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,o)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&setTimeout((function(){return r._connect(e,t)}),r.reconnect_interval))}))}}]),m}(eventemitter3.EventEmitter);t.default=h})),index_browser=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var r=interopRequireDefault(classCallCheck),n=interopRequireDefault(inherits$3),i=interopRequireDefault(possibleConstructorReturn),o=interopRequireDefault(getPrototypeOf$2),a=interopRequireDefault(websocket_browser);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.default)(e);if(t){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var c=function(e){(0,n.default)(i,e);var t=s(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.autoconnect,s=void 0===o||o,c=n.reconnect,u=void 0===c||c,l=n.reconnect_interval,d=void 0===l?1e3:l,f=n.max_reconnects,h=void 0===f?5:f,p=arguments.length>2?arguments[2]:void 0;return(0,r.default)(this,i),t.call(this,a.default,e,{autoconnect:s,reconnect:u,reconnect_interval:d,max_reconnects:h},p)}return i}(interopRequireDefault(client).default);t.Client=c})),rngBrowser=createCommonjsModule((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}})),byteToHex=[],i$2=0;i$2<256;++i$2)byteToHex[i$2]=(i$2+256).toString(16).substr(1);function bytesToUuid(e,t){var r=t||0,n=byteToHex;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var bytesToUuid_1=bytesToUuid;function v4(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||rngBrowser)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||bytesToUuid_1(i)}var v4_1=v4;const generateRequest=function(e,t,r,n){if("string"!=typeof e)throw new TypeError(e+" must be a string");const i="number"==typeof(n=n||{}).version?n.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const o={method:e};if(2===i&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===r){const e="function"==typeof n.generator?n.generator:function(){return v4_1()};o.id=e(o,n)}else 2===i&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o};var generateRequest_1=generateRequest;const ClientBrowser=function(e,t){if(!(this instanceof ClientBrowser))return new ClientBrowser(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return v4_1()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(e,t,r,n){const i=this;let o=null;const a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof t)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);const i="function"==typeof n;try{o=generateRequest_1(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(i)return n(e);throw e}if(!i)return o}let s;try{s=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(s,(function(e,t){i._parseResponse(e,t,n)})),o},ClientBrowser.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)};const errors$1={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$i(e,t){if(!e)throw new Error(t)}function isUint8Array(e,t,r){if(assert$i(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;assert$i(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;assert$i(t.length===r,n)}}function isCompressed(e){assert$i("Boolean"===toTypeString(e),"Expected compressed to be a Boolean")}function getAssertedOutput(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),isUint8Array("output",e,t),e}function toTypeString(e){return Object.prototype.toString.call(e).slice(8,-1)}var lib$2=e=>({contextRandomize(t){if(assert$i(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&isUint8Array("seed",t,32),1===e.contextRandomize(t))throw new Error(errors$1.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:t=>(isUint8Array("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(isUint8Array("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(errors$1.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(errors$1.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(errors$1.TWEAK_MUL)}},publicKeyVerify:t=>(isUint8Array("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(isUint8Array("private key",t,32),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(errors$1.SECKEY_INVALID);case 2:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE);case 3:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){assert$i(Array.isArray(t),"Expected public keys to be an Array"),assert$i(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)isUint8Array("public key",e,[33,65]);switch(isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.PUBKEY_COMBINE);case 3:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.TWEAK_MUL)}},signatureNormalize(t){switch(isUint8Array("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(errors$1.SIG_PARSE)}},signatureExport(t,r){isUint8Array("signature",t,64);const n={output:r=getAssertedOutput(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch(isUint8Array("signature",t),r=getAssertedOutput(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},i){isUint8Array("message",t,32),isUint8Array("private key",r,32),assert$i("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.noncefn&&assert$i("Function"===toTypeString(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=getAssertedOutput(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(errors$1.SIGN);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch(isUint8Array("signature",t,64),isUint8Array("message",r,32),isUint8Array("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,i=!0,o){switch(isUint8Array("signature",t,64),assert$i("Number"===toTypeString(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",n,32),isCompressed(i),o=getAssertedOutput(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.RECOVER);case 3:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},i){switch(isUint8Array("public key",t,[33,65]),isUint8Array("private key",r,32),assert$i("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.hashfn?(assert$i("Function"===toTypeString(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&isUint8Array("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&isUint8Array("options.ybuf",n.ybuf,32),isUint8Array("output",i)):i=getAssertedOutput(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.ECDH)}}}),_from="elliptic@^6.5.2",_id="elliptic@6.5.4",_inBundle=!1,_integrity="sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location="/elliptic",_phantomChildren={},_requested={type:"range",registry:!0,raw:"elliptic@^6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.2",saveSpec:null,fetchSpec:"^6.5.2"},_requiredBy=["/browserify-sign","/create-ecdh","/secp256k1"],_resolved="https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum="da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec="elliptic@^6.5.2",_where="/home/imentus/iMentus-Projects/jet-v1/app/node_modules/secp256k1",author={name:"Fedor Indutny",email:"fedor@indutny.com"},bugs={url:"https://github.com/indutny/elliptic/issues"},bundleDependencies=!1,dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated=!1,description="EC cryptography",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files=["lib"],homepage="https://github.com/indutny/elliptic",keywords=["EC","Elliptic","curve","Cryptography"],license="MIT",main="lib/elliptic.js",name="elliptic",repository={type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version$4="6.5.4",require$$0$1={_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_shasum:_shasum,_spec:_spec,_where:_where,author:author,bugs:bugs,bundleDependencies:bundleDependencies,dependencies:dependencies,deprecated:deprecated,description:description,devDependencies:devDependencies,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,repository:repository,scripts:scripts,version:version$4},bn=createCommonjsModule((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require$$0$2.Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var f=l[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],b=8191&g,y=g>>>13,_=0|a[3],v=8191&_,w=_>>>13,$=0|a[4],S=8191&$,k=$>>>13,A=0|a[5],E=8191&A,I=A>>>13,R=0|a[6],T=8191&R,x=R>>>13,P=0|a[7],M=8191&P,C=P>>>13,O=0|a[8],L=8191&O,B=O>>>13,N=0|a[9],D=8191&N,U=N>>>13,j=0|s[0],z=8191&j,F=j>>>13,K=0|s[1],H=8191&K,q=K>>>13,W=0|s[2],V=8191&W,Y=W>>>13,G=0|s[3],Z=8191&G,J=G>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,F))+Math.imul(f,z)|0))<<13)|0;u=((o=Math.imul(f,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(m,z)|0,o=Math.imul(m,F);var be=(u+(n=n+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,F))+Math.imul(y,z)|0,o=Math.imul(y,F),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,q)|0;var ye=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,F))+Math.imul(w,z)|0,o=Math.imul(w,F),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,q)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(k,z)|0,o=Math.imul(k,F),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,q)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,J)|0;var ve=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,F))+Math.imul(I,z)|0,o=Math.imul(I,F),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,q)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(x,z)|0,o=Math.imul(x,F),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var $e=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;u=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,F))+Math.imul(C,z)|0,o=Math.imul(C,F),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,q)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((o=o+Math.imul(f,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(B,z)|0,o=Math.imul(B,F),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var ke=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,F))+Math.imul(U,z)|0,o=Math.imul(U,F),n=n+Math.imul(L,H)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,q)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Ae=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,q))+Math.imul(U,H)|0,o=Math.imul(U,q),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(b,de)|0,i=(i=i+Math.imul(b,fe)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,fe)|0;var Ee=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,Y))+Math.imul(U,V)|0,o=Math.imul(U,Y),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,J)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(v,de)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var Ie=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,J))+Math.imul(U,Z)|0,o=Math.imul(U,J),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,fe)|0;var Re=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,n=n+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(E,de)|0,i=(i=i+Math.imul(E,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Te=(u+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,fe)|0;var xe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,fe)|0;var Pe=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(L,de)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,fe)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,fe))+Math.imul(U,de)|0,o=Math.imul(U,fe);var Ce=(u+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Oe=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,me))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=be,c[2]=ye,c[3]=_e,c[4]=ve,c[5]=we,c[6]=$e,c[7]=Se,c[8]=ke,c[9]=Ae,c[10]=Ee,c[11]=Ie,c[12]=Re,c[13]=Te,c[14]=xe,c[15]=Pe,c[16]=Me,c[17]=Ce,c[18]=Oe,0!==u&&(c[19]=u,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=f),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?h(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var d=c,f=u,h=0;h<a;h++){var p=r[l+h],m=n[l+h],g=r[l+h+a],b=n[l+h+a],y=d*g-f*b;b=d*b+f*g,g=y,r[l+h]=p+g,n[l+h]=m+b,r[l+h+a]=p-g,n[l+h+a]=m-b,h!==s&&(y=c*d-u*f,f=c*f+u*d,d=y)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,l,d,n,i);for(var h=0;h<n;h++){var p=s[h]*l[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,c=n.length-o.length;if("mod"!==t){(s=new i(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=n.clone()._ishlnsubmul(o,1,c);0===l.negative&&(n=l,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(o,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=f)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(c)):(n.isub(t),s.isub(o),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new $(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){$.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(y,b),y.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,b),n(v,b),n(w,b),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new _;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},$.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},$.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},$.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},$.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},$.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},$.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},$.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},$.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},$.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},$.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},$.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},$.prototype.isqr=function(e){return this.imul(e,e.clone())},$.prototype.sqr=function(e){return this.mul(e,e)},$.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,o),f=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var b=this.pow(d,new i(1).iushln(p-g-1));f=f.redMul(b),d=b.redSqr(),h=h.redMul(d),p=g}return f},$.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},$.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}c=26}return o},$.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},$.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,$),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)})),minimalisticAssert$1=assert$h;function assert$h(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$h.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1$1=createCommonjsModule((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1=createCommonjsModule((function(e,t){var r=t;r.assert=minimalisticAssert$1,r.toArray=utils_1$1.toArray,r.zero2=utils_1$1.zero2,r.toHex=utils_1$1.toHex,r.encode=utils_1$1.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(a),s=0==(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new bn(e,"hex","le")}})),r$2,brorand=function(e){return r$2||(r$2=new Rand(null)),r$2.generate(e)};function Rand(e){this.rand=e}var Rand_1=Rand;if(Rand.prototype.generate=function(e){return this._rand(e)},Rand.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$1=require$$0$2;if("function"!=typeof crypto$1.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(e){return crypto$1.randomBytes(e)}}catch(e){}brorand.Rand=Rand_1;var getNAF=utils_1.getNAF,getJSF=utils_1.getJSF,assert$g=utils_1.assert;function BaseCurve(e,t){this.type=e,this.p=new bn(t.p,16),this.red=t.prime?bn.red(t.prime):bn.mont(this.p),this.zero=new bn(0).toRed(this.red),this.one=new bn(1).toRed(this.red),this.two=new bn(2).toRed(this.red),this.n=t.n&&new bn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){assert$g(e.precomputed);var r=e._getDoubles(),n=getNAF(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var c=o+r.step-1;c>=o;c--)a=(a<<1)+n[c];s.push(a)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)(a=s[o])===d?l=l.mixedAdd(r.points[o]):a===-d&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF(t,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var c=0;s>=0&&0===o[s];s--)c++;if(s>=0&&c++,a=a.dblp(c),s<0)break;var u=o[s];assert$g(0!==u),a="affine"===e.type?u>0?a.mixedAdd(i[u-1>>1]):a.mixedAdd(i[-u-1>>1].neg()):u>0?a.add(i[u-1>>1]):a.add(i[-u-1>>1].neg())}return"affine"===e.type?a.toP():a},BaseCurve.prototype._wnafMulAdd=function(e,t,r,n,i){var o,a,s,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,d=0;for(o=0;o<n;o++){var f=(s=t[o])._getNAFPoints(e);c[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var h=o-1,p=o;if(1===c[h]&&1===c[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],b=getJSF(r[h],r[p]);for(d=Math.max(b[0].length,d),l[h]=new Array(d),l[p]=new Array(d),a=0;a<d;a++){var y=0|b[0][a],_=0|b[1][a];l[h][a]=g[3*(y+1)+(_+1)],l[p][a]=0,u[h]=m}}else l[h]=getNAF(r[h],c[h],this._bitLength),l[p]=getNAF(r[p],c[p],this._bitLength),d=Math.max(l[h].length,d),d=Math.max(l[p].length,d)}var v=this.jpoint(null,null,null),w=this._wnafT4;for(o=d;o>=0;o--){for(var $=0;o>=0;){var S=!0;for(a=0;a<n;a++)w[a]=0|l[a][o],0!==w[a]&&(S=!1);if(!S)break;$++,o--}if(o>=0&&$++,v=v.dblp($),o<0)break;for(a=0;a<n;a++){var k=w[a];0!==k&&(k>0?s=u[a][k-1>>1]:k<0&&(s=u[a][-k-1>>1].neg()),v="affine"===s.type?v.mixedAdd(s):v.add(s))}}for(o=0;o<n;o++)u[o]=null;return i?v:v.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=utils_1.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$g(e[e.length-1]%2==0):7===e[0]&&assert$g(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return utils_1.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser$1=createCommonjsModule((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$f=utils_1.assert;function ShortCurve(e){base.call(this,"short",e),this.a=new bn(e.a,16).toRed(this.red),this.b=new bn(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$1(ShortCurve,base);var short_1=ShortCurve;function Point$2(e,t,r,n){base.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new bn(t,16),this.y=new bn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,n){base.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bn(0)):(this.x=new bn(t,16),this.y=new bn(r,16),this.z=new bn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function MontCurve(e){base.call(this,"mont",e),this.a=new bn(e.a,16).toRed(this.red),this.b=new bn(e.b,16).toRed(this.red),this.i4=new bn(4).toRed(this.red).redInvm(),this.two=new bn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new bn(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new bn(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new bn(e.a,16),b:new bn(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:bn.mont(e),r=new bn(2).toRed(t).redInvm(),n=r.redNeg(),i=new bn(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,s,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),h=new bn(1),p=new bn(0),m=new bn(0),g=new bn(1),b=0;0!==d.cmpn(0);){var y=f.div(d);c=f.sub(y.mul(d)),u=m.sub(y.mul(h));var _=g.sub(y.mul(p));if(!n&&c.cmp(l)<0)t=s.neg(),r=h,n=c.neg(),i=u;else if(n&&2==++b)break;s=c,f=d,d=c,m=h,h=u,g=p,p=_}o=c.neg(),a=u;var v=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(v)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},ShortCurve.prototype.pointFromX=function(e,t){(e=new bn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},inherits_browser$1(Point$2,base.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point$2(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point$2.fromJSON(this,e,t)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(e){return e=new bn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$2.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$2.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$2.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$2.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser$1(JPoint,base.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),d=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(l).redISub(l),f=s.redMul(l.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,f,h)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),d=u.redSqr(),f=d.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),b=h.redMul(g);b=b.redIAdd(b).redISub(f);var y=u.redMul(s);t+1<e&&(c=c.redMul(f)),o=m,s=y,u=b}return this.curve.jpoint(o,u.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(l).redISub(f);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(d).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(s).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,f,h)},JPoint.prototype.mul=function(e,t){return e=new bn(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},inherits_browser$1(MontCurve,base);var mont=MontCurve;function Point$1(e,t,r){base.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new bn(t,16),this.z=new bn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},inherits_browser$1(Point$1,base.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(utils_1.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point$1(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(e,t){return new Point$1(e,t[0],t[1]||e.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},Point$1.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var assert$e=utils_1.assert;function EdwardsCurve(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,base.call(this,"edwards",e),this.a=new bn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new bn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$e(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}inherits_browser$1(EdwardsCurve,base);var edwards=EdwardsCurve;function Point(e,t,r,n,i){base.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bn(t,16),this.y=new bn(r,16),this.z=n?new bn(n,16):this.curve.one,this.t=i&&new bn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},EdwardsCurve.prototype.pointFromX=function(e,t){(e=new bn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var s=a.fromRed().isOdd();return(t&&!s||!t&&s)&&(a=a.redNeg()),this.point(e,a)},EdwardsCurve.prototype.pointFromY=function(e,t){(e=new bn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},inherits_browser$1(Point,base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,n){return new Point(this,e,t,r,n)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,l)},Point.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),l=s.redMul(c),d=o.redMul(c),f=a.redMul(s);return this.curve.point(u,l,f,d)},Point.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add;var curve_1=createCommonjsModule((function(e,t){var r=t;r.base=base,r.short=short_1,r.mont=mont,r.edwards=edwards})),inherits_1=inherits_browser$1;function isSurrogatePair$1(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray$1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):isSurrogatePair$1(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}var toArray_1=toArray$1;function toHex$1(e){for(var t="",r=0;r<e.length;r++)t+=zero2$1(e[r].toString(16));return t}var toHex_1=toHex$1;function htonl$1(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}var htonl_1=htonl$1;function toHex32$1(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl$1(i)),r+=zero8$1(i.toString(16))}return r}var toHex32_1=toHex32$1;function zero2$1(e){return 1===e.length?"0"+e:e}var zero2_1=zero2$1;function zero8$1(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var zero8_1=zero8$1;function join32$1(e,t,r,n){var i=r-t;minimalisticAssert$1(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var c;c="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=c>>>0}return o}var join32_1=join32$1;function split32$1(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}var split32_1=split32$1;function rotr32$3(e,t){return e>>>t|e<<32-t}var rotr32_1=rotr32$3;function rotl32$5(e,t){return e<<t|e>>>32-t}var rotl32_1=rotl32$5;function sum32$7(e,t){return e+t>>>0}var sum32_1=sum32$7;function sum32_3$3(e,t,r){return e+t+r>>>0}var sum32_3_1=sum32_3$3;function sum32_4$5(e,t,r,n){return e+t+r+n>>>0}var sum32_4_1=sum32_4$5;function sum32_5$5(e,t,r,n,i){return e+t+r+n+i>>>0}var sum32_5_1=sum32_5$5;function sum64$3(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}var sum64_1=sum64$3;function sum64_hi$3(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}var sum64_hi_1=sum64_hi$3;function sum64_lo$3(e,t,r,n){return t+n>>>0}var sum64_lo_1=sum64_lo$3;function sum64_4_hi$3(e,t,r,n,i,o,a,s){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0}var sum64_4_hi_1=sum64_4_hi$3;function sum64_4_lo$3(e,t,r,n,i,o,a,s){return t+n+o+s>>>0}var sum64_4_lo_1=sum64_4_lo$3;function sum64_5_hi$3(e,t,r,n,i,o,a,s,c,u){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+s>>>0)<s?1:0,e+r+i+a+c+(l+=(d=d+u>>>0)<u?1:0)>>>0}var sum64_5_hi_1=sum64_5_hi$3;function sum64_5_lo$3(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0}var sum64_5_lo_1=sum64_5_lo$3;function rotr64_hi$3(e,t,r){return(t<<32-r|e>>>r)>>>0}var rotr64_hi_1=rotr64_hi$3;function rotr64_lo$3(e,t,r){return(e<<32-r|t>>>r)>>>0}var rotr64_lo_1=rotr64_lo$3;function shr64_hi$3(e,t,r){return e>>>r}var shr64_hi_1=shr64_hi$3;function shr64_lo$3(e,t,r){return(e<<32-r|t>>>r)>>>0}var shr64_lo_1=shr64_lo$3,utils$a={inherits:inherits_1,toArray:toArray_1,toHex:toHex_1,htonl:htonl_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1,join32:join32_1,split32:split32_1,rotr32:rotr32_1,rotl32:rotl32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1};function BlockHash$9(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var BlockHash_1=BlockHash$9;BlockHash$9.prototype.update=function(e,t){if(e=utils$a.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$a.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$9.prototype.digest=function(e){return this.update(this._pad()),minimalisticAssert$1(null===this.pending),this._digest(e)},BlockHash$9.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var common$8={BlockHash:BlockHash_1},rotr32$2=utils$a.rotr32;function ft_1$3(e,t,r,n){return 0===e?ch32$3(t,r,n):1===e||3===e?p32$1(t,r,n):2===e?maj32$3(t,r,n):void 0}var ft_1_1=ft_1$3;function ch32$3(e,t,r){return e&t^~e&r}var ch32_1=ch32$3;function maj32$3(e,t,r){return e&t^e&r^t&r}var maj32_1=maj32$3;function p32$1(e,t,r){return e^t^r}var p32_1=p32$1;function s0_256$3(e){return rotr32$2(e,2)^rotr32$2(e,13)^rotr32$2(e,22)}var s0_256_1=s0_256$3;function s1_256$3(e){return rotr32$2(e,6)^rotr32$2(e,11)^rotr32$2(e,25)}var s1_256_1=s1_256$3;function g0_256$3(e){return rotr32$2(e,7)^rotr32$2(e,18)^e>>>3}var g0_256_1=g0_256$3;function g1_256$3(e){return rotr32$2(e,17)^rotr32$2(e,19)^e>>>10}var g1_256_1=g1_256$3,common$7={ft_1:ft_1_1,ch32:ch32_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1,g0_256:g0_256_1,g1_256:g1_256_1},rotl32$4=utils$a.rotl32,sum32$6=utils$a.sum32,sum32_5$4=utils$a.sum32_5,ft_1$2=common$7.ft_1,BlockHash$8=common$8.BlockHash,sha1_K$1=[1518500249,1859775393,2400959708,3395469782];function SHA1$1(){if(!(this instanceof SHA1$1))return new SHA1$1;BlockHash$8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$a.inherits(SHA1$1,BlockHash$8);var _1$1=SHA1$1;SHA1$1.blockSize=512,SHA1$1.outSize=160,SHA1$1.hmacStrength=80,SHA1$1.padLength=64,SHA1$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$4(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=sum32_5$4(rotl32$4(i,5),ft_1$2(u,o,a,s),c,r[n],sha1_K$1[u]);c=s,s=a,a=rotl32$4(o,30),o=i,i=l}this.h[0]=sum32$6(this.h[0],i),this.h[1]=sum32$6(this.h[1],o),this.h[2]=sum32$6(this.h[2],a),this.h[3]=sum32$6(this.h[3],s),this.h[4]=sum32$6(this.h[4],c)},SHA1$1.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")};var sum32$5=utils$a.sum32,sum32_4$4=utils$a.sum32_4,sum32_5$3=utils$a.sum32_5,ch32$2=common$7.ch32,maj32$2=common$7.maj32,s0_256$2=common$7.s0_256,s1_256$2=common$7.s1_256,g0_256$2=common$7.g0_256,g1_256$2=common$7.g1_256,BlockHash$7=common$8.BlockHash,sha256_K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K$1,this.W=new Array(64)}utils$a.inherits(SHA256$2,BlockHash$7);var _256$1=SHA256$2;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;_256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}SHA256$2.blockSize=512,SHA256$2.outSize=256,SHA256$2.hmacStrength=192,SHA256$2.padLength=64,SHA256$2.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$4(g1_256$2(r[n-2]),r[n-7],g0_256$2(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7];for(minimalisticAssert$1(this.k.length===r.length),n=0;n<r.length;n++){var f=sum32_5$3(d,s1_256$2(c),ch32$2(c,u,l),this.k[n],r[n]),h=sum32$5(s0_256$2(i),maj32$2(i,o,a));d=l,l=u,u=c,c=sum32$5(s,f),s=a,a=o,o=i,i=sum32$5(f,h)}this.h[0]=sum32$5(this.h[0],i),this.h[1]=sum32$5(this.h[1],o),this.h[2]=sum32$5(this.h[2],a),this.h[3]=sum32$5(this.h[3],s),this.h[4]=sum32$5(this.h[4],c),this.h[5]=sum32$5(this.h[5],u),this.h[6]=sum32$5(this.h[6],l),this.h[7]=sum32$5(this.h[7],d)},SHA256$2.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")},utils$a.inherits(SHA224$1,_256$1);var _224$1=SHA224$1;SHA224$1.blockSize=512,SHA224$1.outSize=224,SHA224$1.hmacStrength=192,SHA224$1.padLength=64,SHA224$1.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h.slice(0,7),"big"):utils$a.split32(this.h.slice(0,7),"big")};var rotr64_hi$2=utils$a.rotr64_hi,rotr64_lo$2=utils$a.rotr64_lo,shr64_hi$2=utils$a.shr64_hi,shr64_lo$2=utils$a.shr64_lo,sum64$2=utils$a.sum64,sum64_hi$2=utils$a.sum64_hi,sum64_lo$2=utils$a.sum64_lo,sum64_4_hi$2=utils$a.sum64_4_hi,sum64_4_lo$2=utils$a.sum64_4_lo,sum64_5_hi$2=utils$a.sum64_5_hi,sum64_5_lo$2=utils$a.sum64_5_lo,BlockHash$6=common$8.BlockHash,sha512_K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K$1,this.W=new Array(160)}utils$a.inherits(SHA512$2,BlockHash$6);var _512$1=SHA512$2;function ch64_hi$1(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function ch64_lo$1(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function maj64_hi$1(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function maj64_lo$1(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function s0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,28)^rotr64_hi$2(t,e,2)^rotr64_hi$2(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,28)^rotr64_lo$2(t,e,2)^rotr64_lo$2(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,14)^rotr64_hi$2(e,t,18)^rotr64_hi$2(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,14)^rotr64_lo$2(e,t,18)^rotr64_lo$2(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,1)^rotr64_hi$2(e,t,8)^shr64_hi$2(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,1)^rotr64_lo$2(e,t,8)^shr64_lo$2(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,19)^rotr64_hi$2(t,e,29)^shr64_hi$2(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,19)^rotr64_lo$2(t,e,29)^shr64_lo$2(e,t,6);return r<0&&(r+=4294967296),r}function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;_512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}SHA512$2.blockSize=1024,SHA512$2.outSize=512,SHA512$2.hmacStrength=192,SHA512$2.padLength=128,SHA512$2.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi$1(r[n-4],r[n-3]),o=g1_512_lo$1(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=g0_512_hi$1(r[n-30],r[n-29]),u=g0_512_lo$1(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=sum64_4_hi$2(i,o,a,s,c,u,l,d),r[n+1]=sum64_4_lo$2(i,o,a,s,c,u,l,d)}},SHA512$2.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],d=this.h[8],f=this.h[9],h=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],b=this.h[14],y=this.h[15];minimalisticAssert$1(this.k.length===r.length);for(var _=0;_<r.length;_+=2){var v=b,w=y,$=s1_512_hi$1(d,f),S=s1_512_lo$1(d,f),k=ch64_hi$1(d,f,h,p,m),A=ch64_lo$1(d,f,h,p,m,g),E=this.k[_],I=this.k[_+1],R=r[_],T=r[_+1],x=sum64_5_hi$2(v,w,$,S,k,A,E,I,R,T),P=sum64_5_lo$2(v,w,$,S,k,A,E,I,R,T);v=s0_512_hi$1(n,i),w=s0_512_lo$1(n,i),$=maj64_hi$1(n,i,o,a,s),S=maj64_lo$1(n,i,o,a,s,c);var M=sum64_hi$2(v,w,$,S),C=sum64_lo$2(v,w,$,S);b=m,y=g,m=h,g=p,h=d,p=f,d=sum64_hi$2(u,l,x,P),f=sum64_lo$2(l,l,x,P),u=s,l=c,s=o,c=a,o=n,a=i,n=sum64_hi$2(x,P,M,C),i=sum64_lo$2(x,P,M,C)}sum64$2(this.h,0,n,i),sum64$2(this.h,2,o,a),sum64$2(this.h,4,s,c),sum64$2(this.h,6,u,l),sum64$2(this.h,8,d,f),sum64$2(this.h,10,h,p),sum64$2(this.h,12,m,g),sum64$2(this.h,14,b,y)},SHA512$2.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")},utils$a.inherits(SHA384$1,_512$1);var _384$1=SHA384$1;SHA384$1.blockSize=1024,SHA384$1.outSize=384,SHA384$1.hmacStrength=192,SHA384$1.padLength=128,SHA384$1.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h.slice(0,12),"big"):utils$a.split32(this.h.slice(0,12),"big")};var sha1=_1$1,sha224=_224$1,sha256$2=_256$1,sha384=_384$1,sha512=_512$1,sha$1={sha1:sha1,sha224:sha224,sha256:sha256$2,sha384:sha384,sha512:sha512},rotl32$3=utils$a.rotl32,sum32$4=utils$a.sum32,sum32_3$2=utils$a.sum32_3,sum32_4$3=utils$a.sum32_4,BlockHash$5=common$8.BlockHash;function RIPEMD160$1(){if(!(this instanceof RIPEMD160$1))return new RIPEMD160$1;BlockHash$5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$a.inherits(RIPEMD160$1,BlockHash$5);var ripemd160=RIPEMD160$1;function f$1(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K$1(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh$1(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}RIPEMD160$1.blockSize=512,RIPEMD160$1.outSize=160,RIPEMD160$1.hmacStrength=192,RIPEMD160$1.padLength=64,RIPEMD160$1.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,c=n,u=i,l=o,d=a,f=0;f<80;f++){var h=sum32$4(rotl32$3(sum32_4$3(r,f$1(f,n,i,o),e[r$1[f]+t],K$1(f)),s$1[f]),a);r=a,a=o,o=rotl32$3(i,10),i=n,n=h,h=sum32$4(rotl32$3(sum32_4$3(s,f$1(79-f,c,u,l),e[rh$1[f]+t],Kh$1(f)),sh$1[f]),d),s=d,d=l,l=rotl32$3(u,10),u=c,c=h}h=sum32_3$2(this.h[1],i,l),this.h[1]=sum32_3$2(this.h[2],o,d),this.h[2]=sum32_3$2(this.h[3],a,s),this.h[3]=sum32_3$2(this.h[4],r,c),this.h[4]=sum32_3$2(this.h[0],n,u),this.h[0]=h},RIPEMD160$1.prototype._digest=function(e){return"hex"===e?utils$a.toHex32(this.h,"little"):utils$a.split32(this.h,"little")};var r$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ripemd$1={ripemd160:ripemd160};function Hmac$1(e,t,r){if(!(this instanceof Hmac$1))return new Hmac$1(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$a.toArray(t,r))}var hmac$1=Hmac$1;Hmac$1.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),minimalisticAssert$1(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac$1.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac$1.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var hash_1=createCommonjsModule((function(e,t){var r=t;r.utils=utils$a,r.common=common$8,r.sha=sha$1,r.ripemd=ripemd$1,r.hmac=hmac$1,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},curves_1=createCommonjsModule((function(e,t){var r,n=t,i=utils_1.assert;function o(e){"short"===e.type?this.curve=new curve_1.short(e):"edwards"===e.type?this.curve=new curve_1.edwards(e):this.curve=new curve_1.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash_1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash_1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash_1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash_1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash_1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash_1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=secp256k1}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash_1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1$1.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1$1.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1$1.toArray(e.pers,e.persEnc||"hex");minimalisticAssert$1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash_1.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1$1.toArray(e,t),r=utils_1$1.toArray(r,n),minimalisticAssert$1(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1$1.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils_1$1.encode(o,t)};var assert$d=utils_1.assert;function KeyPair$1(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$2=KeyPair$1;KeyPair$1.fromPublic=function(e,t,r){return t instanceof KeyPair$1?t:new KeyPair$1(e,{pub:t,pubEnc:r})},KeyPair$1.fromPrivate=function(e,t,r){return t instanceof KeyPair$1?t:new KeyPair$1(e,{priv:t,privEnc:r})},KeyPair$1.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$1.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$1.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$1.prototype._importPrivate=function(e,t){this.priv=new bn(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$1.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$d(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$d(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$1.prototype.derive=function(e){return e.validate()||assert$d(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$1.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$1.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$1.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$c=utils_1.assert;function Signature$1(e,t){if(e instanceof Signature$1)return e;this._importDER(e,t)||(assert$c(e.r&&e.s,"Signature without r or s"),this.r=new bn(e.r,16),this.s=new bn(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$1=Signature$1;function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$1.prototype._importDER=function(e,t){e=utils_1.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=getLength(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new bn(o),this.s=new bn(s),this.recoveryParam=null,!0},Signature$1.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength(n,t.length),(n=n.concat(t)).push(2),constructLength(n,r.length);var i=n.concat(r),o=[48];return constructLength(o,i.length),o=o.concat(i),utils_1.encode(o,e)};var assert$b=utils_1.assert;function EC$1(e){if(!(this instanceof EC$1))return new EC$1(e);"string"==typeof e&&(assert$b(Object.prototype.hasOwnProperty.call(curves_1,e),"Unknown curve "+e),e=curves_1[e]),e instanceof curves_1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$1=EC$1;EC$1.prototype.keyPair=function(e){return new key$2(this,e)},EC$1.prototype.keyFromPrivate=function(e,t){return key$2.fromPrivate(this,e,t)},EC$1.prototype.keyFromPublic=function(e,t){return key$2.fromPublic(this,e,t)},EC$1.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||brorand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new bn(2));;){var i=new bn(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$1.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$1.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new bn(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new hmacDrbg({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new bn(1)),u=0;;u++){var l=n.k?n.k(u):new bn(s.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var f=d.getX(),h=f.umod(this.n);if(0!==h.cmpn(0)){var p=l.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==f.cmp(h)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new signature$1({r:h,s:p,recoveryParam:m})}}}}}},EC$1.prototype.verify=function(e,t,r,n){e=this._truncateToN(new bn(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature$1(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),c=s.mul(e).umod(this.n),u=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},EC$1.prototype.recoverPubKey=function(e,t,r,n){assert$b((3&r)===r,"The recovery param is more than two bits"),t=new signature$1(t,n);var i=this.n,o=new bn(e),a=t.r,s=t.s,c=1&r,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");a=u?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var l=t.r.invm(i),d=i.sub(o).mul(l).umod(i),f=s.mul(l).umod(i);return this.g.mulAdd(d,a,f)},EC$1.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature$1(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var assert$a=utils_1.assert,parseBytes$2=utils_1.parseBytes,cachedProperty$1=utils_1.cachedProperty;function KeyPair(e,t){this.eddsa=e,this._secret=parseBytes$2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),cachedProperty$1(KeyPair,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),cachedProperty$1(KeyPair,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),cachedProperty$1(KeyPair,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),cachedProperty$1(KeyPair,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),cachedProperty$1(KeyPair,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair.prototype.sign=function(e){return assert$a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return assert$a(this._secret,"KeyPair is public only"),utils_1.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return utils_1.encode(this.pubBytes(),e)};var key$1=KeyPair,assert$9=utils_1.assert,cachedProperty=utils_1.cachedProperty,parseBytes$1=utils_1.parseBytes;function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=parseBytes$1(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert$9(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof bn&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),cachedProperty(Signature,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),cachedProperty(Signature,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),cachedProperty(Signature,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils_1.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature,assert$8=utils_1.assert,parseBytes=utils_1.parseBytes;function EDDSA(e){if(assert$8("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=curves_1[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hash_1.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,t){e=parseBytes(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),s=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},EDDSA.prototype.verify=function(e,t,r){e=parseBytes(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return utils_1.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return key$1.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return key$1.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof signature?e:new signature(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){var t=(e=utils_1.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=utils_1.intFromLE(r);return this.curve.pointFromY(i,n)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return utils_1.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass};var elliptic_1=createCommonjsModule((function(e,t){var r=t;r.version=require$$0$1.version,r.utils=utils_1,r.rand=brorand,r.curve=curve_1,r.curves=curves_1,r.ec=ec$1,r.eddsa=eddsa}));const EC=elliptic_1.ec,ec=new EC("secp256k1"),ecparams=ec.curve,BN=ecparams.n.constructor;function loadCompressedPublicKey(e,t){let r=new BN(t);if(r.cmp(ecparams.p)>=0)return null;r=r.toRed(ecparams.red);let n=r.redSqr().redIMul(r).redIAdd(ecparams.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),ec.keyPair({pub:{x:r,y:n}})}function loadUncompressedPublicKey(e,t,r){let n=new BN(t),i=new BN(r);if(n.cmp(ecparams.p)>=0||i.cmp(ecparams.p)>=0)return null;if(n=n.toRed(ecparams.red),i=i.toRed(ecparams.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(ecparams.b)).isZero()?ec.keyPair({pub:{x:n,y:i}}):null}function loadPublicKey(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:loadCompressedPublicKey(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:loadUncompressedPublicKey(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function savePublicKey(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}var elliptic$1={contextRandomize:()=>0,privateKeyVerify(e){const t=new BN(e);return t.cmp(ecparams.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new BN(e),r=ecparams.n.sub(t).umod(ecparams.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new BN(t);if(r.cmp(ecparams.n)>=0)return 1;if(r.iadd(new BN(e)),r.cmp(ecparams.n)>=0&&r.isub(ecparams.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new BN(t);if(r.cmp(ecparams.n)>=0||r.isZero())return 1;r.imul(new BN(e)),r.cmp(ecparams.n)>=0&&(r=r.umod(ecparams.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===loadPublicKey(e)?1:0,publicKeyCreate(e,t){const r=new BN(t);if(r.cmp(ecparams.n)>=0||r.isZero())return 1;return savePublicKey(e,ec.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=loadPublicKey(t);if(null===r)return 1;return savePublicKey(e,r.getPublic()),0},publicKeyNegate(e,t){const r=loadPublicKey(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),savePublicKey(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=loadPublicKey(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(savePublicKey(e,n),0)},publicKeyTweakAdd(e,t,r){const n=loadPublicKey(t);if(null===n)return 1;if((r=new BN(r)).cmp(ecparams.n)>=0)return 2;const i=n.getPublic().add(ecparams.g.mul(r));return i.isInfinity()?2:(savePublicKey(e,i),0)},publicKeyTweakMul(e,t,r){const n=loadPublicKey(t);if(null===n)return 1;if((r=new BN(r)).cmp(ecparams.n)>=0||r.isZero())return 2;return savePublicKey(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new BN(e.subarray(0,32)),r=new BN(e.subarray(32,64));return t.cmp(ecparams.n)>=0||r.cmp(ecparams.n)>=0?1:(1===r.cmp(ec.nh)&&e.set(ecparams.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new BN(r).cmp(ecparams.n)>=0)return 1;if(new BN(n).cmp(ecparams.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let a=33,s=0;for(;a>1&&0===o[s]&&!(128&o[s+1]);--a,++s);if(o=o.subarray(s),128&o[0])return 1;if(a>1&&0===o[0]&&!(128&o[1]))return 1;let c=i.subarray(39,72);c[0]=0,c.set(n,1);let u=33,l=0;for(;u>1&&0===c[l]&&!(128&c[l+1]);--u,++l);return c=c.subarray(l),128&c[0]||u>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+a+u,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=c.length,i.set(c,6+a),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let a=new BN(i);a.cmp(ecparams.n)>=0&&(a=new BN(0));let s=new BN(t.subarray(6+r));return s.cmp(ecparams.n)>=0&&(s=new BN(0)),e.set(a.toArrayLike(Uint8Array,"be",32),0),e.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new BN(o)}}const o=new BN(r);if(o.cmp(ecparams.n)>=0||o.isZero())return 1;let a;try{a=ec.sign(t,r,{canonical:!0,k:i,pers:n})}catch(e){return 1}return e.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),e.recid=a.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new BN(n.r),o=new BN(n.s);if(i.cmp(ecparams.n)>=0||o.cmp(ecparams.n)>=0)return 1;if(1===o.cmp(ec.nh)||i.isZero()||o.isZero())return 3;const a=loadPublicKey(r);if(null===a)return 2;const s=a.getPublic();return ec.verify(t,n,s)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new BN(i.r),a=new BN(i.s);if(o.cmp(ecparams.n)>=0||a.cmp(ecparams.n)>=0)return 1;if(o.isZero()||a.isZero())return 2;let s;try{s=ec.recoverPubKey(n,i,r)}catch(e){return 2}return savePublicKey(e,s),0},ecdh(e,t,r,n,i,o,a){const s=loadPublicKey(t);if(null===s)return 1;const c=new BN(r);if(c.cmp(ecparams.n)>=0||c.isZero())return 2;const u=s.getPublic().mul(c);if(void 0===i){const t=u.encode(null,!0),r=ec.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{o||(o=new Uint8Array(32));const t=u.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];a||(a=new Uint8Array(32));const r=u.getY().toArray("be",32);for(let e=0;e<32;++e)a[e]=r[e];const s=i(o,a,n);if(!(s instanceof Uint8Array&&s.length===e.length))return 2;e.set(s)}return 0}},elliptic=lib$2(elliptic$1);function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$2.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$2.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item$1(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item$1(e,t){this.fun=e,this.array=t}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version$3="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$2.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version$3,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},sha3=createCommonjsModule((function(e){
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */
!function(){var t="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=commonjsGlobal$1:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&e.exports,a=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],f=[128,256],h=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!a||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,r){return function(n){return new x(e,t,e).update(n)[r]()}},g=function(e,t,r){return function(n,i){return new x(e,t,i).update(n)[r]()}},b=function(e,t,r){return function(t,n,i,o){return $["cshake"+e].update(t,n,i,o)[r]()}},y=function(e,t,r){return function(t,n,i,o){return $["kmac"+e].update(t,n,i,o)[r]()}},_=function(e,t,r,n){for(var i=0;i<h.length;++i){var o=h[i];e[o]=t(r,n,o)}return e},v=function(e,t){var r=m(e,t,"hex");return r.create=function(){return new x(e,t,e)},r.update=function(e){return r.create().update(e)},_(r,m,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:d,createMethod:v},{name:"sha3",padding:[6,1536,393216,100663296],bits:d,createMethod:v},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(e,t){var r=g(e,t,"hex");return r.create=function(r){return new x(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},_(r,g,e,t)}},{name:"cshake",padding:c,bits:f,createMethod:function(e,t){var r=p[e],n=b(e,0,"hex");return n.create=function(n,i,o){return i||o?new x(e,t,n).bytepad([i,o],r):$["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},_(n,b,e,t)}},{name:"kmac",padding:c,bits:f,createMethod:function(e,t){var r=p[e],n=y(e,0,"hex");return n.create=function(n,i,o){return new P(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},_(n,y,e,t)}}],$={},S=[],k=0;k<w.length;++k)for(var A=w[k],E=A.bits,I=0;I<E.length;++I){var R=A.name+"_"+E[I];if(S.push(R),$[R]=A.createMethod(E[I],A.padding),"sha3"!==A.name){var T=A.name+E[I];S.push(T),$[T]=$[R]}}function x(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(e,t,r){x.call(this,e,t,r)}x.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,s=this.blocks,c=this.byteCount,l=e.length,d=this.blockCount,f=0,h=this.s;f<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<d+1;++i)s[i]=0;if(r)for(i=this.start;f<l&&i<c;++f)s[i>>2]|=e[f]<<u[3&i++];else for(i=this.start;f<l&&i<c;++f)(o=e.charCodeAt(f))<128?s[i>>2]|=o<<u[3&i++]:o<2048?(s[i>>2]|=(192|o>>6)<<u[3&i++],s[i>>2]|=(128|63&o)<<u[3&i++]):o<55296||o>=57344?(s[i>>2]|=(224|o>>12)<<u[3&i++],s[i>>2]|=(128|o>>6&63)<<u[3&i++],s[i>>2]|=(128|63&o)<<u[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++f)),s[i>>2]|=(240|o>>18)<<u[3&i++],s[i>>2]|=(128|o>>12&63)<<u[3&i++],s[i>>2]|=(128|o>>6&63)<<u[3&i++],s[i>>2]|=(128|63&o)<<u[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=s[d],i=0;i<d;++i)h[i]^=s[i];M(h),this.reset=!0}else this.start=i}return this},x.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},x.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,o=e.length;if(r)i=o;else for(var s=0;s<e.length;++s){var c=e.charCodeAt(s);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(e),i},x.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];M(n)}},x.prototype.toString=x.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,c="";a<n;){for(o=0;o<t&&a<n;++o,++a)e=r[o],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(M(r),o=0)}return i&&(e=r[o],c+=s[e>>4&15]+s[15&e],i>1&&(c+=s[e>>12&15]+s[e>>8&15]),i>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},x.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)c[a]=r[o];a%t==0&&M(r)}return i&&(c[o]=r[o],e=e.slice(0,s)),e},x.prototype.buffer=x.prototype.arrayBuffer,x.prototype.digest=x.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,c=[];s<i;){for(a=0;a<r&&s<i;++a,++s)e=s<<2,t=n[a],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;s%r==0&&M(n)}return o&&(e=s<<2,t=n[a],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},P.prototype=new x,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),x.prototype.finalize.call(this)};var M=function(e){var t,r,n,i,o,a,s,c,u,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D,U,j,z,F,K,H,q,W,V,Y,G,Z,J,X,Q,ee,te,re,ne,ie,oe,ae,se,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(d<<1|f>>>31),r=s^(f<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(h<<1|p>>>31),r=u^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(i<<1|o>>>31),r=f^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,G=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,P=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,_=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,C=e[45]<<29|e[44]>>>3,O=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,$=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,R=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=m^~b&_,e[1]=g^~y&v,e[10]=A^~I&T,e[11]=E^~R&x,e[20]=L^~N&U,e[21]=B^~D&j,e[30]=q^~V&G,e[31]=W^~Y&Z,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=b^~_&w,e[3]=y^~v&$,e[12]=I^~T&P,e[13]=R^~x&M,e[22]=N^~U&z,e[23]=D^~j&F,e[32]=V^~G&J,e[33]=Y^~Z&X,e[42]=ne^~oe&se,e[43]=ie^~ae&ce,e[4]=_^~w&S,e[5]=v^~$&k,e[14]=T^~P&C,e[15]=x^~M&O,e[24]=U^~z&K,e[25]=j^~F&H,e[34]=G^~J&Q,e[35]=Z^~X&ee,e[44]=oe^~se&ue,e[45]=ae^~ce&le,e[6]=w^~S&m,e[7]=$^~k&g,e[16]=P^~C&A,e[17]=M^~O&E,e[26]=z^~K&L,e[27]=F^~H&B,e[36]=J^~Q&q,e[37]=X^~ee&W,e[46]=se^~ue&te,e[47]=ce^~le&re,e[8]=S^~m&b,e[9]=k^~g&y,e[18]=C^~A&I,e[19]=O^~E&R,e[28]=K^~L&N,e[29]=H^~B&D,e[38]=Q^~q&V,e[39]=ee^~W&Y,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=l[n],e[1]^=l[n+1]};if(o)e.exports=$;else for(k=0;k<S.length;++k)n[S[k]]=$[S[k]]}()}));const toBuffer$1=e=>Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global$2?global$2:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hash$1={},utils$9={},minimalisticAssert=assert$6;function assert$6(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$6.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var inherits_browser={exports:{}};"function"==typeof Object.create?inherits_browser.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var assert$5=minimalisticAssert,inherits$2=inherits_browser.exports;function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):isSurrogatePair(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl(i)),r+=zero8(i.toString(16))}return r}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32(e,t,r,n){var i=r-t;assert$5(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var c;c="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=c>>>0}return o}function split32(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function rotr32$1(e,t){return e>>>t|e<<32-t}function rotl32$2(e,t){return e<<t|e>>>32-t}function sum32$3(e,t){return e+t>>>0}function sum32_3$1(e,t,r){return e+t+r>>>0}function sum32_4$2(e,t,r,n){return e+t+r+n>>>0}function sum32_5$2(e,t,r,n,i){return e+t+r+n+i>>>0}function sum64$1(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}function sum64_hi$1(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo$1(e,t,r,n){return t+n>>>0}function sum64_4_hi$1(e,t,r,n,i,o,a,s){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0}function sum64_4_lo$1(e,t,r,n,i,o,a,s){return t+n+o+s>>>0}function sum64_5_hi$1(e,t,r,n,i,o,a,s,c,u){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+s>>>0)<s?1:0,e+r+i+a+c+(l+=(d=d+u>>>0)<u?1:0)>>>0}function sum64_5_lo$1(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0}function rotr64_hi$1(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi$1(e,t,r){return e>>>r}function shr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}utils$9.inherits=inherits$2,utils$9.toArray=toArray,utils$9.toHex=toHex,utils$9.htonl=htonl,utils$9.toHex32=toHex32,utils$9.zero2=zero2,utils$9.zero8=zero8,utils$9.join32=join32,utils$9.split32=split32,utils$9.rotr32=rotr32$1,utils$9.rotl32=rotl32$2,utils$9.sum32=sum32$3,utils$9.sum32_3=sum32_3$1,utils$9.sum32_4=sum32_4$2,utils$9.sum32_5=sum32_5$2,utils$9.sum64=sum64$1,utils$9.sum64_hi=sum64_hi$1,utils$9.sum64_lo=sum64_lo$1,utils$9.sum64_4_hi=sum64_4_hi$1,utils$9.sum64_4_lo=sum64_4_lo$1,utils$9.sum64_5_hi=sum64_5_hi$1,utils$9.sum64_5_lo=sum64_5_lo$1,utils$9.rotr64_hi=rotr64_hi$1,utils$9.rotr64_lo=rotr64_lo$1,utils$9.shr64_hi=shr64_hi$1,utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$4=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(e,t){if(e=utils$8.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$8.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$4(null===this.pending),this._digest(e)},BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(e,t,r,n){return 0===e?ch32$1(t,r,n):1===e||3===e?p32(t,r,n):2===e?maj32$1(t,r,n):void 0}function ch32$1(e,t,r){return e&t^~e&r}function maj32$1(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}common$4.ft_1=ft_1$1,common$4.ch32=ch32$1,common$4.maj32=maj32$1,common$4.p32=p32,common$4.s0_256=s0_256$1,common$4.s1_256=s1_256$1,common$4.g0_256=g0_256$1,common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=sum32_5$1(rotl32$1(i,5),ft_1(u,o,a,s),c,r[n],sha1_K[u]);c=s,s=a,a=rotl32$1(o,30),o=i,i=l}this.h[0]=sum32$2(this.h[0],i),this.h[1]=sum32$2(this.h[1],o),this.h[2]=sum32$2(this.h[2],a),this.h[3]=sum32$2(this.h[3],s),this.h[4]=sum32$2(this.h[4],c)},SHA1.prototype._digest=function(e){return"hex"===e?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$3=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$1(g1_256(r[n-2]),r[n-7],g0_256(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7];for(assert$3(this.k.length===r.length),n=0;n<r.length;n++){var f=sum32_5(d,s1_256(c),ch32(c,u,l),this.k[n],r[n]),h=sum32$1(s0_256(i),maj32(i,o,a));d=l,l=u,u=c,c=sum32$1(s,f),s=a,a=o,o=i,i=sum32$1(f,h)}this.h[0]=sum32$1(this.h[0],i),this.h[1]=sum32$1(this.h[1],o),this.h[2]=sum32$1(this.h[2],a),this.h[3]=sum32$1(this.h[3],s),this.h[4]=sum32$1(this.h[4],c),this.h[5]=sum32$1(this.h[5],u),this.h[6]=sum32$1(this.h[6],l),this.h[7]=sum32$1(this.h[7],d)},SHA256$1.prototype._digest=function(e){return"hex"===e?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(e){return"hex"===e?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$2=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;function ch64_hi(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function ch64_lo(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function maj64_hi(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function maj64_lo(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function s0_512_hi(e,t){var r=rotr64_hi(e,t,28)^rotr64_hi(t,e,2)^rotr64_hi(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo(e,t){var r=rotr64_lo(e,t,28)^rotr64_lo(t,e,2)^rotr64_lo(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi(e,t){var r=rotr64_hi(e,t,14)^rotr64_hi(e,t,18)^rotr64_hi(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo(e,t){var r=rotr64_lo(e,t,14)^rotr64_lo(e,t,18)^rotr64_lo(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi(e,t){var r=rotr64_hi(e,t,1)^rotr64_hi(e,t,8)^shr64_hi(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo(e,t){var r=rotr64_lo(e,t,1)^rotr64_lo(e,t,8)^shr64_lo(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi(e,t){var r=rotr64_hi(e,t,19)^rotr64_hi(t,e,29)^shr64_hi(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo(e,t){var r=rotr64_lo(e,t,19)^rotr64_lo(t,e,29)^shr64_lo(e,t,6);return r<0&&(r+=4294967296),r}SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi(r[n-4],r[n-3]),o=g1_512_lo(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=g0_512_hi(r[n-30],r[n-29]),u=g0_512_lo(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=sum64_4_hi(i,o,a,s,c,u,l,d),r[n+1]=sum64_4_lo(i,o,a,s,c,u,l,d)}},SHA512$1.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],d=this.h[8],f=this.h[9],h=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],b=this.h[14],y=this.h[15];assert$2(this.k.length===r.length);for(var _=0;_<r.length;_+=2){var v=b,w=y,$=s1_512_hi(d,f),S=s1_512_lo(d,f),k=ch64_hi(d,f,h,p,m),A=ch64_lo(d,f,h,p,m,g),E=this.k[_],I=this.k[_+1],R=r[_],T=r[_+1],x=sum64_5_hi(v,w,$,S,k,A,E,I,R,T),P=sum64_5_lo(v,w,$,S,k,A,E,I,R,T);v=s0_512_hi(n,i),w=s0_512_lo(n,i),$=maj64_hi(n,i,o,a,s),S=maj64_lo(n,i,o,a,s,c);var M=sum64_hi(v,w,$,S),C=sum64_lo(v,w,$,S);b=m,y=g,m=h,g=p,h=d,p=f,d=sum64_hi(u,l,x,P),f=sum64_lo(l,l,x,P),u=s,l=c,s=o,c=a,o=n,a=i,n=sum64_hi(x,P,M,C),i=sum64_lo(x,P,M,C)}sum64(this.h,0,n,i),sum64(this.h,2,o,a),sum64(this.h,4,s,c),sum64(this.h,6,u,l),sum64(this.h,8,d,f),sum64(this.h,10,h,p),sum64(this.h,12,m,g),sum64(this.h,14,b,y)},SHA512$1.prototype._digest=function(e){return"hex"===e?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(e){return"hex"===e?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$1=utils$9,common$6=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common$6.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}utils$1.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=n,l=i,d=o,h=a,p=c,m=0;m<80;m++){var g=sum32(rotl32(sum32_4(n,f(m,i,o,a),e[r[m]+t],K(m)),s[m]),c);n=c,c=a,a=rotl32(o,10),o=i,i=g,g=sum32(rotl32(sum32_4(u,f(79-m,l,d,h),e[rh[m]+t],Kh(m)),sh[m]),p),u=p,p=h,h=rotl32(d,10),d=l,l=g}g=sum32_3(this.h[1],o,h),this.h[1]=sum32_3(this.h[2],a,p),this.h[2]=sum32_3(this.h[3],c,u),this.h[3]=sum32_3(this.h[4],n,l),this.h[4]=sum32_3(this.h[0],i,d),this.h[0]=g},RIPEMD160.prototype._digest=function(e){return"hex"===e?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert$1$1=minimalisticAssert;function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(t,r))}var hmac=Hmac;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),assert$1$1(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=utils$9,t.common=common$5,t.sha=sha,t.ripemd=ripemd,t.hmac=hmac,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash$1);var hash=hash$1;const version$2="logger/5.5.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const _normalizeError=_checkNormalize();var LogLevel,ErrorCode;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel||(LogLevel={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==LogLevels[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel>LogLevels[r]||console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,r){if(_censorErrors)return this.makeError("censored error",t,{});t||(t=Logger.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=HEX[t[e]>>4],r+=HEX[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$2)),_globalLogger}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!e,_permanentCensorErrors=!!t}static setLogLevel(e){const t=LogLevels[e.toLowerCase()];null!=t?_logLevel=t:Logger.globalLogger().warn("invalid log level - "+e)}static from(e){return new Logger(e)}}Logger.errors=ErrorCode,Logger.levels=LogLevel;const version$1="bytes/5.5.0",logger=new Logger(version$1);function isHexable(e){return!!e.toHexString}function addSlice(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!isInteger(r)||r<0||r>=256)return!1}return!0}function arrayify(e,t){if(t||(t={}),"number"==typeof e){logger.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),addSlice(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e)&&(e=e.toHexString()),isHexString(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":logger.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return addSlice(new Uint8Array(n))}return isBytes(e)?addSlice(new Uint8Array(e)):logger.throwArgumentError("invalid arrayify value","value",e)}function isHexString(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const version="sha2/5.5.0";function sha256$1(e){return"0x"+hash.sha256().update(arrayify(e)).digest("hex")}new Logger(version);class Struct{constructor(e){Object.assign(this,e)}encode(){return Buffer.from(lib$3.serialize(SOLANA_SCHEMA,this))}static decode(e){return lib$3.deserialize(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return lib$3.deserializeUnchecked(SOLANA_SCHEMA,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32;function isPublicKeyData(e){return void 0!==e._bn}class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if("string"==typeof e){const t=bs58.decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new bn$1(t)}else this._bn=new bn$1(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58.encode(this.toBytes())}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(Buffer);if(32===e.length)return e;const t=Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=Buffer.concat([e.toBuffer(),Buffer.from(t),r.toBuffer()]),i=sha256$1(new Uint8Array(n)).slice(2);return new PublicKey(Buffer.from(i,"hex"))}static async createProgramAddress(e,t){let r=Buffer.alloc(0);e.forEach((function(e){if(e.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");r=Buffer.concat([r,toBuffer$1(e)])})),r=Buffer.concat([r,t.toBuffer(),Buffer.from("ProgramDerivedAddress")]);let n=sha256$1(new Uint8Array(r)).slice(2),i=new bn$1(n,16).toArray(void 0,32);if(is_on_curve(i))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}static async findProgramAddress(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(Buffer.from([n]));r=await this.createProgramAddress(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==is_on_curve(e)}}PublicKey.default=new PublicKey("11111111111111111111111111111111"),SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});let naclLowLevel=naclFast.lowlevel;function is_on_curve(e){var t=[naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf()],r=naclLowLevel.gf(),n=naclLowLevel.gf(),i=naclLowLevel.gf(),o=naclLowLevel.gf(),a=naclLowLevel.gf(),s=naclLowLevel.gf(),c=naclLowLevel.gf();return naclLowLevel.set25519(t[2],gf1),naclLowLevel.unpack25519(t[1],e),naclLowLevel.S(i,t[1]),naclLowLevel.M(o,i,naclLowLevel.D),naclLowLevel.Z(i,i,t[2]),naclLowLevel.A(o,t[2],o),naclLowLevel.S(a,o),naclLowLevel.S(s,a),naclLowLevel.M(c,s,a),naclLowLevel.M(r,c,i),naclLowLevel.M(r,r,o),naclLowLevel.pow2523(r,r),naclLowLevel.M(r,r,i),naclLowLevel.M(r,r,o),naclLowLevel.M(r,r,o),naclLowLevel.M(t[0],r,o),naclLowLevel.S(n,t[0]),naclLowLevel.M(n,n,o),neq25519(n,i)&&naclLowLevel.M(t[0],t[0],I),naclLowLevel.S(n,t[0]),naclLowLevel.M(n,n,o),neq25519(n,i)?0:1}let gf1=naclLowLevel.gf([1]),I=naclLowLevel.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function neq25519(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return naclLowLevel.pack25519(r,e),naclLowLevel.pack25519(n,t),naclLowLevel.crypto_verify_32(r,0,n,0)}class Account{constructor(e){this._keypair=void 0,this._keypair=e?naclFast.sign.keyPair.fromSecretKey(toBuffer$1(e)):naclFast.sign.keyPair()}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return toBuffer$1(this._keypair.secretKey)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),publicKey$1=(e="publicKey")=>Layout_1$1.blob(32,e),rustString=(e="string")=>{const t=Layout_1$1.struct([Layout_1$1.u32("length"),Layout_1$1.u32("lengthPadding"),Layout_1$1.blob(Layout_1$1.offset(Layout_1$1.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString("utf8"),t.encode=(e,t,r)=>{const i={chars:Buffer.from(e,"utf8")};return n(i,t,r)},t.alloc=e=>Layout_1$1.u32().span+Layout_1$1.u32().span+Buffer.from(e,"utf8").length,t},authorized=(e="authorized")=>Layout_1$1.struct([publicKey$1("staker"),publicKey$1("withdrawer")],e),lockup=(e="lockup")=>Layout_1$1.struct([Layout_1$1.ns64("unixTimestamp"),Layout_1$1.ns64("epoch"),publicKey$1("custodian")],e);function getAlloc(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"==typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}function decodeLength(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function encodeLength(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}const PUBKEY_LENGTH=32;class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new PublicKey(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=bs58.decode(e.data);let i=[];encodeLength(i,t.length);let o=[];return encodeLength(o,n.length),{programIdIndex:r,keyIndicesCount:Buffer.from(i),keyIndices:Buffer.from(t),dataLength:Buffer.from(o),data:n}}));let n=[];encodeLength(n,r.length);let i=Buffer.alloc(PACKET_DATA_SIZE);Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=Layout_1$1.struct([Layout_1$1.u8("programIdIndex"),Layout_1$1.blob(e.keyIndicesCount.length,"keyIndicesCount"),Layout_1$1.seq(Layout_1$1.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Layout_1$1.blob(e.dataLength.length,"dataLength"),Layout_1$1.seq(Layout_1$1.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=Layout_1$1.struct([Layout_1$1.blob(1,"numRequiredSignatures"),Layout_1$1.blob(1,"numReadonlySignedAccounts"),Layout_1$1.blob(1,"numReadonlyUnsignedAccounts"),Layout_1$1.blob(t.length,"keyCount"),Layout_1$1.seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),s={numRequiredSignatures:Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Buffer.from(t),keys:this.accountKeys.map((e=>toBuffer$1(e.toBytes()))),recentBlockhash:bs58.decode(this.recentBlockhash)};let c=Buffer.alloc(2048);const u=a.encode(s,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),o=decodeLength(t);let a=[];for(let e=0;e<o;e++){const e=t.slice(0,PUBKEY_LENGTH);t=t.slice(PUBKEY_LENGTH),a.push(bs58.encode(Buffer.from(e)))}const s=t.slice(0,PUBKEY_LENGTH);t=t.slice(PUBKEY_LENGTH);const c=decodeLength(t);let u=[];for(let e=0;e<c;e++){const e=t.shift(),r=decodeLength(t),n=t.slice(0,r);t=t.slice(r);const i=decodeLength(t),o=t.slice(0,i),a=bs58.encode(Buffer.from(o));t=t.slice(i),u.push({programIdIndex:e,accounts:n,data:a})}const l={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:bs58.encode(Buffer.from(s)),accountKeys:a,instructions:u};return new Message(l)}}function assert$7(e,t){if(!e)throw new Error(t||"Assertion failed")}const DEFAULT_SIGNATURE=Buffer.alloc(64).fill(0),PACKET_DATA_SIZE=1232,SIGNATURE_LENGTH=64;class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new TransactionInstruction(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<this.instructions.length;e++)if(void 0===this.instructions[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new PublicKey(e),isSigner:!1,isWritable:!1})})),i.sort((function(e,t){const r=e.isSigner===t.isSigner?0:e.isSigner?-1:1,n=e.isWritable===t.isWritable?0:e.isWritable?-1:1;return r||n}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?o[r].isWritable=o[r].isWritable||e.isWritable:o.push(e)}));const a=o.findIndex((e=>e.pubkey.equals(r)));if(a>-1){const[e]=o.splice(a,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let s=0,c=0,u=0;const l=[],d=[];o.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),s+=1,r||(c+=1)):(d.push(e.toString()),r||(u+=1))}));const f=l.concat(d),h=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:bs58.encode(t)}}));return h.forEach((e=>{assert$7(e.programIdIndex>=0),e.accounts.forEach((e=>assert$7(e>=0)))})),new Message({header:{numRequiredSignatures:s,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:t,instructions:h})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){const r=this.signatures.every(((e,r)=>t[r].equals(e.publicKey)));if(r)return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r),this._verifySignatures(n.serialize(),!0)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=naclFast.sign.detached(r,e.secretKey);this._addSignature(e.publicKey,toBuffer$1(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$7(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!naclFast.sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];encodeLength(r,t.length);const n=r.length+64*t.length+e.length,i=Buffer.alloc(n);return assert$7(t.length<256),Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(assert$7(64===e.length,"signature has invalid length"),Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),assert$7(i.length<=PACKET_DATA_SIZE,`Transaction too large: ${i.length} > ${PACKET_DATA_SIZE}`),i}get keys(){return assert$7(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return assert$7(1===this.instructions.length),this.instructions[0].programId}get data(){return assert$7(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength(t);let n=[];for(let e=0;e<r;e++){const e=t.slice(0,SIGNATURE_LENGTH);t=t.slice(SIGNATURE_LENGTH),n.push(bs58.encode(Buffer.from(e)))}return Transaction.populate(Message.from(t),n)}static populate(e,t=[]){const r=new Transaction;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new TransactionInstruction({keys:n,programId:e.accountKeys[t.programIdIndex],data:bs58.decode(t.data)}))})),r}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111");async function sendAndConfirmTransaction$1(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await e.sendTransaction(t,r,i),a=(await e.confirmTransaction(o,n&&n.commitment)).value;if(a.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(a)})`);return o}function sleep(e){return new Promise((t=>setTimeout(t,e)))}function encodeData(e,t){const r=e.layout.span>=0?e.layout.span:getAlloc(e,t),n=Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function decodeData(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const FeeCalculatorLayout=Layout_1$1.nu64("lamportsPerSignature"),NonceAccountLayout=Layout_1$1.struct([Layout_1$1.u32("version"),Layout_1$1.u32("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),Layout_1$1.struct([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout.decode(toBuffer$1(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(t.authorizedPubkey),nonce:new PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Layout_1$1.u32("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new PublicKey(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new PublicKey(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(t),seed:r,space:n,programId:new PublicKey(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(t),seed:r,programId:new PublicKey(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:o}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(t),seed:r,lamports:n,space:i,programId:new PublicKey(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(t)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports"),Layout_1$1.ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports")])},CreateWithSeed:{index:3,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("base"),rustString("seed"),Layout_1$1.ns64("lamports"),Layout_1$1.ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:Layout_1$1.struct([Layout_1$1.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("space")])},AllocateWithSeed:{index:9,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("base"),rustString("seed"),Layout_1$1.ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports"),rustString("seed"),publicKey$1("programId")])}});class SystemProgram{constructor(){}static createAccount(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.Create,{lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.Assign,{programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Transaction;"basePubkey"in e&&"seed"in e?t.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,{authorized:toBuffer$1(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new TransactionInstruction(r)}static nonceAdvance(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new TransactionInstruction(r)}static nonceWithdraw(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,{authorized:toBuffer$1(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=encodeData(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader$1{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader$1.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),a=await e.getAccountInfo(r.publicKey,"confirmed");let s=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==i.length&&(s=s||new Transaction,s.add(SystemProgram.allocate({accountPubkey:r.publicKey,space:i.length}))),a.owner.equals(n)||(s=s||new Transaction,s.add(SystemProgram.assign({accountPubkey:r.publicKey,programId:n}))),a.lamports<o&&(s=s||new Transaction,s.add(SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-a.lamports})))}else s=(new Transaction).add(SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==s&&await sendAndConfirmTransaction$1(e,s,[t,r],{commitment:"confirmed"})}const o=Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.u32("offset"),Layout_1$1.u32("bytesLength"),Layout_1$1.u32("bytesLengthPadding"),Layout_1$1.seq(Layout_1$1.u8("byte"),Layout_1$1.offset(Layout_1$1.u32(),-8),"bytes")]),a=Loader$1.chunkSize;let s=0,c=i,u=[];for(;c.length>0;){const i=c.slice(0,a),l=Buffer.alloc(a+16);o.encode({instruction:0,offset:s,bytes:i},l);const d=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(u.push(sendAndConfirmTransaction$1(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await sleep(1e3/e)}s+=a,c=c.slice(a)}await Promise.all(u);{const i=Layout_1$1.struct([Layout_1$1.u32("instruction")]),o=Buffer.alloc(i.span);i.encode({instruction:1},o);const a=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:n,data:o});await sendAndConfirmTransaction$1(e,a,[t,r],{commitment:"confirmed"})}return!0}}Loader$1.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader$1.getMinNumSignatures(e)}static load(e,t,r,n,i){return Loader$1.load(e,t,r,i,n)}}var browserPonyfill={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:commonjsGlobal,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var $=[301,302,303,307,308];w.redirect=function(e,t){if(-1===$.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(n,o){var a=new _(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=_,e.Response=w),t.Headers=f,t.Request=_,t.Response=w,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(browserPonyfill,browserPonyfill.exports);var fetch$1=getDefaultExportFromCjs(browserPonyfill.exports);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(e){let t=0;for(;e>1;)e/=2,t++;return t}function nextPowerOfTwo(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,(e|=e>>32)+1)}class EpochSchedule{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1;return[t,e-(this.getSlotsInEpoch(t)-MINIMUM_SLOT_PER_EPOCH)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function promiseTimeout(e,t){let r;const n=new Promise((e=>{r=setTimeout((()=>e(null)),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)))}function makeWebsocketUrl(e){let t=new URL(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}const PublicKeyFromString=coerce(instance$z(PublicKey),string(),(e=>new PublicKey(e))),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance$z(Buffer),RawAccountDataResult,(e=>Buffer.from(e[0],"base64"))),BLOCKHASH_CACHE_TIMEOUT_MS=3e4;function createRpcResult(e){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(e){return coerce(createRpcResult(e),UnknownRpcResult,(t=>"error"in t?t:{...t,result:create(t.result,e)}))}function jsonRpcResultAndContext(e){return jsonRpcResult(type({context:type({slot:number()}),value:e}))}function notificationResultAndContext(e){return type({context:type({slot:number()}),value:e})}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union$1([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())})))),unitsConsumed:optional(number())}));function createRpcClient(e,t,r,n,i){let o;n&&(o=(e,t)=>new Promise(((r,i)=>{n(e,t,(async(e,t)=>{try{r(await fetch$1(e,t))}catch(e){i(e)}}))})));const a=new browser$1((async(t,n)=>{const a={method:"POST",body:t,agent:undefined,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let t,r=5,s=500;for(;(t=o?await o(e,a):await fetch$1(e,a),429===t.status)&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${s}ms delay...`),await sleep(s),s*=2;const c=await t.text();t.ok?n(null,c):n(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(e){e instanceof Error&&n(e)}}),{});return a}function createRpcRequest(e){return(t,r)=>new Promise(((n,i)=>{e.request(t,r,((e,t)=>{e?i(e):n(t)}))}))}function createRpcBatchRequest(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union$1([instance$z(Buffer),ParsedAccountDataResult]),union$1([RawAccountDataResult,ParsedAccountDataResult]),(e=>Array.isArray(e)?create(e,BufferFromRawAccountData):e)),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union$1([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union$1([type({type:union$1([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union$1([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union$1([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string()})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union$1([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$1([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,(e=>create(e,"accounts"in e?RawInstructionResult:ParsedInstructionResult))),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean()})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string()})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),uiTokenAmount:TokenAmountResult}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult)))}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult)))}),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),GetConfirmedBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetConfirmedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult}))),GetParsedConfirmedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number()))}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()});class Connection{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let r=new URL(e);const n="https:"===r.protocol;let i,o,a,s;t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,i=t.wsEndpoint,o=t.httpHeaders,a=t.fetchMiddleware,s=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=i||makeWebsocketUrl(e),this._rpcClient=createRpcClient(r.toString(),n,o,a,s),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new index_browser.Client(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}async getBalanceAndContext(e,t){const r=this._buildArgs([e.toBase58()],t),n=create(await this._rpcRequest("getBalance",r),jsonRpcResultAndContext(number()));if("error"in n)throw new Error("failed to get balance for "+e.toBase58()+": "+n.error.message);return n.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=create(await this._rpcRequest("getBlockTime",[e]),jsonRpcResult(nullable(number())));if("error"in t)throw new Error("failed to get block time for slot "+e+": "+t.error.message);return t.result}async getMinimumLedgerSlot(){const e=create(await this._rpcRequest("minimumLedgerSlot",[]),jsonRpcResult(number()));if("error"in e)throw new Error("failed to get minimum ledger slot: "+e.error.message);return e.result}async getFirstAvailableBlock(){const e=create(await this._rpcRequest("getFirstAvailableBlock",[]),SlotRpcResult);if("error"in e)throw new Error("failed to get first available block: "+e.error.message);return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=create(await this._rpcRequest("getSupply",[t]),GetSupplyRpcResult);if("error"in r)throw new Error("failed to get supply: "+r.error.message);return r.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=create(await this._rpcRequest("getTokenSupply",r),jsonRpcResultAndContext(TokenAmountResult));if("error"in n)throw new Error("failed to get token supply: "+n.error.message);return n.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=create(await this._rpcRequest("getTokenAccountBalance",r),jsonRpcResultAndContext(TokenAmountResult));if("error"in n)throw new Error("failed to get token account balance: "+n.error.message);return n.result}async getTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"base64"),o=create(await this._rpcRequest("getTokenAccountsByOwner",i),GetTokenAccountsByOwner);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=create(await this._rpcRequest("getTokenAccountsByOwner",i),GetParsedTokenAccountsByOwner);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=create(await this._rpcRequest("getLargestAccounts",r),GetLargestAccountsRpcResult);if("error"in n)throw new Error("failed to get largest accounts: "+n.error.message);return n.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=create(await this._rpcRequest("getTokenLargestAccounts",r),GetTokenLargestAccountsResult);if("error"in n)throw new Error("failed to get token largest accounts: "+n.error.message);return n.result}async getAccountInfoAndContext(e,t){const r=this._buildArgs([e.toBase58()],t,"base64"),n=create(await this._rpcRequest("getAccountInfo",r),jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in n)throw new Error("failed to get info about account "+e.toBase58()+": "+n.error.message);return n.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=create(await this._rpcRequest("getAccountInfo",r),jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in n)throw new Error("failed to get info about account "+e.toBase58()+": "+n.error.message);return n.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleAccountsInfo(e,t){const r=e.map((e=>e.toBase58())),n=this._buildArgs([r],t,"base64"),i=create(await this._rpcRequest("getMultipleAccounts",n),jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in i)throw new Error("failed to get info for accounts "+r+": "+i.error.message);return i.result.value}async getStakeActivation(e,t,r){const n=this._buildArgs([e.toBase58()],t,void 0,void 0!==r?{epoch:r}:void 0),i=create(await this._rpcRequest("getStakeActivation",n),jsonRpcResult(StakeActivationResult));if("error"in i)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${i.error.message}`);return i.result}async getProgramAccounts(e,t){const r={};let n,i;t&&("string"==typeof t?n=t:(n=t.commitment,i=t.encoding,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const o=this._buildArgs([e.toBase58()],n,i||"base64",r),a=create(await this._rpcRequest("getProgramAccounts",o),jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const r={};let n;t&&("string"==typeof t?n=t:(n=t.commitment,t.filters&&(r.filters=t.filters)));const i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=create(await this._rpcRequest("getProgramAccounts",i),jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in o)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+o.error.message);return o.result}async confirmTransaction(e,t){let r;try{r=bs58.decode(e)}catch(t){throw new Error("signature must be base58 encoded: "+e)}assert$7(64===r.length,"signature has invalid length");const n=Date.now(),i=t||this.commitment;let o,a=null;const s=new Promise(((t,r)=>{try{o=this.onSignature(e,((e,r)=>{o=void 0,a={context:r,value:e},t(null)}),i)}catch(e){r(e)}}));let c=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":c=this._confirmTransactionInitialTimeout||3e4}try{await promiseTimeout(s,c)}finally{o&&this.removeSignatureListener(o)}if(null===a){const t=(Date.now()-n)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return a}async getClusterNodes(){const e=create(await this._rpcRequest("getClusterNodes",[]),jsonRpcResult(array(ContactInfoResult)));if("error"in e)throw new Error("failed to get cluster nodes: "+e.error.message);return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getVoteAccounts",t),GetVoteAccounts);if("error"in r)throw new Error("failed to get vote accounts: "+r.error.message);return r.result}async getSlot(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getSlot",t),jsonRpcResult(number()));if("error"in r)throw new Error("failed to get slot: "+r.error.message);return r.result}async getSlotLeader(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getSlotLeader",t),jsonRpcResult(string()));if("error"in r)throw new Error("failed to get slot leader: "+r.error.message);return r.result}async getSlotLeaders(e,t){const r=[e,t],n=create(await this._rpcRequest("getSlotLeaders",r),jsonRpcResult(array(PublicKeyFromString)));if("error"in n)throw new Error("failed to get slot leaders: "+n.error.message);return n.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);assert$7(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=create(await this._rpcRequest("getSignatureStatuses",r),GetSignatureStatusesRpcResult);if("error"in n)throw new Error("failed to get signature status: "+n.error.message);return n.result}async getTransactionCount(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getTransactionCount",t),jsonRpcResult(number()));if("error"in r)throw new Error("failed to get transaction count: "+r.error.message);return r.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getInflationGovernor",t),GetInflationGovernorRpcResult);if("error"in r)throw new Error("failed to get inflation: "+r.error.message);return r.result}async getInflationReward(e,t,r){const n=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{epoch:t}),i=create(await this._rpcRequest("getInflationReward",n),GetInflationRewardResult);if("error"in i)throw new Error("failed to get inflation reward: "+i.error.message);return i.result}async getEpochInfo(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getEpochInfo",t),GetEpochInfoRpcResult);if("error"in r)throw new Error("failed to get epoch info: "+r.error.message);return r.result}async getEpochSchedule(){const e=create(await this._rpcRequest("getEpochSchedule",[]),GetEpochScheduleRpcResult);if("error"in e)throw new Error("failed to get epoch schedule: "+e.error.message);const t=e.result;return new EpochSchedule(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=create(await this._rpcRequest("getLeaderSchedule",[]),GetLeaderScheduleRpcResult);if("error"in e)throw new Error("failed to get leader schedule: "+e.error.message);return e.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=create(await this._rpcRequest("getMinimumBalanceForRentExemption",r),GetMinimumBalanceForRentExemptionRpcResult);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=create(await this._rpcRequest("getRecentBlockhash",t),GetRecentBlockhashAndContextRpcResult);if("error"in r)throw new Error("failed to get recent blockhash: "+r.error.message);return r.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),r=create(await this._rpcRequest("getRecentPerformanceSamples",t),GetRecentPerformanceSamplesRpcResult);if("error"in r)throw new Error("failed to get recent performance samples: "+r.error.message);return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=create(await this._rpcRequest("getFeeCalculatorForBlockhash",r),GetFeeCalculatorRpcResult);if("error"in n)throw new Error("failed to get fee calculator: "+n.error.message);const{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getVersion(){const e=create(await this._rpcRequest("getVersion",[]),jsonRpcResult(VersionResult));if("error"in e)throw new Error("failed to get version: "+e.error.message);return e.result}async getGenesisHash(){const e=create(await this._rpcRequest("getGenesisHash",[]),jsonRpcResult(string()));if("error"in e)throw new Error("failed to get genesis hash: "+e.error.message);return e.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=create(await this._rpcRequest("getConfirmedBlock",r),GetConfirmedBlockRpcResult);if("error"in n)throw new Error("failed to get confirmed block: "+n.error.message);const i=n.result;return i?{...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const r=new Message(e.message);return{meta:t,transaction:{...e,message:r}}}))}:i}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=create(await this._rpcRequest("getConfirmedTransaction",r),GetConfirmedTransactionRpcResult);if("error"in n)throw new Error("failed to get confirmed transaction: "+n.error.message);const i=n.result;return i?{...i,transaction:{...i.transaction,message:new Message(i.transaction.message)}}:i}async getConfirmedBlock(e,t){const r=await this.getBlock(e,{commitment:t});if(!r)throw new Error("Confirmed block "+e+" not found");return{...r,transactions:r.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:Transaction.populate(e.message,e.signatures)})))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=create(await this._rpcRequest("getConfirmedBlocks",n),jsonRpcResult(array(number())));if("error"in i)throw new Error("failed to get blocks: "+i.error.message);return i.result}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=create(await this._rpcRequest("getConfirmedBlock",r),GetConfirmedBlockSignaturesRpcResult);if("error"in n)throw new Error("failed to get confirmed block: "+n.error.message);const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=await this.getTransaction(e,{commitment:t});if(!r)return r;const{message:n,signatures:i}=r.transaction;return{...r,transaction:Transaction.populate(n,i)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=create(await this._rpcRequest("getConfirmedTransaction",r),GetParsedConfirmedTransactionRpcResult);if("error"in n)throw new Error("failed to get confirmed transaction: "+n.error.message);return n.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=create(e,GetParsedConfirmedTransactionRpcResult);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in n||++r>o);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=create(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),GetConfirmedSignaturesForAddress2RpcResult);if("error"in i)throw new Error("failed to get confirmed signatures for address: "+i.error.message);return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=create(await this._rpcRequest("getSignaturesForAddress",n),GetSignaturesForAddressRpcResult);if("error"in i)throw new Error("failed to get signatures for address: "+i.error.message);return i.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=NonceAccount.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=create(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),RequestAirdropRpcResult);if("error"in r)throw new Error("airdrop to "+e.toBase58()+" failed: "+r.error.message);return r.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const e=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let e=0;e<50;e++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(n=e instanceof Transaction?e:Transaction.populate(e),n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;n.recentBlockhash=await this._recentBlockhash(e),t;){if(n.sign(...t),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const i=n._compile(),o=i.serialize(),a=n._serialize(o).toString("base64"),s={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));s.accounts={encoding:"base64",addresses:e}}t&&(s.sigVerify=!0);const c=[a,s],u=create(await this._rpcRequest("simulateTransaction",c),SimulatedTransactionResponseStruct);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(u.error.message,r)}throw new SendTransactionError("failed to simulate transaction: "+u.error.message,e)}return u.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(r),e.sign(...t),!e.signature)throw new Error("!signature");const n=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=toBuffer$1(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[e,r],a=create(await this._rpcRequest("sendTransaction",o),SendTransactionRpcResult);if("error"in a){let e;if("data"in a.error&&(e=a.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(a.error.message,r)}throw new SendTransactionError("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(e,t,r){if(null==e.subscriptionId){e.subscriptionId="subscribing";try{const n=await this._rpcWebSocket.call(t,r);"number"==typeof n&&"subscribing"===e.subscriptionId&&(e.subscriptionId=n)}catch(n){"subscribing"===e.subscriptionId&&(e.subscriptionId=null),n instanceof Error&&console.error(`${t} error for argument`,r,n.message)}}}async _unsubscribe(e,t){const r=e.subscriptionId;if(null!=r&&"string"!=typeof r){const e=r;try{await this._rpcWebSocket.call(t,[e])}catch(e){e instanceof Error&&console.error(`${t} error:`,e.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._programAccountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._rootSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._signatureSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotUpdateSubscriptions).forEach((e=>e.subscriptionId=null))}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),t=Object.keys(this._programAccountChangeSubscriptions).map(Number),r=Object.keys(this._slotSubscriptions).map(Number),n=Object.keys(this._slotUpdateSubscriptions).map(Number),i=Object.keys(this._signatureSubscriptions).map(Number),o=Object.keys(this._rootSubscriptions).map(Number),a=Object.keys(this._logsSubscriptions).map(Number);if(0!==e.length||0!==t.length||0!==r.length||0!==n.length||0!==i.length||0!==o.length||0!==a.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let t of e){const e=this._accountChangeSubscriptions[t];this._subscribe(e,"accountSubscribe",this._buildArgs([e.publicKey],e.commitment,"base64"))}for(let e of t){const t=this._programAccountChangeSubscriptions[e];this._subscribe(t,"programSubscribe",this._buildArgs([t.programId],t.commitment,"base64",{filters:t.filters}))}for(let e of r){const t=this._slotSubscriptions[e];this._subscribe(t,"slotSubscribe",[])}for(let e of n){const t=this._slotUpdateSubscriptions[e];this._subscribe(t,"slotsUpdatesSubscribe",[])}for(let e of i){const t=this._signatureSubscriptions[e],r=[t.signature];t.options&&r.push(t.options),this._subscribe(t,"signatureSubscribe",r)}for(let e of o){const t=this._rootSubscriptions[e];this._subscribe(t,"rootSubscribe",[])}for(let e of a){const t=this._logsSubscriptions[e];let r;r="object"==typeof t.filter?{mentions:[t.filter.toString()]}:t.filter,this._subscribe(t,"logsSubscribe",this._buildArgs([r],t.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null,this._rpcWebSocket.close()}),500))}_wsOnAccountNotification(e){const t=create(e,AccountNotificationResult);for(const e of Object.values(this._accountChangeSubscriptions))if(e.subscriptionId===t.subscription)return void e.callback(t.result.value,t.result.context)}onAccountChange(e,t,r){const n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeAccountChangeListener(e){if(!this._accountChangeSubscriptions[e])throw new Error(`Unknown account change id: ${e}`);{const t=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],await this._unsubscribe(t,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(e){const t=create(e,ProgramAccountNotificationResult);for(const e of Object.values(this._programAccountChangeSubscriptions))if(e.subscriptionId===t.subscription){const{value:r,context:n}=t.result;return void e.callback({accountId:r.pubkey,accountInfo:r.account},n)}}onProgramAccountChange(e,t,r,n){const i=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[i]={programId:e.toBase58(),callback:t,commitment:r,subscriptionId:null,filters:n},this._updateSubscriptions(),i}async removeProgramAccountChangeListener(e){if(!this._programAccountChangeSubscriptions[e])throw new Error(`Unknown program account change id: ${e}`);{const t=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],await this._unsubscribe(t,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(e,t,r){const n=++this._logsSubscriptionCounter;return this._logsSubscriptions[n]={filter:e,callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeOnLogsListener(e){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const t=this._logsSubscriptions[e];delete this._logsSubscriptions[e],await this._unsubscribe(t,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(e){const t=create(e,LogsNotificationResult),r=Object.keys(this._logsSubscriptions).map(Number);for(let e of r){const r=this._logsSubscriptions[e];if(r.subscriptionId===t.subscription)return void r.callback(t.result.value,t.result.context)}}_wsOnSlotNotification(e){const t=create(e,SlotNotificationResult);for(const e of Object.values(this._slotSubscriptions))if(e.subscriptionId===t.subscription)return void e.callback(t.result)}onSlotChange(e){const t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotChangeListener(e){if(!this._slotSubscriptions[e])throw new Error(`Unknown slot change id: ${e}`);{const t=this._slotSubscriptions[e];delete this._slotSubscriptions[e],await this._unsubscribe(t,"slotUnsubscribe"),this._updateSubscriptions()}}_wsOnSlotUpdatesNotification(e){const t=create(e,SlotUpdateNotificationResult);for(const e of Object.values(this._slotUpdateSubscriptions))if(e.subscriptionId===t.subscription)return void e.callback(t.result)}onSlotUpdate(e){const t=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotUpdateListener(e){if(!this._slotUpdateSubscriptions[e])throw new Error(`Unknown slot update id: ${e}`);{const t=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],await this._unsubscribe(t,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const t=create(e,SignatureNotificationResult);for(const[e,r]of Object.entries(this._signatureSubscriptions))if(r.subscriptionId===t.subscription)return void("receivedSignature"===t.result.value?r.callback({type:"received"},t.result.context):(delete this._signatureSubscriptions[Number(e)],this._updateSubscriptions(),r.callback({type:"status",result:t.result.value},t.result.context)))}onSignature(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:(e,r)=>{"status"===e.type&&t(e.result,r)},options:{commitment:r},subscriptionId:null},this._updateSubscriptions(),n}onSignatureWithOptions(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:t,options:r,subscriptionId:null},this._updateSubscriptions(),n}async removeSignatureListener(e){if(!this._signatureSubscriptions[e])throw new Error(`Unknown signature result id: ${e}`);{const t=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],await this._unsubscribe(t,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(e){const t=create(e,RootNotificationResult);for(const e of Object.values(this._rootSubscriptions))if(e.subscriptionId===t.subscription)return void e.callback(t.result)}onRootChange(e){const t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeRootChangeListener(e){if(!this._rootSubscriptions[e])throw new Error(`Unknown root change id: ${e}`);{const t=this._rootSubscriptions[e];delete this._rootSubscriptions[e],await this._unsubscribe(t,"rootUnsubscribe"),this._updateSubscriptions()}}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e||naclFast.sign.keyPair()}static generate(){return new Keypair(naclFast.sign.keyPair())}static fromSecretKey(e,t){const r=naclFast.sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=naclFast.sign.detached(e,r.secretKey);if(!naclFast.sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new Keypair(r)}static fromSeed(e){return new Keypair(naclFast.sign.keyPair.fromSeed(e))}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=Layout_1$1.struct([Layout_1$1.u8("numSignatures"),Layout_1$1.u8("padding"),Layout_1$1.u16("signatureOffset"),Layout_1$1.u16("signatureInstructionIndex"),Layout_1$1.u16("publicKeyOffset"),Layout_1$1.u16("publicKeyInstructionIndex"),Layout_1$1.u16("messageDataOffset"),Layout_1$1.u16("messageDataSize"),Layout_1$1.u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;assert$7(t.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${t.length} bytes`),assert$7(n.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${n.length} bytes`);const o=ED25519_INSTRUCTION_LAYOUT.span,a=o+t.length,s=a+n.length,c=Buffer.alloc(s+r.length);return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:i,publicKeyOffset:o,publicKeyInstructionIndex:i,messageDataOffset:s,messageDataSize:r.length,messageInstructionIndex:i},c),c.fill(t,o),c.fill(n,a),c.fill(r,s),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;assert$7(t.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${t.length} bytes`);try{const e=Keypair.fromSecretKey(t),i=e.publicKey.toBytes(),o=naclFast.sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Lockup{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Layout_1$1.u32("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(t.staker),new PublicKey(t.withdrawer)),lockup:new Lockup(r.unixTimestamp,r.epoch,new PublicKey(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=decodeData(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new PublicKey(i),newAuthorizedPubkey:new PublicKey(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("newAuthorized"),Layout_1$1.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Layout_1$1.struct([Layout_1$1.u32("instruction")])},Split:{index:3,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports")])},Withdraw:{index:4,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),Layout_1$1.ns64("lamports")])},Deactivate:{index:5,layout:Layout_1$1.struct([Layout_1$1.u32("instruction")])},Merge:{index:7,layout:Layout_1$1.struct([Layout_1$1.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Layout_1$1.struct([Layout_1$1.u32("instruction"),publicKey$1("newAuthorized"),Layout_1$1.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Lockup.default,o=encodeData(STAKE_INSTRUCTION_LAYOUTS.Initialize,{authorized:{staker:toBuffer$1(r.staker.toBuffer()),withdrawer:toBuffer$1(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:toBuffer$1(i.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new TransactionInstruction(a)}static createAccountWithSeed(e){const t=new Transaction;t.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new Transaction;t.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=encodeData(STAKE_INSTRUCTION_LAYOUTS.Delegate);return(new Transaction).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,a=encodeData(STAKE_INSTRUCTION_LAYOUTS.Authorize,{newAuthorized:toBuffer$1(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Transaction).add({keys:s,programId:this.programId,data:a})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:s}=e,c=encodeData(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,{newAuthorized:toBuffer$1(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:toBuffer$1(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Transaction).add({keys:u,programId:this.programId,data:c})}static split(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const a=encodeData(STAKE_INSTRUCTION_LAYOUTS.Split,{lamports:i});return o.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=encodeData(STAKE_INSTRUCTION_LAYOUTS.Merge);return(new Transaction).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,a=encodeData(STAKE_INSTRUCTION_LAYOUTS.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Transaction).add({keys:s,programId:this.programId,data:a})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=encodeData(STAKE_INSTRUCTION_LAYOUTS.Deactivate);return(new Transaction).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;const{publicKeyCreate:publicKeyCreate,ecdsaSign:ecdsaSign}=elliptic,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=Layout_1$1.struct([Layout_1$1.u8("numSignatures"),Layout_1$1.u16("signatureOffset"),Layout_1$1.u8("signatureInstructionIndex"),Layout_1$1.u16("ethAddressOffset"),Layout_1$1.u8("ethAddressInstructionIndex"),Layout_1$1.u16("messageDataOffset"),Layout_1$1.u16("messageDataSize"),Layout_1$1.u8("messageInstructionIndex"),Layout_1$1.blob(20,"ethAddress"),Layout_1$1.blob(64,"signature"),Layout_1$1.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$7(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return Buffer.from(sha3.keccak_256.update(toBuffer$1(e)).digest()).slice(-ETHEREUM_ADDRESS_BYTES)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?Buffer.from(t.substr(2),"hex"):Buffer.from(t,"hex"):t,assert$7(a.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${a.length} bytes`);const s=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,c=s,u=s+a.length,l=u+n.length+1,d=Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:c,ethAddressInstructionIndex:o,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:o,signature:toBuffer$1(n),ethAddress:toBuffer$1(a),recoveryId:i},d),d.fill(toBuffer$1(r),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;assert$7(t.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${t.length} bytes`);try{const e=toBuffer$1(t),i=publicKeyCreate(e,!1).slice(1),o=Buffer.from(sha3.keccak_256.update(toBuffer$1(r)).digest()),{signature:a,recid:s}=ecdsaSign(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:s,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==decodeLength(t))return null;const r=[];for(let e=0;e<2;e++){const e=new PublicKey(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(VALIDATOR_INFO_KEY)&&r[1].isSigner){const e=rustString().decode(Buffer.from(t)),n=JSON.parse(e);return assert$j(n,InfoString),new ValidatorInfo(r[1].publicKey,n)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=Layout_1$1.struct([publicKey$1("nodePubkey"),publicKey$1("authorizedVoterPubkey"),publicKey$1("authorizedWithdrawerPubkey"),Layout_1$1.u8("commission"),Layout_1$1.nu64(),Layout_1$1.seq(Layout_1$1.struct([Layout_1$1.nu64("slot"),Layout_1$1.u32("confirmationCount")]),Layout_1$1.offset(Layout_1$1.u32(),-8),"votes"),Layout_1$1.u8("rootSlotValid"),Layout_1$1.nu64("rootSlot"),Layout_1$1.nu64("epoch"),Layout_1$1.nu64("credits"),Layout_1$1.nu64("lastEpochCredits"),Layout_1$1.nu64(),Layout_1$1.seq(Layout_1$1.struct([Layout_1$1.nu64("epoch"),Layout_1$1.nu64("credits"),Layout_1$1.nu64("prevCredits")]),Layout_1$1.offset(Layout_1$1.u32(),-8),"epochCredits")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedVoterPubkey=void 0,this.authorizedWithdrawerPubkey=void 0,this.commission=void 0,this.votes=void 0,this.rootSlot=void 0,this.epoch=void 0,this.credits=void 0,this.lastEpochCredits=void 0,this.epochCredits=void 0,this.nodePubkey=e.nodePubkey,this.authorizedVoterPubkey=e.authorizedVoterPubkey,this.authorizedWithdrawerPubkey=e.authorizedWithdrawerPubkey,this.commission=e.commission,this.votes=e.votes,this.rootSlot=e.rootSlot,this.epoch=e.epoch,this.credits=e.credits,this.lastEpochCredits=e.lastEpochCredits,this.epochCredits=e.epochCredits}static fromAccountData(e){const t=VoteAccountLayout.decode(toBuffer$1(e),0);let r=t.rootSlot;return t.rootSlotValid||(r=null),new VoteAccount({nodePubkey:new PublicKey(t.nodePubkey),authorizedVoterPubkey:new PublicKey(t.authorizedVoterPubkey),authorizedWithdrawerPubkey:new PublicKey(t.authorizedWithdrawerPubkey),commission:t.commission,votes:t.votes,rootSlot:r,epoch:t.epoch,credits:t.credits,lastEpochCredits:t.lastEpochCredits,epochCredits:t.epochCredits})}}async function sendAndConfirmRawTransaction(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await e.sendRawTransaction(t,n),o=(await e.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function clusterApiUrl(e,t){const r=!1===t?"http":"https";if(!e)return endpoint[r].devnet;const n=endpoint[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const LAMPORTS_PER_SOL=1e9;var index_browser_esm=Object.freeze({__proto__:null,Account:Account,Authorized:Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID:BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID:BPF_LOADER_PROGRAM_ID,BpfLoader:BpfLoader,Connection:Connection,Ed25519Program:Ed25519Program,Enum:Enum,EpochSchedule:EpochSchedule,FeeCalculatorLayout:FeeCalculatorLayout,Keypair:Keypair,LAMPORTS_PER_SOL:LAMPORTS_PER_SOL,Loader:Loader$1,Lockup:Lockup,MAX_SEED_LENGTH:MAX_SEED_LENGTH,Message:Message,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH,NonceAccount:NonceAccount,PACKET_DATA_SIZE:PACKET_DATA_SIZE,PublicKey:PublicKey,SOLANA_SCHEMA:SOLANA_SCHEMA,STAKE_CONFIG_ID:STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS:STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY:SYSVAR_CLOCK_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY:SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY:SYSVAR_REWARDS_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY:SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program:Secp256k1Program,SendTransactionError:SendTransactionError,StakeAuthorizationLayout:StakeAuthorizationLayout,StakeInstruction:StakeInstruction,StakeProgram:StakeProgram,Struct:Struct,SystemInstruction:SystemInstruction,SystemProgram:SystemProgram,Transaction:Transaction,TransactionInstruction:TransactionInstruction,VALIDATOR_INFO_KEY:VALIDATOR_INFO_KEY,VOTE_PROGRAM_ID:VOTE_PROGRAM_ID,ValidatorInfo:ValidatorInfo,VoteAccount:VoteAccount,clusterApiUrl:clusterApiUrl,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$1}),_a;const isBrowser="undefined"!=typeof window&&!(null===(_a=window.process)||void 0===_a?void 0:_a.hasOwnProperty("type"));class Provider{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!=t?t:Provider.defaultOptions();const r=new Connection(null!=e?e:"http://localhost:8899",t.preflightCommitment),n=NodeWallet.local();return new Provider(r,n,t)}static env(){if(isBrowser)return;const e=require("process").env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=Provider.defaultOptions(),r=new Connection(e,t.commitment),n=NodeWallet.local();return new Provider(r,n,t)}async send(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const n=e.serialize();return await sendAndConfirmRawTransaction(this.connection,n,r)}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(n),o=[];for(let e=0;e<n.length;e+=1){const r=i[e].serialize();o.push(await sendAndConfirmRawTransaction(this.connection,r,t))}return o}async simulate(e,t,r){var n,i;return void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await simulateTransaction(this.connection,e,null!==(i=r.commitment)&&void 0!==i?i:this.opts.commitment)}}class NodeWallet{constructor(e){this.payer=e}static local(){const e=Keypair.fromSecretKey(Buffer.from(JSON.parse(require("fs").readFileSync(require("os").homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new NodeWallet(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}async function simulateTransaction(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),i=[t._serialize(n).toString("base64"),{encoding:"base64",commitment:r}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}function setProvider(e){_provider=e}function getProvider(){return null===_provider?Provider.local():_provider}let _provider=null;const preserveCamelCase=e=>{let t=!1,r=!1,n=!1;for(let i=0;i<e.length;i++){const o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,n=r,r=!0,i++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),n=r,r=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,n=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e},camelCase=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=preserveCamelCase(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),r=e,t.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r;var r};var camelcase=camelCase,_default=camelCase;camelcase.default=_default;class Layout$1{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Layout_2=Layout$1;function nameWithProperty$1(e,t){return t.property?e+"["+t.property+"]":e}var nameWithProperty_1=nameWithProperty$1;function bindConstructorLayout(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Layout$1))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})}var bindConstructorLayout_1=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,t,r){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class UInt$1 extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class Int extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class IntBE extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(e){const t=Math.floor(e/V2E32);return{hi32:t,lo32:e-t*V2E32}}function roundedInt64(e,t){return e*V2E32+t}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return roundedInt64(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=divmodInt64(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return roundedInt64(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=divmodInt64(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return roundedInt64(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=divmodInt64(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return roundedInt64(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=divmodInt64(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class Sequence extends Layout$1{constructor(e,t,r){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ExternalLayout$1&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof ExternalLayout$1)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof ExternalLayout$1&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);const r=[];let n=0,i=this.count;for(i instanceof ExternalLayout$1&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,t,r),i}}class Structure$1 extends Layout$1{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Layout$1),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,t){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class Union extends Layout$1{constructor(e,t,r){const n=e instanceof UInt$1||e instanceof UIntBE;if(n)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&n&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,i=n.decode(e,t);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new VariantLayout(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class VariantLayout extends Layout$1{constructor(e,t,r,n){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(e){return 0>e&&(e+=4294967296),e}class BitStructure extends Layout$1{constructor(e,t,r){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=fixBitwiseResult(e),this},this._packedGetValue=function(){return n}}decode(e,t){const r=this.makeDestinationObject();void 0===t&&(t=0);const n=this.word.decode(e,t);this._packedSetValue(n);for(const e of this.fields)void 0!==e.property&&(r[e.property]=e.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new BitField(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new Boolean$1(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class BitField{constructor(e,t,r){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(){return fixBitwiseResult(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(t&~this.wordMask)|r)}}class Boolean$1 extends BitField{constructor(e,t){super(e,1,t)}decode(e,t){return!!BitField.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,t){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout$1||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof ExternalLayout$1&&(n=e.length),!isBuffer(e)||n!==e.length)throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(n,t,r),n}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,t){if(!isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Buffer(e,"utf8"),i=n.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),t[r+i]=0,i+1}}class UTF8 extends Layout$1{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Buffer(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),i}}class Constant extends Layout$1{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}var ExternalLayout_1=ExternalLayout$1,GreedyCount_1=GreedyCount,OffsetLayout_1=OffsetLayout,UInt_1=UInt$1,UIntBE_1=UIntBE,Int_1=Int,IntBE_1=IntBE,Float_1=Float,FloatBE_1=FloatBE,Double_1=Double,DoubleBE_1=DoubleBE,Sequence_1=Sequence,Structure_1=Structure$1,UnionDiscriminator_1=UnionDiscriminator,UnionLayoutDiscriminator_1=UnionLayoutDiscriminator,Union_1=Union,VariantLayout_1=VariantLayout,BitStructure_1=BitStructure,BitField_1=BitField,_Boolean=Boolean$1,Blob_1=Blob$2,CString_1=CString,UTF8_1=UTF8,Constant_1=Constant,greedy=(e,t)=>new GreedyCount(e,t),offset=(e,t,r)=>new OffsetLayout(e,t,r),u8$1=e=>new UInt$1(1,e),u16=e=>new UInt$1(2,e),u24=e=>new UInt$1(3,e),u32$1=e=>new UInt$1(4,e),u40=e=>new UInt$1(5,e),u48=e=>new UInt$1(6,e),nu64=e=>new NearUInt64(e),u16be=e=>new UIntBE(2,e),u24be=e=>new UIntBE(3,e),u32be=e=>new UIntBE(4,e),u40be=e=>new UIntBE(5,e),u48be=e=>new UIntBE(6,e),nu64be=e=>new NearUInt64BE(e),s8=e=>new Int(1,e),s16=e=>new Int(2,e),s24=e=>new Int(3,e),s32=e=>new Int(4,e),s40=e=>new Int(5,e),s48=e=>new Int(6,e),ns64=e=>new NearInt64(e),s16be=e=>new IntBE(2,e),s24be=e=>new IntBE(3,e),s32be=e=>new IntBE(4,e),s40be=e=>new IntBE(5,e),s48be=e=>new IntBE(6,e),ns64be=e=>new NearInt64BE(e),f32=e=>new Float(e),f32be=e=>new FloatBE(e),f64=e=>new Double(e),f64be=e=>new DoubleBE(e),struct$1=(e,t,r)=>new Structure$1(e,t,r),bits=(e,t,r)=>new BitStructure(e,t,r),seq=(e,t,r)=>new Sequence(e,t,r),union=(e,t,r)=>new Union(e,t,r),unionLayoutDiscriminator=(e,t)=>new UnionLayoutDiscriminator(e,t),blob$1=(e,t)=>new Blob$2(e,t),cstr=e=>new CString(e),utf8=(e,t)=>new UTF8(e,t),_const=(e,t)=>new Constant(e,t),Layout_1={Layout:Layout_2,nameWithProperty:nameWithProperty_1,bindConstructorLayout:bindConstructorLayout_1,ExternalLayout:ExternalLayout_1,GreedyCount:GreedyCount_1,OffsetLayout:OffsetLayout_1,UInt:UInt_1,UIntBE:UIntBE_1,Int:Int_1,IntBE:IntBE_1,Float:Float_1,FloatBE:FloatBE_1,Double:Double_1,DoubleBE:DoubleBE_1,Sequence:Sequence_1,Structure:Structure_1,UnionDiscriminator:UnionDiscriminator_1,UnionLayoutDiscriminator:UnionLayoutDiscriminator_1,Union:Union_1,VariantLayout:VariantLayout_1,BitStructure:BitStructure_1,BitField:BitField_1,Boolean:_Boolean,Blob:Blob_1,CString:CString_1,UTF8:UTF8_1,Constant:Constant_1,greedy:greedy,offset:offset,u8:u8$1,u16:u16,u24:u24,u32:u32$1,u40:u40,u48:u48,nu64:nu64,u16be:u16be,u24be:u24be,u32be:u32be,u40be:u40be,u48be:u48be,nu64be:nu64be,s8:s8,s16:s16,s24:s24,s32:s32,s40:s40,s48:s48,ns64:ns64,s16be:s16be,s24be:s24be,s32be:s32be,s40be:s40be,s48be:s48be,ns64be:ns64be,f32:f32,f32be:f32be,f64:f64,f64be:f64be,struct:struct$1,bits:bits,seq:seq,union:union,unionLayoutDiscriminator:unionLayoutDiscriminator,blob:blob$1,cstr:cstr,utf8:utf8,const:_const},web3_js_1=getAugmentedNamespace(index_browser_esm),lib$1=createCommonjsModule((function(e,t){var r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const n=r(bn$1);var i=Layout_1;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends Layout_1.Layout{constructor(e,t,r){super(e,r),this.blob=Layout_1.blob(e),this.signed=t}decode(e,t=0){const r=new n.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,r)}}function a(e){return new o(8,!1,e)}t.u64=a,t.i64=function(e){return new o(8,!0,e)},t.u128=function(e){return new o(16,!1,e)},t.i128=function(e){return new o(16,!0,e)};class s extends Layout_1.Layout{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new s(Layout_1.blob(32),(e=>new web3_js_1.PublicKey(e)),(e=>e.toBuffer()),e)};class c extends Layout_1.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Layout_1.u8()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function u(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function l(e){return e?1:0}function d(e){const t=Layout_1.u32("length"),r=Layout_1.struct([t,Layout_1.blob(Layout_1.offset(t,-t.span),"data")]);return new s(r,(({data:e})=>e),(e=>({data:e})),e)}t.option=function(e,t){return new c(e,t)},t.bool=function(e){return new s(Layout_1.u8(),u,l,e)},t.vec=function(e,t){const r=Layout_1.u32("length"),n=Layout_1.struct([r,Layout_1.seq(e,Layout_1.offset(r,-r.span),"values")]);return new s(n,(({values:e})=>e),(e=>({values:e})),t)},t.tagged=function(e,t,r){const n=Layout_1.struct([a("tag"),t.replicate("data")]);return new s(n,(function({tag:t,data:r}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return r}),(t=>({tag:e,data:t})),r)},t.vecU8=d,t.str=function(e){return new s(d(),(e=>e.toString("utf-8")),(e=>Buffer.from(e,"utf-8")),e)},t.rustEnum=function(e,t){const r=Layout_1.union(Layout_1.u8(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,r){const n=Layout_1.struct([Layout_1.seq(e,t,"values")]);return new s(n,(({values:e})=>e),(e=>({values:e})),r)}}));class IdlError extends Error{}class ProgramError extends Error{constructor(e,t,...r){super(...r),this.code=e,this.msg=t}static parse(e,t){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(e){return null}let i=t.get(r);return void 0!==i?new ProgramError(r,i):(i=LangErrorMessage.get(r),void 0!==i?new ProgramError(r,i):null)}toString(){return this.msg}}const LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:120,IdlInstructionInvalidProgram:121,ConstraintMut:140,ConstraintHasOne:141,ConstraintSigner:142,ConstraintRaw:143,ConstraintOwner:144,ConstraintRentExempt:145,ConstraintSeeds:146,ConstraintExecutable:147,ConstraintState:148,ConstraintAssociated:149,ConstraintAssociatedInit:150,ConstraintClose:151,ConstraintAddress:152,AccountDiscriminatorAlreadySet:160,AccountDiscriminatorNotFound:161,AccountDiscriminatorMismatch:162,AccountDidNotDeserialize:163,AccountDidNotSerialize:164,AccountNotEnoughKeys:165,AccountNotMutable:166,AccountNotProgramOwned:167,StateInvalidAddress:180,Deprecated:299},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"A state constraint was violated"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountNotProgramOwned,"The given account is not owned by the executing program"],[LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(e,t){const r=void 0!==e.name?camelcase(e.name):void 0;switch(e.type){case"bool":return lib$1.bool(r);case"u8":return lib$1.u8(r);case"i8":return lib$1.i8(r);case"u16":return lib$1.u16(r);case"i16":return lib$1.i16(r);case"u32":return lib$1.u32(r);case"i32":return lib$1.i32(r);case"u64":return lib$1.u64(r);case"i64":return lib$1.i64(r);case"u128":return lib$1.u128(r);case"i128":return lib$1.i128(r);case"bytes":return lib$1.vecU8(r);case"string":return lib$1.str(r);case"publicKey":return lib$1.publicKey(r);default:if(e.type.vec)return lib$1.vec(IdlCoder.fieldLayout({name:void 0,type:e.type.vec},t),r);if(e.type.option)return lib$1.option(IdlCoder.fieldLayout({name:void 0,type:e.type.option},t),r);if(e.type.defined){if(void 0===t)throw new IdlError("User defined types not provided");const n=t.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new IdlError(`Type not found: ${JSON.stringify(e)}`);return IdlCoder.typeDefLayout(n[0],t,r)}if(e.type.array){let n=e.type.array[0],i=e.type.array[1],o=IdlCoder.fieldLayout({name:void 0,type:n},t);return lib$1.array(o,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,r){if("struct"===e.type.kind){const n=e.type.fields.map((e=>IdlCoder.fieldLayout(e,t)));return lib$1.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=camelcase(e.name);if(void 0===e.fields)return lib$1.struct([],r);const n=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return IdlCoder.fieldLayout(e,t)}));return lib$1.struct(n,r)}));return void 0!==r?lib$1.rustEnum(n).replicate(r):lib$1.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)};function lowerCase(e){return e.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?DEFAULT_SPLIT_REGEXP:r,i=t.stripRegexp,o=void 0===i?DEFAULT_STRIP_REGEXP:i,a=t.transform,s=void 0===a?lowerCase:a,c=t.delimiter,u=void 0===c?" ":c,l=replace(replace(e,n,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(u)}function replace(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function dotCase(e,t){return void 0===t&&(t={}),noCase(e,__assign({delimiter:"."},t))}function snakeCase(e,t){return void 0===t&&(t={}),dotCase(e,__assign({delimiter:"_"},t))}var sha256=createCommonjsModule((function(module){
/**
     * [js-sha256]{@link https://github.com/emn178/js-sha256}
     *
     * @version 0.9.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2014-2017
     * @license MIT
     */
(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var o,a=[],s=e.length,c=0;for(n=0;n<s;++n)(o=e.charCodeAt(n))<128?a[c++]=o:o<2048?(a[c++]=192|o>>6,a[c++]=128|63&o):o<55296||o>=57344?(a[c++]=224|o>>12,a[c++]=128|o>>6&63,a[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),a[c++]=240|o>>18,a[c++]=128|o>>12&63,a[c++]=128|o>>6&63,a[c++]=128|63&o);e=a}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],l=[];for(n=0;n<64;++n){var d=e[n]||0;u[n]=92^d,l[n]=54^d}Sha256.call(this,t,r),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,o=0,a=e.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(n=e.charCodeAt(o))<128?s[i>>2]|=n<<SHIFT[3&i++]:n<2048?(s[i>>2]|=(192|n>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(s[i>>2]|=(224|n>>12)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[i>>2]|=(240|n>>18)<<SHIFT[3&i++],s[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,o,a,s,c,u=this.h0,l=this.h1,d=this.h2,f=this.h3,h=this.h4,p=this.h5,m=this.h6,g=this.h7,b=this.blocks;for(e=16;e<64;++e)t=((i=b[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=b[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,b[e]=b[e-16]+t+b[e-7]+r<<0;for(c=l&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=b[0]-1413257819)-150054599<<0,f=i+24177077<<0):(o=704751109,g=(i=b[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(o=u&l)^u&d^c,g=f+(i=g+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&m)+K[e]+b[e])<<0,f=i+(t+n)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(a=f&u)^f&l^o,m=d+(i=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&h^~g&p)+K[e+1]+b[e+1])<<0,t=((d=i+(t+n)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&f)^d&u^a,p=l+(i=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&h)+K[e+2]+b[e+2])<<0,t=((l=i+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(c=l&d)^l&f^s,h=u+(i=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[e+3]+b[e+3])<<0,u=i+(t+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+f<<0,this.h4=this.h4+h<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(c+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||c.push(s>>24&255,s>>16&255,s>>8&255,255&s),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()}));function accountSize(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return typeSize(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>typeSize(e,t.type))).reduce(((e,t)=>e+t))}function typeSize(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+typeSize(e,t.option);if(void 0!==t.defined){const r=e.types.filter((e=>e.name===t.defined));if(1!==r.length)throw new IdlError(`Type not found: ${JSON.stringify(t)}`);return accountSize(e,r[0])}if(void 0!==t.array){let r=t.array[0],n=t.array[1];return typeSize(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function sighash(e,t){let r=`${e}:${snakeCase(t)}`;return Buffer.from(sha256.sha256.digest(r)).slice(0,8)}const SIGHASH_STATE_NAMESPACE="state",SIGHASH_GLOBAL_NAMESPACE="global";class InstructionCoder{constructor(e){this.idl=e,this.ixLayout=InstructionCoder.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=sighash(SIGHASH_GLOBAL_NAMESPACE,e.name);t.set(bs58.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=sighash(SIGHASH_STATE_NAMESPACE,e.name);t.set(bs58.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(SIGHASH_GLOBAL_NAMESPACE,e,t)}encodeState(e,t){return this._encode(SIGHASH_STATE_NAMESPACE,e,t)}_encode(e,t,r){const n=Buffer.alloc(1e3),i=camelcase(t),o=this.ixLayout.get(i).encode(r,n),a=n.slice(0,o);return Buffer.concat([sighash(e,t),a])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>{var r,n;return IdlCoder.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=camelcase(t.name);return[n,lib$1.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>{var r,n;return IdlCoder.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=camelcase(t.name);return[n,lib$1.struct(r,n)]})));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?Buffer.from(e,"hex"):bs58.decode(e));let r=bs58.encode(e.slice(0,8)),n=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(n),name:i.name}:null}format(e,t){return InstructionFormatter.format(e,t,this.idl)}}class InstructionFormatter{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((t=>({name:t.name,type:InstructionFormatter.formatIdlType(t.type),data:InstructionFormatter.formatIdlData(t,e.data[t.name],r.types)}))),o=InstructionFormatter.flattenIdlAccounts(n.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"==typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return InstructionFormatter.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){const n=Object.keys(t).map((n=>{const i=e.type.fields.filter((e=>e.name===n))[0];if(void 0===i)throw new Error("Unable to find type");return n+": "+InstructionFormatter.formatIdlData(i,t[n],r)})).join(", ");return"{ "+n+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=Object.keys(t)[0],i=t[n],o=Object.keys(i).map((t=>{var o;const a=i[t],s=null===(o=e.type.variants[n])||void 0===o?void 0:o.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+InstructionFormatter.formatIdlData(s,a,r)})).join(", "),a=camelcase(n,{pascalCase:!0});return 0===o.length?a:`${a} { ${o} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=sentenceCase(e.name);if(e.accounts){const n=t?`${t} > ${r}`:r;return InstructionFormatter.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}function sentenceCase(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}const ACCOUNT_DISCRIMINATOR_SIZE=8;class AccountsCoder{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,IdlCoder.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const r=Buffer.alloc(1e3),n=this.accountLayouts.get(e).encode(t,r);let i=r.slice(0,n),o=await accountDiscriminator(e);return Buffer.concat([o,i])}decode(e,t){const r=t.slice(8);return this.accountLayouts.get(e).decode(r)}}async function accountDiscriminator(e){return Buffer.from(sha256.sha256.digest(`account:${e}`)).slice(0,8)}class TypesCoder{constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,IdlCoder.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const r=Buffer.alloc(1e3),n=this.layouts.get(e).encode(t,r);return r.slice(0,n)}decode(e,t){return this.layouts.get(e).decode(t)}}for(var toByteArray_1=toByteArray$1,fromByteArray_1=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1="undefined"!=typeof Uint8Array?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len$1=code$1.length;i$1<len$1;++i$1)lookup$1[i$1]=code$1[i$1],revLookup$1[code$1.charCodeAt(i$1)]=i$1;function getLens$1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function _byteLength$1(e,t,r){return 3*(t+r)/4-r}function toByteArray$1(e){var t,r,n=getLens$1(e),i=n[0],o=n[1],a=new Arr$1(_byteLength$1(e,i,o)),s=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=revLookup$1[e.charCodeAt(r)]<<18|revLookup$1[e.charCodeAt(r+1)]<<12|revLookup$1[e.charCodeAt(r+2)]<<6|revLookup$1[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=revLookup$1[e.charCodeAt(r)]<<2|revLookup$1[e.charCodeAt(r+1)]>>4,a[s++]=255&t),1===o&&(t=revLookup$1[e.charCodeAt(r)]<<10|revLookup$1[e.charCodeAt(r+1)]<<4|revLookup$1[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a}function tripletToBase64$1(e){return lookup$1[e>>18&63]+lookup$1[e>>12&63]+lookup$1[e>>6&63]+lookup$1[63&e]}function encodeChunk$1(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(tripletToBase64$1(n));return i.join("")}function fromByteArray$1(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(encodeChunk$1(e,a,a+o>s?s:a+o));return 1===n?(t=e[r-1],i.push(lookup$1[t>>2]+lookup$1[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup$1[t>>10]+lookup$1[t>>4&63]+lookup$1[t<<2&63]+"=")),i.join("")}revLookup$1["-".charCodeAt(0)]=62,revLookup$1["_".charCodeAt(0)]=63;class EventCoder{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,IdlCoder.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[fromByteArray_1(eventDiscriminator(e.name)),e.name])))}decode(e){let t;try{t=Buffer.from(toByteArray_1(e))}catch(e){return null}const r=fromByteArray_1(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;return{data:this.layouts.get(n).decode(t.slice(8)),name:n}}}function eventDiscriminator(e){return Buffer.from(sha256.sha256.digest(`event:${e}`)).slice(0,8)}const _FEATURES=new Map;function isSet$1(e){return void 0!==_FEATURES.get(e)}class StateCoder{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=IdlCoder.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=Buffer.alloc(1e3),n=this.layout.encode(t,r),i=await stateDiscriminator(e),o=r.slice(0,n);return Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function stateDiscriminator(e){let t=isSet$1("anchor-deprecated-state")?"account":"state";return Buffer.from(sha256.sha256.digest(`${t}:${e}`)).slice(0,8)}class Coder{constructor(e){this.instruction=new InstructionCoder(e),this.accounts=new AccountsCoder(e),this.types=new TypesCoder(e),this.events=new EventCoder(e),e.state&&(this.state=new StateCoder(e))}sighash(e,t){return sighash(e,t)}}var parser=function(){function e(e,t,r,n,i,o){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=o,this.name="SyntaxError"}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},i={},o={start:Ot},a=Ot,s=function(){return Tr},c=i,u="#",l={type:"literal",value:"#",description:'"#"'},d=void 0,f={type:"any",description:"any character"},h="[",p={type:"literal",value:"[",description:'"["'},m="]",g={type:"literal",value:"]",description:'"]"'},b=function(e){Pr(Mr("ObjectPath",e,Tt,xt))},y=function(e){Pr(Mr("ArrayPath",e,Tt,xt))},_=function(e,t){return e.concat(t)},v=function(e){return[e]},w=function(e){return e},$=".",S={type:"literal",value:".",description:'"."'},k="=",A={type:"literal",value:"=",description:'"="'},E=function(e,t){Pr(Mr("Assign",t,Tt,xt,e))},I=function(e){return e.join("")},R=function(e){return e.value},T='"""',x={type:"literal",value:'"""',description:'"\\"\\"\\""'},P=null,M=function(e){return Mr("String",e.join(""),Tt,xt)},C='"',O={type:"literal",value:'"',description:'"\\""'},L="'''",B={type:"literal",value:"'''",description:"\"'''\""},N="'",D={type:"literal",value:"'",description:'"\'"'},U=function(e){return e},j=function(e){return e},z="\\",F={type:"literal",value:"\\",description:'"\\\\"'},K=function(){return""},H="e",q={type:"literal",value:"e",description:'"e"'},W="E",V={type:"literal",value:"E",description:'"E"'},Y=function(e,t){return Mr("Float",parseFloat(e+"e"+t),Tt,xt)},G=function(e){return Mr("Float",parseFloat(e),Tt,xt)},Z="+",J={type:"literal",value:"+",description:'"+"'},X=function(e){return e.join("")},Q="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},re=function(e){return Mr("Integer",parseInt(e,10),Tt,xt)},ne="true",ie={type:"literal",value:"true",description:'"true"'},oe=function(){return Mr("Boolean",!0,Tt,xt)},ae="false",se={type:"literal",value:"false",description:'"false"'},ce=function(){return Mr("Boolean",!1,Tt,xt)},ue=function(){return Mr("Array",[],Tt,xt)},le=function(e){return Mr("Array",e?[e]:[],Tt,xt)},de=function(e){return Mr("Array",e,Tt,xt)},fe=function(e,t){return Mr("Array",e.concat(t),Tt,xt)},he=function(e){return e},pe=",",me={type:"literal",value:",",description:'","'},ge="{",be={type:"literal",value:"{",description:'"{"'},ye="}",_e={type:"literal",value:"}",description:'"}"'},ve=function(e){return Mr("InlineTable",e,Tt,xt)},we=function(e,t){return Mr("InlineTableValue",t,Tt,xt,e)},$e=function(e){return"."+e},Se=function(e){return e.join("")},ke=":",Ae={type:"literal",value:":",description:'":"'},Ee=function(e){return e.join("")},Ie="T",Re={type:"literal",value:"T",description:'"T"'},Te="Z",xe={type:"literal",value:"Z",description:'"Z"'},Pe=function(e,t){return Mr("Date",new Date(e+"T"+t+"Z"),Tt,xt)},Me=function(e,t){return Mr("Date",new Date(e+"T"+t),Tt,xt)},Ce=/^[ \t]/,Oe={type:"class",value:"[ \\t]",description:"[ \\t]"},Le="\n",Be={type:"literal",value:"\n",description:'"\\n"'},Ne="\r",De={type:"literal",value:"\r",description:'"\\r"'},Ue=/^[0-9a-f]/i,je={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ze=/^[0-9]/,Fe={type:"class",value:"[0-9]",description:"[0-9]"},Ke="_",He={type:"literal",value:"_",description:'"_"'},qe=function(){return""},We=/^[A-Za-z0-9_\-]/,Ve={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Ye=function(e){return e.join("")},Ge='\\"',Ze={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Xe="\\\\",Qe={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",rt={type:"literal",value:"\\b",description:'"\\\\b"'},nt=function(){return"\b"},it="\\t",ot={type:"literal",value:"\\t",description:'"\\\\t"'},at=function(){return"\t"},st="\\n",ct={type:"literal",value:"\\n",description:'"\\\\n"'},ut=function(){return"\n"},lt="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ft=function(){return"\f"},ht="\\r",pt={type:"literal",value:"\\r",description:'"\\\\r"'},mt=function(){return"\r"},gt="\\U",bt={type:"literal",value:"\\U",description:'"\\\\U"'},yt=function(e){return Cr(e.join(""))},_t="\\u",vt={type:"literal",value:"\\u",description:'"\\\\u"'},wt=0,$t=0,St=0,kt={line:1,column:1,seenCR:!1},At=0,Et=[],It=0,Rt={};if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=o[n.startRule]}function Tt(){return Pt($t).line}function xt(){return Pt($t).column}function Pt(e){return St!==e&&(St>e&&(St=0,kt={line:1,column:1,seenCR:!1}),function(e,r,n){var i,o;for(i=r;i<n;i++)"\n"===(o=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(kt,St,e),St=e),kt}function Mt(e){wt<At||(wt>At&&(At=wt,Et=[]),Et.push(e))}function Ct(r,n,i){var o=Pt(i),a=i<t.length?t.charAt(i):null;return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==r?r:function(e,t){var r,n,i,o=new Array(e.length);for(i=0;i<e.length;i++)o[i]=e[i].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],n=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input","Expected "+r+" but "+n+" found."}(n,a),n,a,i,o.line,o.column)}function Ot(){var e,t,r,n=49*wt+0,o=Rt[n];if(o)return wt=o.nextPos,o.result;for(e=wt,t=[],r=Lt();r!==i;)t.push(r),r=Lt();return t!==i&&($t=e,t=s()),e=t,Rt[n]={nextPos:wt,result:e},e}function Lt(){var e,t,r,n,o,a,s,u=49*wt+1,l=Rt[u];if(l)return wt=l.nextPos,l.result;for(e=wt,t=[],r=_r();r!==i;)t.push(r),r=_r();if(t!==i)if((r=Bt())!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();if(n!==i){for(o=[],a=Nt();a!==i;)o.push(a),a=Nt();if(o!==i){if(a=[],(s=vr())!==i)for(;s!==i;)a.push(s),s=vr();else a=c;a===i&&(a=$r()),a!==i?e=t=[t,r,n,o,a]:(wt=e,e=c)}else wt=e,e=c}else wt=e,e=c}else wt=e,e=c;else wt=e,e=c;if(e===i){if(e=wt,t=[],(r=_r())!==i)for(;r!==i;)t.push(r),r=_r();else t=c;if(t!==i){if(r=[],(n=vr())!==i)for(;n!==i;)r.push(n),n=vr();else r=c;r===i&&(r=$r()),r!==i?e=t=[t,r]:(wt=e,e=c)}else wt=e,e=c;e===i&&(e=vr())}return Rt[u]={nextPos:wt,result:e},e}function Bt(){var e,t=49*wt+2,r=Rt[t];return r?(wt=r.nextPos,r.result):((e=Nt())===i&&(e=Dt())===i&&(e=Ut())===i&&(e=Kt()),Rt[t]={nextPos:wt,result:e},e)}function Nt(){var e,r,n,o,a,s,h=49*wt+3,p=Rt[h];if(p)return wt=p.nextPos,p.result;if(e=wt,35===t.charCodeAt(wt)?(r=u,wt++):(r=i,0===It&&Mt(l)),r!==i){for(n=[],o=wt,a=wt,It++,(s=vr())===i&&(s=$r()),It--,s===i?a=d:(wt=a,a=c),a!==i?(t.length>wt?(s=t.charAt(wt),wt++):(s=i,0===It&&Mt(f)),s!==i?o=a=[a,s]:(wt=o,o=c)):(wt=o,o=c);o!==i;)n.push(o),o=wt,a=wt,It++,(s=vr())===i&&(s=$r()),It--,s===i?a=d:(wt=a,a=c),a!==i?(t.length>wt?(s=t.charAt(wt),wt++):(s=i,0===It&&Mt(f)),s!==i?o=a=[a,s]:(wt=o,o=c)):(wt=o,o=c);n!==i?e=r=[r,n]:(wt=e,e=c)}else wt=e,e=c;return Rt[h]={nextPos:wt,result:e},e}function Dt(){var e,r,n,o,a,s,u=49*wt+4,l=Rt[u];if(l)return wt=l.nextPos,l.result;if(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();if(n!==i)if((o=jt())!==i){for(a=[],s=_r();s!==i;)a.push(s),s=_r();a!==i?(93===t.charCodeAt(wt)?(s=m,wt++):(s=i,0===It&&Mt(g)),s!==i?($t=e,e=r=b(o)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;return Rt[u]={nextPos:wt,result:e},e}function Ut(){var e,r,n,o,a,s,u,l,d=49*wt+5,f=Rt[d];if(f)return wt=f.nextPos,f.result;if(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i)if(91===t.charCodeAt(wt)?(n=h,wt++):(n=i,0===It&&Mt(p)),n!==i){for(o=[],a=_r();a!==i;)o.push(a),a=_r();if(o!==i)if((a=jt())!==i){for(s=[],u=_r();u!==i;)s.push(u),u=_r();s!==i?(93===t.charCodeAt(wt)?(u=m,wt++):(u=i,0===It&&Mt(g)),u!==i?(93===t.charCodeAt(wt)?(l=m,wt++):(l=i,0===It&&Mt(g)),l!==i?($t=e,e=r=y(a)):(wt=e,e=c)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c;return Rt[d]={nextPos:wt,result:e},e}function jt(){var e,t,r,n=49*wt+6,o=Rt[n];if(o)return wt=o.nextPos,o.result;if(e=wt,t=[],(r=Ft())!==i)for(;r!==i;)t.push(r),r=Ft();else t=c;return t!==i&&(r=zt())!==i?($t=e,e=t=_(t,r)):(wt=e,e=c),e===i&&(e=wt,(t=zt())!==i&&($t=e,t=v(t)),e=t),Rt[n]={nextPos:wt,result:e},e}function zt(){var e,t,r,n,o,a=49*wt+7,s=Rt[a];if(s)return wt=s.nextPos,s.result;for(e=wt,t=[],r=_r();r!==i;)t.push(r),r=_r();if(t!==i)if((r=Ht())!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();n!==i?($t=e,e=t=w(r)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c;if(e===i){for(e=wt,t=[],r=_r();r!==i;)t.push(r),r=_r();if(t!==i)if((r=qt())!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();n!==i?($t=e,e=t=w(r)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}return Rt[a]={nextPos:wt,result:e},e}function Ft(){var e,r,n,o,a,s,u,l=49*wt+8,d=Rt[l];if(d)return wt=d.nextPos,d.result;for(e=wt,r=[],n=_r();n!==i;)r.push(n),n=_r();if(r!==i)if((n=Ht())!==i){for(o=[],a=_r();a!==i;)o.push(a),a=_r();if(o!==i)if(46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),a!==i){for(s=[],u=_r();u!==i;)s.push(u),u=_r();s!==i?($t=e,e=r=w(n)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c;if(e===i){for(e=wt,r=[],n=_r();n!==i;)r.push(n),n=_r();if(r!==i)if((n=qt())!==i){for(o=[],a=_r();a!==i;)o.push(a),a=_r();if(o!==i)if(46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),a!==i){for(s=[],u=_r();u!==i;)s.push(u),u=_r();s!==i?($t=e,e=r=w(n)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c}return Rt[l]={nextPos:wt,result:e},e}function Kt(){var e,r,n,o,a,s,u=49*wt+9,l=Rt[u];if(l)return wt=l.nextPos,l.result;if(e=wt,(r=Ht())!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();if(n!==i)if(61===t.charCodeAt(wt)?(o=k,wt++):(o=i,0===It&&Mt(A)),o!==i){for(a=[],s=_r();s!==i;)a.push(s),s=_r();a!==i&&(s=Wt())!==i?($t=e,e=r=E(r,s)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;if(e===i)if(e=wt,(r=qt())!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();if(n!==i)if(61===t.charCodeAt(wt)?(o=k,wt++):(o=i,0===It&&Mt(A)),o!==i){for(a=[],s=_r();s!==i;)a.push(s),s=_r();a!==i&&(s=Wt())!==i?($t=e,e=r=E(r,s)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;return Rt[u]={nextPos:wt,result:e},e}function Ht(){var e,t,r,n=49*wt+10,o=Rt[n];if(o)return wt=o.nextPos,o.result;if(e=wt,t=[],(r=Ar())!==i)for(;r!==i;)t.push(r),r=Ar();else t=c;return t!==i&&($t=e,t=I(t)),e=t,Rt[n]={nextPos:wt,result:e},e}function qt(){var e,t,r=49*wt+11,n=Rt[r];return n?(wt=n.nextPos,n.result):(e=wt,(t=Gt())!==i&&($t=e,t=R(t)),(e=t)===i&&(e=wt,(t=Jt())!==i&&($t=e,t=R(t)),e=t),Rt[r]={nextPos:wt,result:e},e)}function Wt(){var e,t=49*wt+12,r=Rt[t];return r?(wt=r.nextPos,r.result):((e=Vt())===i&&(e=yr())===i&&(e=nr())===i&&(e=or())===i&&(e=sr())===i&&(e=cr())===i&&(e=fr()),Rt[t]={nextPos:wt,result:e},e)}function Vt(){var e,t=49*wt+13,r=Rt[t];return r?(wt=r.nextPos,r.result):((e=Yt())===i&&(e=Gt())===i&&(e=Zt())===i&&(e=Jt()),Rt[t]={nextPos:wt,result:e},e)}function Yt(){var e,r,n,o,a,s=49*wt+14,u=Rt[s];if(u)return wt=u.nextPos,u.result;if(e=wt,t.substr(wt,3)===T?(r=T,wt+=3):(r=i,0===It&&Mt(x)),r!==i)if((n=vr())===i&&(n=P),n!==i){for(o=[],a=er();a!==i;)o.push(a),a=er();o!==i?(t.substr(wt,3)===T?(a=T,wt+=3):(a=i,0===It&&Mt(x)),a!==i?($t=e,e=r=M(o)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c;return Rt[s]={nextPos:wt,result:e},e}function Gt(){var e,r,n,o,a=49*wt+15,s=Rt[a];if(s)return wt=s.nextPos,s.result;if(e=wt,34===t.charCodeAt(wt)?(r=C,wt++):(r=i,0===It&&Mt(O)),r!==i){for(n=[],o=Xt();o!==i;)n.push(o),o=Xt();n!==i?(34===t.charCodeAt(wt)?(o=C,wt++):(o=i,0===It&&Mt(O)),o!==i?($t=e,e=r=M(n)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;return Rt[a]={nextPos:wt,result:e},e}function Zt(){var e,r,n,o,a,s=49*wt+16,u=Rt[s];if(u)return wt=u.nextPos,u.result;if(e=wt,t.substr(wt,3)===L?(r=L,wt+=3):(r=i,0===It&&Mt(B)),r!==i)if((n=vr())===i&&(n=P),n!==i){for(o=[],a=rr();a!==i;)o.push(a),a=rr();o!==i?(t.substr(wt,3)===L?(a=L,wt+=3):(a=i,0===It&&Mt(B)),a!==i?($t=e,e=r=M(o)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c;return Rt[s]={nextPos:wt,result:e},e}function Jt(){var e,r,n,o,a=49*wt+17,s=Rt[a];if(s)return wt=s.nextPos,s.result;if(e=wt,39===t.charCodeAt(wt)?(r=N,wt++):(r=i,0===It&&Mt(D)),r!==i){for(n=[],o=Qt();o!==i;)n.push(o),o=Qt();n!==i?(39===t.charCodeAt(wt)?(o=N,wt++):(o=i,0===It&&Mt(D)),o!==i?($t=e,e=r=M(n)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;return Rt[a]={nextPos:wt,result:e},e}function Xt(){var e,r,n,o=49*wt+18,a=Rt[o];return a?(wt=a.nextPos,a.result):((e=Ir())===i&&(e=wt,r=wt,It++,34===t.charCodeAt(wt)?(n=C,wt++):(n=i,0===It&&Mt(O)),It--,n===i?r=d:(wt=r,r=c),r!==i?(t.length>wt?(n=t.charAt(wt),wt++):(n=i,0===It&&Mt(f)),n!==i?($t=e,e=r=U(n)):(wt=e,e=c)):(wt=e,e=c)),Rt[o]={nextPos:wt,result:e},e)}function Qt(){var e,r,n,o=49*wt+19,a=Rt[o];return a?(wt=a.nextPos,a.result):(e=wt,r=wt,It++,39===t.charCodeAt(wt)?(n=N,wt++):(n=i,0===It&&Mt(D)),It--,n===i?r=d:(wt=r,r=c),r!==i?(t.length>wt?(n=t.charAt(wt),wt++):(n=i,0===It&&Mt(f)),n!==i?($t=e,e=r=U(n)):(wt=e,e=c)):(wt=e,e=c),Rt[o]={nextPos:wt,result:e},e)}function er(){var e,r,n,o=49*wt+20,a=Rt[o];return a?(wt=a.nextPos,a.result):((e=Ir())===i&&(e=tr())===i&&(e=wt,r=wt,It++,t.substr(wt,3)===T?(n=T,wt+=3):(n=i,0===It&&Mt(x)),It--,n===i?r=d:(wt=r,r=c),r!==i?(t.length>wt?(n=t.charAt(wt),wt++):(n=i,0===It&&Mt(f)),n!==i?($t=e,e=r=j(n)):(wt=e,e=c)):(wt=e,e=c)),Rt[o]={nextPos:wt,result:e},e)}function tr(){var e,r,n,o,a=49*wt+21,s=Rt[a];if(s)return wt=s.nextPos,s.result;if(e=wt,92===t.charCodeAt(wt)?(r=z,wt++):(r=i,0===It&&Mt(F)),r!==i)if(vr()!==i){for(n=[],o=wr();o!==i;)n.push(o),o=wr();n!==i?($t=e,e=r=K()):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c;return Rt[a]={nextPos:wt,result:e},e}function rr(){var e,r,n,o=49*wt+22,a=Rt[o];return a?(wt=a.nextPos,a.result):(e=wt,r=wt,It++,t.substr(wt,3)===L?(n=L,wt+=3):(n=i,0===It&&Mt(B)),It--,n===i?r=d:(wt=r,r=c),r!==i?(t.length>wt?(n=t.charAt(wt),wt++):(n=i,0===It&&Mt(f)),n!==i?($t=e,e=r=U(n)):(wt=e,e=c)):(wt=e,e=c),Rt[o]={nextPos:wt,result:e},e)}function nr(){var e,r,n,o,a=49*wt+23,s=Rt[a];return s?(wt=s.nextPos,s.result):(e=wt,(r=ir())===i&&(r=ar()),r!==i?(101===t.charCodeAt(wt)?(n=H,wt++):(n=i,0===It&&Mt(q)),n===i&&(69===t.charCodeAt(wt)?(n=W,wt++):(n=i,0===It&&Mt(V))),n!==i&&(o=ar())!==i?($t=e,e=r=Y(r,o)):(wt=e,e=c)):(wt=e,e=c),e===i&&(e=wt,(r=ir())!==i&&($t=e,r=G(r)),e=r),Rt[a]={nextPos:wt,result:e},e)}function ir(){var e,r,n,o,a,s,u=49*wt+24,l=Rt[u];return l?(wt=l.nextPos,l.result):(e=wt,43===t.charCodeAt(wt)?(r=Z,wt++):(r=i,0===It&&Mt(J)),r===i&&(r=P),r!==i?(n=wt,(o=Er())!==i?(46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),a!==i&&(s=Er())!==i?n=o=[o,a,s]:(wt=n,n=c)):(wt=n,n=c),n!==i?($t=e,e=r=X(n)):(wt=e,e=c)):(wt=e,e=c),e===i&&(e=wt,45===t.charCodeAt(wt)?(r=Q,wt++):(r=i,0===It&&Mt(ee)),r!==i?(n=wt,(o=Er())!==i?(46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),a!==i&&(s=Er())!==i?n=o=[o,a,s]:(wt=n,n=c)):(wt=n,n=c),n!==i?($t=e,e=r=te(n)):(wt=e,e=c)):(wt=e,e=c)),Rt[u]={nextPos:wt,result:e},e)}function or(){var e,t,r=49*wt+25,n=Rt[r];return n?(wt=n.nextPos,n.result):(e=wt,(t=ar())!==i&&($t=e,t=re(t)),e=t,Rt[r]={nextPos:wt,result:e},e)}function ar(){var e,r,n,o,a,s=49*wt+26,u=Rt[s];if(u)return wt=u.nextPos,u.result;if(e=wt,43===t.charCodeAt(wt)?(r=Z,wt++):(r=i,0===It&&Mt(J)),r===i&&(r=P),r!==i){if(n=[],(o=kr())!==i)for(;o!==i;)n.push(o),o=kr();else n=c;n!==i?(o=wt,It++,46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),It--,a===i?o=d:(wt=o,o=c),o!==i?($t=e,e=r=X(n)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;if(e===i)if(e=wt,45===t.charCodeAt(wt)?(r=Q,wt++):(r=i,0===It&&Mt(ee)),r!==i){if(n=[],(o=kr())!==i)for(;o!==i;)n.push(o),o=kr();else n=c;n!==i?(o=wt,It++,46===t.charCodeAt(wt)?(a=$,wt++):(a=i,0===It&&Mt(S)),It--,a===i?o=d:(wt=o,o=c),o!==i?($t=e,e=r=te(n)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;return Rt[s]={nextPos:wt,result:e},e}function sr(){var e,r,n=49*wt+27,o=Rt[n];return o?(wt=o.nextPos,o.result):(e=wt,t.substr(wt,4)===ne?(r=ne,wt+=4):(r=i,0===It&&Mt(ie)),r!==i&&($t=e,r=oe()),(e=r)===i&&(e=wt,t.substr(wt,5)===ae?(r=ae,wt+=5):(r=i,0===It&&Mt(se)),r!==i&&($t=e,r=ce()),e=r),Rt[n]={nextPos:wt,result:e},e)}function cr(){var e,r,n,o,a,s=49*wt+28,u=Rt[s];if(u)return wt=u.nextPos,u.result;if(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i){for(n=[],o=dr();o!==i;)n.push(o),o=dr();n!==i?(93===t.charCodeAt(wt)?(o=m,wt++):(o=i,0===It&&Mt(g)),o!==i?($t=e,e=r=ue()):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;if(e===i&&(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i?((n=ur())===i&&(n=P),n!==i?(93===t.charCodeAt(wt)?(o=m,wt++):(o=i,0===It&&Mt(g)),o!==i?($t=e,e=r=le(n)):(wt=e,e=c)):(wt=e,e=c)):(wt=e,e=c),e===i)){if(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i){if(n=[],(o=lr())!==i)for(;o!==i;)n.push(o),o=lr();else n=c;n!==i?(93===t.charCodeAt(wt)?(o=m,wt++):(o=i,0===It&&Mt(g)),o!==i?($t=e,e=r=de(n)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c;if(e===i)if(e=wt,91===t.charCodeAt(wt)?(r=h,wt++):(r=i,0===It&&Mt(p)),r!==i){if(n=[],(o=lr())!==i)for(;o!==i;)n.push(o),o=lr();else n=c;n!==i&&(o=ur())!==i?(93===t.charCodeAt(wt)?(a=m,wt++):(a=i,0===It&&Mt(g)),a!==i?($t=e,e=r=fe(n,o)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c}return Rt[s]={nextPos:wt,result:e},e}function ur(){var e,t,r,n,o,a=49*wt+29,s=Rt[a];if(s)return wt=s.nextPos,s.result;for(e=wt,t=[],r=dr();r!==i;)t.push(r),r=dr();if(t!==i)if((r=Wt())!==i){for(n=[],o=dr();o!==i;)n.push(o),o=dr();n!==i?($t=e,e=t=he(r)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c;return Rt[a]={nextPos:wt,result:e},e}function lr(){var e,r,n,o,a,s,u,l=49*wt+30,d=Rt[l];if(d)return wt=d.nextPos,d.result;for(e=wt,r=[],n=dr();n!==i;)r.push(n),n=dr();if(r!==i)if((n=Wt())!==i){for(o=[],a=dr();a!==i;)o.push(a),a=dr();if(o!==i)if(44===t.charCodeAt(wt)?(a=pe,wt++):(a=i,0===It&&Mt(me)),a!==i){for(s=[],u=dr();u!==i;)s.push(u),u=dr();s!==i?($t=e,e=r=he(n)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c;return Rt[l]={nextPos:wt,result:e},e}function dr(){var e,t=49*wt+31,r=Rt[t];return r?(wt=r.nextPos,r.result):((e=_r())===i&&(e=vr())===i&&(e=Nt()),Rt[t]={nextPos:wt,result:e},e)}function fr(){var e,r,n,o,a,s,u=49*wt+32,l=Rt[u];if(l)return wt=l.nextPos,l.result;if(e=wt,123===t.charCodeAt(wt)?(r=ge,wt++):(r=i,0===It&&Mt(be)),r!==i){for(n=[],o=_r();o!==i;)n.push(o),o=_r();if(n!==i){for(o=[],a=hr();a!==i;)o.push(a),a=hr();if(o!==i){for(a=[],s=_r();s!==i;)a.push(s),s=_r();a!==i?(125===t.charCodeAt(wt)?(s=ye,wt++):(s=i,0===It&&Mt(_e)),s!==i?($t=e,e=r=ve(o)):(wt=e,e=c)):(wt=e,e=c)}else wt=e,e=c}else wt=e,e=c}else wt=e,e=c;return Rt[u]={nextPos:wt,result:e},e}function hr(){var e,r,n,o,a,s,u,l,d,f,h,p=49*wt+33,m=Rt[p];if(m)return wt=m.nextPos,m.result;for(e=wt,r=[],n=_r();n!==i;)r.push(n),n=_r();if(r!==i)if((n=Ht())!==i){for(o=[],a=_r();a!==i;)o.push(a),a=_r();if(o!==i)if(61===t.charCodeAt(wt)?(a=k,wt++):(a=i,0===It&&Mt(A)),a!==i){for(s=[],u=_r();u!==i;)s.push(u),u=_r();if(s!==i)if((u=Wt())!==i){for(l=[],d=_r();d!==i;)l.push(d),d=_r();if(l!==i)if(44===t.charCodeAt(wt)?(d=pe,wt++):(d=i,0===It&&Mt(me)),d!==i){for(f=[],h=_r();h!==i;)f.push(h),h=_r();f!==i?($t=e,e=r=we(n,u)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c;if(e===i){for(e=wt,r=[],n=_r();n!==i;)r.push(n),n=_r();if(r!==i)if((n=Ht())!==i){for(o=[],a=_r();a!==i;)o.push(a),a=_r();if(o!==i)if(61===t.charCodeAt(wt)?(a=k,wt++):(a=i,0===It&&Mt(A)),a!==i){for(s=[],u=_r();u!==i;)s.push(u),u=_r();s!==i&&(u=Wt())!==i?($t=e,e=r=we(n,u)):(wt=e,e=c)}else wt=e,e=c;else wt=e,e=c}else wt=e,e=c;else wt=e,e=c}return Rt[p]={nextPos:wt,result:e},e}function pr(){var e,r,n,o=49*wt+34,a=Rt[o];return a?(wt=a.nextPos,a.result):(e=wt,46===t.charCodeAt(wt)?(r=$,wt++):(r=i,0===It&&Mt(S)),r!==i&&(n=Er())!==i?($t=e,e=r=$e(n)):(wt=e,e=c),Rt[o]={nextPos:wt,result:e},e)}function mr(){var e,r,n,o,a,s,u,l,d,f,h,p,m=49*wt+35,g=Rt[m];return g?(wt=g.nextPos,g.result):(e=wt,r=wt,(n=kr())!==i&&(o=kr())!==i&&(a=kr())!==i&&(s=kr())!==i?(45===t.charCodeAt(wt)?(u=Q,wt++):(u=i,0===It&&Mt(ee)),u!==i&&(l=kr())!==i&&(d=kr())!==i?(45===t.charCodeAt(wt)?(f=Q,wt++):(f=i,0===It&&Mt(ee)),f!==i&&(h=kr())!==i&&(p=kr())!==i?r=n=[n,o,a,s,u,l,d,f,h,p]:(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c),r!==i&&($t=e,r=Se(r)),e=r,Rt[m]={nextPos:wt,result:e},e)}function gr(){var e,r,n,o,a,s,u,l,d,f,h,p=49*wt+36,m=Rt[p];return m?(wt=m.nextPos,m.result):(e=wt,r=wt,(n=kr())!==i&&(o=kr())!==i?(58===t.charCodeAt(wt)?(a=ke,wt++):(a=i,0===It&&Mt(Ae)),a!==i&&(s=kr())!==i&&(u=kr())!==i?(58===t.charCodeAt(wt)?(l=ke,wt++):(l=i,0===It&&Mt(Ae)),l!==i&&(d=kr())!==i&&(f=kr())!==i?((h=pr())===i&&(h=P),h!==i?r=n=[n,o,a,s,u,l,d,f,h]:(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c),r!==i&&($t=e,r=Ee(r)),e=r,Rt[p]={nextPos:wt,result:e},e)}function br(){var e,r,n,o,a,s,u,l,d,f,h,p,m,g,b,y,_,v=49*wt+37,w=Rt[v];return w?(wt=w.nextPos,w.result):(e=wt,r=wt,(n=kr())!==i&&(o=kr())!==i?(58===t.charCodeAt(wt)?(a=ke,wt++):(a=i,0===It&&Mt(Ae)),a!==i&&(s=kr())!==i&&(u=kr())!==i?(58===t.charCodeAt(wt)?(l=ke,wt++):(l=i,0===It&&Mt(Ae)),l!==i&&(d=kr())!==i&&(f=kr())!==i?((h=pr())===i&&(h=P),h!==i?(45===t.charCodeAt(wt)?(p=Q,wt++):(p=i,0===It&&Mt(ee)),p===i&&(43===t.charCodeAt(wt)?(p=Z,wt++):(p=i,0===It&&Mt(J))),p!==i&&(m=kr())!==i&&(g=kr())!==i?(58===t.charCodeAt(wt)?(b=ke,wt++):(b=i,0===It&&Mt(Ae)),b!==i&&(y=kr())!==i&&(_=kr())!==i?r=n=[n,o,a,s,u,l,d,f,h,p,m,g,b,y,_]:(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c)):(wt=r,r=c),r!==i&&($t=e,r=Ee(r)),e=r,Rt[v]={nextPos:wt,result:e},e)}function yr(){var e,r,n,o,a,s=49*wt+38,u=Rt[s];return u?(wt=u.nextPos,u.result):(e=wt,(r=mr())!==i?(84===t.charCodeAt(wt)?(n=Ie,wt++):(n=i,0===It&&Mt(Re)),n!==i&&(o=gr())!==i?(90===t.charCodeAt(wt)?(a=Te,wt++):(a=i,0===It&&Mt(xe)),a!==i?($t=e,e=r=Pe(r,o)):(wt=e,e=c)):(wt=e,e=c)):(wt=e,e=c),e===i&&(e=wt,(r=mr())!==i?(84===t.charCodeAt(wt)?(n=Ie,wt++):(n=i,0===It&&Mt(Re)),n!==i&&(o=br())!==i?($t=e,e=r=Me(r,o)):(wt=e,e=c)):(wt=e,e=c)),Rt[s]={nextPos:wt,result:e},e)}function _r(){var e,r=49*wt+39,n=Rt[r];return n?(wt=n.nextPos,n.result):(Ce.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=i,0===It&&Mt(Oe)),Rt[r]={nextPos:wt,result:e},e)}function vr(){var e,r,n,o=49*wt+40,a=Rt[o];return a?(wt=a.nextPos,a.result):(10===t.charCodeAt(wt)?(e=Le,wt++):(e=i,0===It&&Mt(Be)),e===i&&(e=wt,13===t.charCodeAt(wt)?(r=Ne,wt++):(r=i,0===It&&Mt(De)),r!==i?(10===t.charCodeAt(wt)?(n=Le,wt++):(n=i,0===It&&Mt(Be)),n!==i?e=r=[r,n]:(wt=e,e=c)):(wt=e,e=c)),Rt[o]={nextPos:wt,result:e},e)}function wr(){var e,t=49*wt+41,r=Rt[t];return r?(wt=r.nextPos,r.result):((e=vr())===i&&(e=_r()),Rt[t]={nextPos:wt,result:e},e)}function $r(){var e,r,n=49*wt+42,o=Rt[n];return o?(wt=o.nextPos,o.result):(e=wt,It++,t.length>wt?(r=t.charAt(wt),wt++):(r=i,0===It&&Mt(f)),It--,r===i?e=d:(wt=e,e=c),Rt[n]={nextPos:wt,result:e},e)}function Sr(){var e,r=49*wt+43,n=Rt[r];return n?(wt=n.nextPos,n.result):(Ue.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=i,0===It&&Mt(je)),Rt[r]={nextPos:wt,result:e},e)}function kr(){var e,r,n=49*wt+44,o=Rt[n];return o?(wt=o.nextPos,o.result):(ze.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=i,0===It&&Mt(Fe)),e===i&&(e=wt,95===t.charCodeAt(wt)?(r=Ke,wt++):(r=i,0===It&&Mt(He)),r!==i&&($t=e,r=qe()),e=r),Rt[n]={nextPos:wt,result:e},e)}function Ar(){var e,r=49*wt+45,n=Rt[r];return n?(wt=n.nextPos,n.result):(We.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=i,0===It&&Mt(Ve)),Rt[r]={nextPos:wt,result:e},e)}function Er(){var e,t,r,n=49*wt+46,o=Rt[n];if(o)return wt=o.nextPos,o.result;if(e=wt,t=[],(r=kr())!==i)for(;r!==i;)t.push(r),r=kr();else t=c;return t!==i&&($t=e,t=Ye(t)),e=t,Rt[n]={nextPos:wt,result:e},e}function Ir(){var e,r,n=49*wt+47,o=Rt[n];return o?(wt=o.nextPos,o.result):(e=wt,t.substr(wt,2)===Ge?(r=Ge,wt+=2):(r=i,0===It&&Mt(Ze)),r!==i&&($t=e,r=Je()),(e=r)===i&&(e=wt,t.substr(wt,2)===Xe?(r=Xe,wt+=2):(r=i,0===It&&Mt(Qe)),r!==i&&($t=e,r=et()),(e=r)===i&&(e=wt,t.substr(wt,2)===tt?(r=tt,wt+=2):(r=i,0===It&&Mt(rt)),r!==i&&($t=e,r=nt()),(e=r)===i&&(e=wt,t.substr(wt,2)===it?(r=it,wt+=2):(r=i,0===It&&Mt(ot)),r!==i&&($t=e,r=at()),(e=r)===i&&(e=wt,t.substr(wt,2)===st?(r=st,wt+=2):(r=i,0===It&&Mt(ct)),r!==i&&($t=e,r=ut()),(e=r)===i&&(e=wt,t.substr(wt,2)===lt?(r=lt,wt+=2):(r=i,0===It&&Mt(dt)),r!==i&&($t=e,r=ft()),(e=r)===i&&(e=wt,t.substr(wt,2)===ht?(r=ht,wt+=2):(r=i,0===It&&Mt(pt)),r!==i&&($t=e,r=mt()),(e=r)===i&&(e=Rr()))))))),Rt[n]={nextPos:wt,result:e},e)}function Rr(){var e,r,n,o,a,s,u,l,d,f,h,p=49*wt+48,m=Rt[p];return m?(wt=m.nextPos,m.result):(e=wt,t.substr(wt,2)===gt?(r=gt,wt+=2):(r=i,0===It&&Mt(bt)),r!==i?(n=wt,(o=Sr())!==i&&(a=Sr())!==i&&(s=Sr())!==i&&(u=Sr())!==i&&(l=Sr())!==i&&(d=Sr())!==i&&(f=Sr())!==i&&(h=Sr())!==i?n=o=[o,a,s,u,l,d,f,h]:(wt=n,n=c),n!==i?($t=e,e=r=yt(n)):(wt=e,e=c)):(wt=e,e=c),e===i&&(e=wt,t.substr(wt,2)===_t?(r=_t,wt+=2):(r=i,0===It&&Mt(vt)),r!==i?(n=wt,(o=Sr())!==i&&(a=Sr())!==i&&(s=Sr())!==i&&(u=Sr())!==i?n=o=[o,a,s,u]:(wt=n,n=c),n!==i?($t=e,e=r=yt(n)):(wt=e,e=c)):(wt=e,e=c)),Rt[p]={nextPos:wt,result:e},e)}var Tr=[];function xr(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function Pr(e){Tr.push(e)}function Mr(e,t,r,n,i){var o={type:e,value:t,line:r(),column:n()};return i&&(o.key=i),o}function Cr(e,t,r){var n=parseInt("0x"+e);if(!(!isFinite(n)||Math.floor(n)!=n||n<0||n>1114111||n>55295&&n<57344))return Or(n);xr("Invalid Unicode escape code: "+e,t,r)}function Or(){var e,t,r=16384,n=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(i+1==o||n.length>r)&&(a+=String.fromCharCode.apply(null,n),n.length=0)}return a}if((r=a())!==i&&wt===t.length)return r;throw r!==i&&wt<t.length&&Mt({type:"end",description:"end of input"}),Ct(null,Et,At)}}}();function compile(e){var t=[],r=[],n="",i=Object.create(null),o=i;return function(e){for(var t,r=0;r<e.length;r++)switch((t=e[r]).type){case"Assign":s(t);break;case"ObjectPath":d(t);break;case"ArrayPath":f(t)}return i}(e);function a(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function s(e){var i,s=e.key,l=e.value,d=e.line,f=e.column;i=n?n+"."+s:s,void 0!==o[s]&&a("Cannot redefine existing key '"+i+"'.",d,f),o[s]=u(l),c(i)||(t.push(i),r.push(i))}function c(e){return-1!==t.indexOf(e)}function u(e){return"Array"===e.type?function(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];null===t?t=n.type:n.type!==t&&a("Cannot add value of type "+n.type+" to array of type "+t+".",n.line,n.column)}return e.map(u)}(e.value):"InlineTable"===e.type?l(e.value):e.value}function l(e){for(var t=Object.create(null),r=0;r<e.length;r++){var n=e[r];"InlineTable"===n.value.type?t[n.key]=l(n.value.value):"InlineTableValue"===n.type&&(t[n.key]=u(n.value))}return t}function d(e){var r=e.value,s=r.map(p).join("."),u=e.line,l=e.column;c(s)&&a("Cannot redefine existing key '"+r+"'.",u,l),t.push(s),o=h(i,r,Object.create(null),u,l),n=r}function f(e){var r=e.value,s=r.map(p).join("."),u=e.line,l=e.column;if(c(s)||t.push(s),(t=t.filter((function(e){return 0!==e.indexOf(s)}))).push(s),o=h(i,r,[],u,l),n=s,o instanceof Array){var d=Object.create(null);o.push(d),o=d}else a("Cannot redefine existing key '"+r+"'.",u,l)}function h(e,t,n,i,o){var s=[],c="";t.join(".");for(var u=e,l=0;l<t.length;l++){var d=t[l];s.push(d),c=s.join("."),void 0===u[d]?l===t.length-1?u[d]=n:u[d]=Object.create(null):l!==t.length-1&&r.indexOf(c)>-1&&a("Cannot redefine existing key '"+c+"'.",i,o),(u=u[d])instanceof Array&&u.length&&l<t.length-1&&(u=u[u.length-1])}return u}function p(e){return e.indexOf(".")>-1?'"'+e+'"':e}}var compiler={compile:compile},toml={parse:function(e){var t=parser.parse(e.toString());return compiler.compile(t)}};
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */
const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){let t=e.length;for(;--t>=0;)e[t]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES$1+2));zero$1(static_ltree);const static_dtree=new Array(2*D_CODES$1);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);function StaticTreeDesc(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}zero$1(base_dist);const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)],put_short=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},send_bits=(e,t,r)=>{e.bi_valid>Buf_size-r?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=r-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},send_code=(e,t,r)=>{send_bits(e,r[2*t],r[2*t+1])},bi_reverse=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},bi_flush=e=>{16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},gen_bitlen=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,d,f,h,p,m=0;for(f=0;f<=MAX_BITS$1;f++)e.bl_count[f]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<HEAP_SIZE$1;u++)l=e.heap[u],f=r[2*r[2*l+1]+1]+1,f>c&&(f=c,m++),r[2*l+1]=f,l>n||(e.bl_count[f]++,h=0,l>=s&&(h=a[l-s]),p=r[2*l],e.opt_len+=p*(f+h),o&&(e.static_len+=p*(i[2*l+1]+h)));if(0!==m){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(f=c;0!==f;f--)for(l=e.bl_count[f];0!==l;)d=e.heap[--u],d>n||(r[2*d+1]!==f&&(e.opt_len+=(f-r[2*d+1])*r[2*d],r[2*d+1]=f),l--)}},gen_codes=(e,t,r)=>{const n=new Array(MAX_BITS$1+1);let i,o,a=0;for(i=1;i<=MAX_BITS$1;i++)n[i]=a=a+r[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=bi_reverse(n[t]++,t))}},tr_static_init=()=>{let e,t,r,n,i;const o=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,e=0;e<1<<extra_lbits[n];e++)_length_code[r++]=n;for(_length_code[r-1]=n,i=0,n=0;n<16;n++)for(base_dist[n]=i,e=0;e<1<<extra_dbits[n];e++)_dist_code[i++]=n;for(i>>=7;n<D_CODES$1;n++)for(base_dist[n]=i<<7,e=0;e<1<<extra_dbits[n]-7;e++)_dist_code[256+i++]=n;for(t=0;t<=MAX_BITS$1;t++)o[t]=0;for(e=0;e<=143;)static_ltree[2*e+1]=8,e++,o[8]++;for(;e<=255;)static_ltree[2*e+1]=9,e++,o[9]++;for(;e<=279;)static_ltree[2*e+1]=7,e++,o[7]++;for(;e<=287;)static_ltree[2*e+1]=8,e++,o[8]++;for(gen_codes(static_ltree,L_CODES$1+1,o),e=0;e<D_CODES$1;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=e=>{let t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[2*t]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},copy_block=(e,t,r,n)=>{bi_windup(e),n&&(put_short(e,r),put_short(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},smaller=(e,t,r,n)=>{const i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},pqdownheap=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},compress_block=(e,t,r)=>{let n,i,o,a,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?send_code(e,i,t):(o=_length_code[i],send_code(e,o+LITERALS$1+1,t),a=extra_lbits[o],0!==a&&(i-=base_length[o],send_bits(e,i,a)),n--,o=d_code(n),send_code(e,o,r),a=extra_dbits[o],0!==a&&(n-=base_dist[o],send_bits(e,n,a)))}while(s<e.last_lit);send_code(e,END_BLOCK,t)},build_tree=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,c,u=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,a=0;a<o;a++)0!==r[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)pqdownheap(e,r,a);c=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,r[2*c]=r[2*a]+r[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,r[2*a+1]=r[2*s+1]=c,e.heap[1]=c++,pqdownheap(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(r,u,e.bl_count)},scan_tree=(e,t,r)=>{let n,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):s<=10?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},send_tree=(e,t,r)=>{let n,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<c&&i===a)){if(s<u)do{send_code(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(send_code(e,i,e.bl_tree),s--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,s-3,2)):s<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,s-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},build_bl_tree=e=>{let t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&0===e.bl_tree[2*bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},send_all_trees=(e,t,r,n)=>{let i;for(send_bits(e,t-257,5),send_bits(e,r-1,5),send_bits(e,n-4,4),i=0;i<n;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,r-1)},detect_data_type=e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(t=32;t<LITERALS$1;t++)if(0!==e.dyn_ltree[2*t])return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=e=>{static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block$1=(e,t,r,n)=>{send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3),copy_block(e,t,r,!0)},_tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)},_tr_flush_block$1=(e,t,r,n)=>{let i,o,a=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),a=build_bl_tree(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?_tr_stored_block$1(e,t,r,n):e.strategy===Z_FIXED$1||o===i?(send_bits(e,(STATIC_TREES<<1)+(n?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),n&&bi_windup(e)},_tr_tally$1=(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(_length_code[r]+LITERALS$1+1)]++,e.dyn_dtree[2*d_code(t)]++),e.last_lit===e.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,t,r,n)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+t[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t},crcTable=new Uint32Array(makeTable()),crc32=(e,t,r,n)=>{const i=crcTable,o=n+r;e^=-1;for(let r=n;r<o;r++)e=e>>>8^i[255&(e^t[r])];return-1^e};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_tr_init,_tr_stored_block:_tr_stored_block,_tr_flush_block:_tr_flush_block,_tr_tally:_tr_tally,_tr_align:_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH:Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED:Z_FILTERED,Z_HUFFMAN_ONLY:Z_HUFFMAN_ONLY,Z_RLE:Z_RLE,Z_FIXED:Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN:Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(e,t)=>(e.msg=messages[t],t),rank=e=>(e<<1)-(e>4?9:0),zero=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let HASH_ZLIB=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,HASH=HASH_ZLIB;const flush_pending=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},flush_block_only=(e,t)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,t)=>{e.pending_buf[e.pending++]=t},putShortMSB=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},read_buf=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=adler32_1(e.adler,t,i,r):2===e.state.wrap&&(e.adler=crc32_1(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},longest_match=(e,t)=>{let r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+MAX_MATCH;let h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(r=t,u[r+a]===p&&u[r+a-1]===h&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<f);if(n=MAX_MATCH-(f-o),o=f-MAX_MATCH,n>a){if(e.match_start=t,a=n,n>=s)break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&l])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead},fill_window=e=>{const t=e.w_size;let r,n,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-MIN_LOOKAHEAD)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);o+=t}if(0===e.strm.avail_in)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=HASH(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[a+MIN_MATCH-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&0!==e.strm.avail_in)},deflate_stored=(e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),0===e.lookahead&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE;if(e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out),BS_NEED_MORE)},deflate_fast=(e,t)=>{let r,n;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(0===e.lookahead)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r)),e.match_length>=MIN_MATCH)if(n=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do{e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(0===e.lookahead)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH,n=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,n&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}else if(e.match_available){if(n=_tr_tally(e,0,e.window[e.strstart-1]),n&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(e,t)=>{let r,n,i,o;const a=e.window;for(;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+MAX_MATCH;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=MAX_MATCH-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(r=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(e,t)=>{let r;for(;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(t===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(e.match_length=0,r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(flush_block_only(e,!1),0===e.strm.avail_out))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),0===e.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=e=>{e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*HEAP_SIZE),this.dyn_dtree=new Uint16Array(2*(2*D_CODES+1)),this.bl_tree=new Uint16Array(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=e=>{if(!e||!e.state)return err(e,Z_STREAM_ERROR$2);e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,e.adler=2===t.wrap?0:1,t.last_flush=Z_NO_FLUSH$2,_tr_init(t),Z_OK$3},deflateReset=e=>{const t=deflateResetKeep(e);return t===Z_OK$3&&lm_init(e.state),t},deflateSetHeader=(e,t)=>e&&e.state?2!==e.state.wrap?Z_STREAM_ERROR$2:(e.state.gzhead=t,Z_OK$3):Z_STREAM_ERROR$2,deflateInit2=(e,t,r,n,i,o)=>{if(!e)return Z_STREAM_ERROR$2;let a=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||t<0||t>9||o<0||o>Z_FIXED)return err(e,Z_STREAM_ERROR$2);8===n&&(n=9);const s=new DeflateState;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=r,deflateReset(e)},deflateInit=(e,t)=>deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(e,t)=>{let r,n;if(!e||!e.state||t>Z_BLOCK$1||t<0)return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===FINISH_STATE&&t!==Z_FINISH$3)return err(e,0===e.avail_out?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);i.strm=e;const o=i.last_flush;if(i.last_flush=t,i.status===INIT_STATE)if(2===i.wrap)e.adler=0,put_byte(i,31),put_byte(i,139),put_byte(i,8),i.gzhead?(put_byte(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),put_byte(i,255&i.gzhead.time),put_byte(i,i.gzhead.time>>8&255),put_byte(i,i.gzhead.time>>16&255),put_byte(i,i.gzhead.time>>24&255),put_byte(i,9===i.level?2:i.strategy>=Z_HUFFMAN_ONLY||i.level<2?4:0),put_byte(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(put_byte(i,255&i.gzhead.extra.length),put_byte(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=EXTRA_STATE):(put_byte(i,0),put_byte(i,0),put_byte(i,0),put_byte(i,0),put_byte(i,0),put_byte(i,9===i.level?2:i.strategy>=Z_HUFFMAN_ONLY||i.level<2?4:0),put_byte(i,OS_CODE),i.status=BUSY_STATE);else{let t=Z_DEFLATED$2+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=Z_HUFFMAN_ONLY||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=r<<6,0!==i.strstart&&(t|=PRESET_DICT),t+=31-t%31,i.status=BUSY_STATE,putShortMSB(i,t),0!==i.strstart&&(putShortMSB(i,e.adler>>>16),putShortMSB(i,65535&e.adler)),e.adler=1}if(i.status===EXTRA_STATE)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),flush_pending(e),r=i.pending,i.pending!==i.pending_buf_size));)put_byte(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=NAME_STATE)}else i.status=NAME_STATE;if(i.status===NAME_STATE)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),flush_pending(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,put_byte(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=COMMENT_STATE)}else i.status=COMMENT_STATE;if(i.status===COMMENT_STATE)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),flush_pending(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,put_byte(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=crc32_1(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=HCRC_STATE)}else i.status=HCRC_STATE;if(i.status===HCRC_STATE&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&flush_pending(e),i.pending+2<=i.pending_buf_size&&(put_byte(i,255&e.adler),put_byte(i,e.adler>>8&255),e.adler=0,i.status=BUSY_STATE)):i.status=BUSY_STATE),0!==i.pending){if(flush_pending(e),0===e.avail_out)return i.last_flush=-1,Z_OK$3}else if(0===e.avail_in&&rank(t)<=rank(o)&&t!==Z_FINISH$3)return err(e,Z_BUF_ERROR$1);if(i.status===FINISH_STATE&&0!==e.avail_in)return err(e,Z_BUF_ERROR$1);if(0!==e.avail_in||0!==i.lookahead||t!==Z_NO_FLUSH$2&&i.status!==FINISH_STATE){let r=i.strategy===Z_HUFFMAN_ONLY?deflate_huff(i,t):i.strategy===Z_RLE?deflate_rle(i,t):configuration_table[i.level].func(i,t);if(r!==BS_FINISH_STARTED&&r!==BS_FINISH_DONE||(i.status=FINISH_STATE),r===BS_NEED_MORE||r===BS_FINISH_STARTED)return 0===e.avail_out&&(i.last_flush=-1),Z_OK$3;if(r===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?_tr_align(i):t!==Z_BLOCK$1&&(_tr_stored_block(i,0,0,!1),t===Z_FULL_FLUSH$1&&(zero(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),flush_pending(e),0===e.avail_out))return i.last_flush=-1,Z_OK$3}return t!==Z_FINISH$3?Z_OK$3:i.wrap<=0?Z_STREAM_END$3:(2===i.wrap?(put_byte(i,255&e.adler),put_byte(i,e.adler>>8&255),put_byte(i,e.adler>>16&255),put_byte(i,e.adler>>24&255),put_byte(i,255&e.total_in),put_byte(i,e.total_in>>8&255),put_byte(i,e.total_in>>16&255),put_byte(i,e.total_in>>24&255)):(putShortMSB(i,e.adler>>>16),putShortMSB(i,65535&e.adler)),flush_pending(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Z_OK$3:Z_STREAM_END$3)},deflateEnd=e=>{if(!e||!e.state)return Z_STREAM_ERROR$2;const t=e.state.status;return t!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(e,Z_STREAM_ERROR$2):(e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(e,t)=>{let r=t.length;if(!e||!e.state)return Z_STREAM_ERROR$2;const n=e.state,i=n.wrap;if(2===i||1===i&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$2;if(1===i&&(e.adler=adler32_1(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,fill_window(n);n.lookahead>=MIN_MATCH;){let e=n.strstart,t=n.lookahead-(MIN_MATCH-1);do{n.ins_h=HASH(n,n.ins_h,n.window[e+MIN_MATCH-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,n.wrap=i,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo:deflateInfo};const _has=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var assign$1=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)_has(r,t)&&(e[t]=r[t])}}return e},flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r},common={assign:assign$1,flattenChunks:flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t};const buf2binstring=(e,t)=>{if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var buf2string=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let t=e[n++];if(t<128){o[i++]=t;continue}let a=_utf8len[t];if(a>4)o[i++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<r;)t=t<<6|63&e[n++],a--;a>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return buf2binstring(o,i)},utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+_utf8len[e[r]]>t?r:t},strings={string2buf:string2buf,buf2string:buf2string,utf8border:utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH:Z_SYNC_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(t.header&&deflate_1$2.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$1.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,e),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Z_FINISH$2:Z_NO_FLUSH$1,"string"==typeof e?r.input=strings.string2buf(e):"[object ArrayBuffer]"===toString$1.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===Z_SYNC_FLUSH||o===Z_FULL_FLUSH)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=deflate_1$2.deflate(r,o),i===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=deflate_1$2.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Z_OK$2;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Deflate$1.prototype.onData=function(e){this.chunks.push(e)},Deflate$1.prototype.onEnd=function(e){e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function(e,t){let r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A;const E=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),i=e.next_out,A=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=E.dmax,c=E.wsize,u=E.whave,l=E.wnext,d=E.window,f=E.hold,h=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;e:do{h<15&&(f+=k[r++]<<h,h+=8,f+=k[r++]<<h,h+=8),y=p[f&g];t:for(;;){if(_=y>>>24,f>>>=_,h-=_,_=y>>>16&255,0===_)A[i++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=p[(65535&y)+(f&(1<<_)-1)];continue t}if(32&_){E.mode=TYPE$1;break e}e.msg="invalid literal/length code",E.mode=BAD$1;break e}v=65535&y,_&=15,_&&(h<_&&(f+=k[r++]<<h,h+=8),v+=f&(1<<_)-1,f>>>=_,h-=_),h<15&&(f+=k[r++]<<h,h+=8,f+=k[r++]<<h,h+=8),y=m[f&b];r:for(;;){if(_=y>>>24,f>>>=_,h-=_,_=y>>>16&255,!(16&_)){if(0==(64&_)){y=m[(65535&y)+(f&(1<<_)-1)];continue r}e.msg="invalid distance code",E.mode=BAD$1;break e}if(w=65535&y,_&=15,h<_&&(f+=k[r++]<<h,h+=8,h<_&&(f+=k[r++]<<h,h+=8)),w+=f&(1<<_)-1,w>s){e.msg="invalid distance too far back",E.mode=BAD$1;break e}if(f>>>=_,h-=_,_=i-o,w>_){if(_=w-_,_>u&&E.sane){e.msg="invalid distance too far back",E.mode=BAD$1;break e}if($=0,S=d,0===l){if($+=c-_,_<v){v-=_;do{A[i++]=d[$++]}while(--_);$=i-w,S=A}}else if(l<_){if($+=c+l-_,_-=l,_<v){v-=_;do{A[i++]=d[$++]}while(--_);if($=0,l<v){_=l,v-=_;do{A[i++]=d[$++]}while(--_);$=i-w,S=A}}}else if($+=l-_,_<v){v-=_;do{A[i++]=d[$++]}while(--_);$=i-w,S=A}for(;v>2;)A[i++]=S[$++],A[i++]=S[$++],A[i++]=S[$++],v-=3;v&&(A[i++]=S[$++],v>1&&(A[i++]=S[$++]))}else{$=i-w;do{A[i++]=A[$++],A[i++]=A[$++],A[i++]=A[$++],v-=3}while(v>2);v&&(A[i++]=A[$++],v>1&&(A[i++]=A[$++]))}break}}break}}while(r<n&&i<a);v=h>>3,r-=v,h-=v<<3,f&=(1<<h)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<a?a-i+257:257-(i-a),E.hold=f,E.bits=h};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(e,t,r,n,i,o,a,s)=>{const c=s.bits;let u,l,d,f,h,p,m=0,g=0,b=0,y=0,_=0,v=0,w=0,$=0,S=0,k=0,A=null,E=0;const I=new Uint16Array(MAXBITS+1),R=new Uint16Array(MAXBITS+1);let T,x,P,M=null,C=0;for(m=0;m<=MAXBITS;m++)I[m]=0;for(g=0;g<n;g++)I[t[r+g]]++;for(_=c,y=MAXBITS;y>=1&&0===I[y];y--);if(_>y&&(_=y),0===y)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<y&&0===I[b];b++);for(_<b&&(_=b),$=1,m=1;m<=MAXBITS;m++)if($<<=1,$-=I[m],$<0)return-1;if($>0&&(e===CODES$1||1!==y))return-1;for(R[1]=0,m=1;m<MAXBITS;m++)R[m+1]=R[m]+I[m];for(g=0;g<n;g++)0!==t[r+g]&&(a[R[t[r+g]]++]=g);if(e===CODES$1?(A=M=a,p=19):e===LENS$1?(A=lbase,E-=257,M=lext,C-=257,p=256):(A=dbase,M=dext,p=-1),k=0,g=0,m=b,h=o,v=_,w=0,d=-1,S=1<<_,f=S-1,e===LENS$1&&S>ENOUGH_LENS$1||e===DISTS$1&&S>ENOUGH_DISTS$1)return 1;for(;;){T=m-w,a[g]<p?(x=0,P=a[g]):a[g]>p?(x=M[C+a[g]],P=A[E+a[g]]):(x=96,P=0),u=1<<m-w,l=1<<v,b=l;do{l-=u,i[h+(k>>w)+l]=T<<24|x<<16|P|0}while(0!==l);for(u=1<<m-1;k&u;)u>>=1;if(0!==u?(k&=u-1,k+=u):k=0,g++,0==--I[m]){if(m===y)break;m=t[r+a[g]]}if(m>_&&(k&f)!==d){for(0===w&&(w=_),h+=b,v=m-w,$=1<<v;v+w<y&&($-=I[v+w],!($<=0));)v++,$<<=1;if(S+=1<<v,e===LENS$1&&S>ENOUGH_LENS$1||e===DISTS$1&&S>ENOUGH_DISTS$1)return 1;d=k&f,i[d]=_<<24|v<<16|h-o|0}}return 0!==k&&(i[h+k]=m-w<<24|64<<16|0),s.bits=_,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK:Z_BLOCK,Z_TREES:Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR:Z_BUF_ERROR,Z_DEFLATED:Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=e=>{if(!e||!e.state)return Z_STREAM_ERROR$1;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=e=>{if(!e||!e.state)return Z_STREAM_ERROR$1;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)},inflateReset2=(e,t)=>{let r;if(!e||!e.state)return Z_STREAM_ERROR$1;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))},inflateInit2=(e,t)=>{if(!e)return Z_STREAM_ERROR$1;const r=new InflateState;e.state=r,r.window=null;const n=inflateReset2(e,t);return n!==Z_OK$1&&(e.state=null),n},inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=(e,t,r,n)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},inflate$2=(e,t)=>{let r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k=0;const A=new Uint8Array(4);let E,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR$1;r=e.state,r.mode===TYPE&&(r.mode=TYPEDO),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,d=s,f=c,S=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(0===r.wrap){r.mode=TYPEDO;break}for(;l<16;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===u){r.check=0,A[0]=255&u,A[1]=u>>>8&255,r.check=crc32_1(r.check,A,2,0),u=0,l=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=BAD;break}if((15&u)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(u>>>=4,l-=4,$=8+(15&u),0===r.wbits)r.wbits=$;else if($>r.wbits){e.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&u?DICTID:TYPE,u=0,l=0;break;case FLAGS:for(;l<16;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=crc32_1(r.check,A,2,0)),u=0,l=0,r.mode=TIME;case TIME:for(;l<32;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,A[2]=u>>>16&255,A[3]=u>>>24&255,r.check=crc32_1(r.check,A,4,0)),u=0,l=0,r.mode=OS;case OS:for(;l<16;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=crc32_1(r.check,A,2,0)),u=0,l=0,r.mode=EXLEN;case EXLEN:if(1024&r.flags){for(;l<16;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(A[0]=255&u,A[1]=u>>>8&255,r.check=crc32_1(r.check,A,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(1024&r.flags&&(h=r.length,h>s&&(h=s),h&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+h),$)),512&r.flags&&(r.check=crc32_1(r.check,n,h,o)),s-=h,o+=h,r.length-=h),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(2048&r.flags){if(0===s)break e;h=0;do{$=n[o+h++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($))}while($&&h<s);if(512&r.flags&&(r.check=crc32_1(r.check,n,h,o)),s-=h,o+=h,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(4096&r.flags){if(0===s)break e;h=0;do{$=n[o+h++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($))}while($&&h<s);if(512&r.flags&&(r.check=crc32_1(r.check,n,h,o)),s-=h,o+=h,$)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(512&r.flags){for(;l<16;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=BAD;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;l<32;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}e.adler=r.check=zswap32(u),u=0,l=0,r.mode=DICT;case DICT:if(0===r.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,Z_NEED_DICT$1;e.adler=r.check=1,r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){u>>>=7&l,l-=7&l,r.mode=CHECK;break}for(;l<3;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){u>>>=2,l-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type",r.mode=BAD}u>>>=2,l-=2;break;case STORED:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=65535&u,u=0,l=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(h=r.length,h){if(h>s&&(h=s),h>c&&(h=c),0===h)break e;i.set(n.subarray(o,o+h),a),s-=h,o+=h,c-=h,a+=h,r.length-=h;break}r.mode=TYPE;break;case TABLE:for(;l<14;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;l<3;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.lens[R[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},S=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,S){e.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[u&(1<<r.lenbits)-1],g=k>>>24,b=k>>>16&255,y=65535&k,!(g<=l);){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(y<16)u>>>=g,l-=g,r.lens[r.have++]=y;else{if(16===y){for(I=g+2;l<I;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(u>>>=g,l-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=BAD;break}$=r.lens[r.have-1],h=3+(3&u),u>>>=2,l-=2}else if(17===y){for(I=g+3;l<I;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,$=0,h=3+(7&u),u>>>=3,l-=3}else{for(I=g+7;l<I;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,$=0,h=11+(127&u),u>>>=7,l-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=BAD;break}for(;h--;)r.lens[r.have++]=$}}if(r.mode===BAD)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,E={bits:r.lenbits},S=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,S){e.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},S=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,S){e.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,inffast(e,f),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;k=r.lencode[u&(1<<r.lenbits)-1],g=k>>>24,b=k>>>16&255,y=65535&k,!(g<=l);){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(b&&0==(240&b)){for(_=g,v=b,w=y;k=r.lencode[w+((u&(1<<_+v)-1)>>_)],g=k>>>24,b=k>>>16&255,y=65535&k,!(_+g<=l);){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}u>>>=_,l-=_,r.back+=_}if(u>>>=g,l-=g,r.back+=g,r.length=y,0===b){r.mode=LIT;break}if(32&b){r.back=-1,r.mode=TYPE;break}if(64&b){e.msg="invalid literal/length code",r.mode=BAD;break}r.extra=15&b,r.mode=LENEXT;case LENEXT:if(r.extra){for(I=r.extra;l<I;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;k=r.distcode[u&(1<<r.distbits)-1],g=k>>>24,b=k>>>16&255,y=65535&k,!(g<=l);){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(0==(240&b)){for(_=g,v=b,w=y;k=r.distcode[w+((u&(1<<_+v)-1)>>_)],g=k>>>24,b=k>>>16&255,y=65535&k,!(_+g<=l);){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}u>>>=_,l-=_,r.back+=_}if(u>>>=g,l-=g,r.back+=g,64&b){e.msg="invalid distance code",r.mode=BAD;break}r.offset=y,r.extra=15&b,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(I=r.extra;l<I;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(0===c)break e;if(h=f-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=BAD;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,p=a-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do{i[a++]=m[p++]}while(--h);0===r.length&&(r.mode=LEN);break;case LIT:if(0===c)break e;i[a++]=r.length,c--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;l<32;){if(0===s)break e;s--,u|=n[o++]<<l,l+=8}if(f-=c,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?crc32_1(r.check,i,f,a-f):adler32_1(r.check,i,f,a-f)),f=c,(r.flags?u:zswap32(u))!==r.check){e.msg="incorrect data check",r.mode=BAD;break}u=0,l=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;l<32;){if(0===s)break e;s--,u+=n[o++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=BAD;break}u=0,l=0}r.mode=DONE;case DONE:S=Z_STREAM_END$1;break e;case BAD:S=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;default:return Z_STREAM_ERROR$1}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||f!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?crc32_1(r.check,i,f,e.next_out-f):adler32_1(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(0===d&&0===f||t===Z_FINISH$1)&&S===Z_OK$1&&(S=Z_BUF_ERROR),S},inflateEnd=e=>{if(!e||!e.state)return Z_STREAM_ERROR$1;let t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$1},inflateGetHeader=(e,t)=>{if(!e||!e.state)return Z_STREAM_ERROR$1;const r=e.state;return 0==(2&r.wrap)?Z_STREAM_ERROR$1:(r.head=t,t.done=!1,Z_OK$1)},inflateSetDictionary=(e,t)=>{const r=t.length;let n,i,o;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==DICT?Z_STREAM_ERROR$1:n.mode===DICT&&(i=1,i=adler32_1(i,t,r,0),i!==n.check)?Z_DATA_ERROR$1:(o=updatewindow(e,t,r,r),o?(n.mode=MEM,Z_MEM_ERROR$1):(n.havedict=1,Z_OK$1))):Z_STREAM_ERROR$1};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo:inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH,Z_FINISH:Z_FINISH,Z_OK:Z_OK,Z_STREAM_END:Z_STREAM_END,Z_NEED_DICT:Z_NEED_DICT,Z_STREAM_ERROR:Z_STREAM_ERROR,Z_DATA_ERROR:Z_DATA_ERROR,Z_MEM_ERROR:Z_MEM_ERROR}=constants$2;function Inflate$1(e){this.options=common.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString$2.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary),r!==Z_OK)))throw new Error(messages[r])}function inflate$1(e,t){const r=new Inflate$1(t);if(r.push(e),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(e,t){return(t=t||{}).raw=!0,inflate$1(e,t)}Inflate$1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Z_FINISH:Z_NO_FLUSH,"[object ArrayBuffer]"===toString$2.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=inflate_1$2.inflate(r,a),o===Z_NEED_DICT&&i&&(o=inflate_1$2.inflateSetDictionary(r,i),o===Z_OK?o=inflate_1$2.inflate(r,a):o===Z_DATA_ERROR&&(o=Z_NEED_DICT));r.avail_in>0&&o===Z_STREAM_END&&r.state.wrap>0&&0!==e[r.next_in];)inflate_1$2.inflateReset(r),o=inflate_1$2.inflate(r,a);switch(o){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||o===Z_STREAM_END))if("string"===this.options.to){let e=strings.utf8border(r.output,r.next_out),t=r.next_out-e,i=strings.buf2string(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==Z_OK||0!==s){if(o===Z_STREAM_END)return o=inflate_1$2.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Inflate$1.prototype.onData=function(e){this.chunks.push(e)},Inflate$1.prototype.onEnd=function(e){e===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants};const{Inflate:Inflate,inflate:inflate,inflateRaw:inflateRaw,ungzip:ungzip}=inflate_1$1;var inflate_1=inflate;async function idlAddress(e){const t=(await PublicKey.findProgramAddress([],e))[0];return await PublicKey.createWithSeed(t,seed(),e)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=lib$1.struct([lib$1.publicKey("authority"),lib$1.vecU8("data")]);function decodeIdlAccount(e){return IDL_ACCOUNT_LAYOUT.decode(e)}function parseIdlErrors(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function toInstruction(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const r={};let n=0;return e.args.forEach((e=>{r[e.name]=t[n],n+=1})),r}function validateAccounts(e,t){e.forEach((e=>{if(void 0!==e.accounts)validateAccounts(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function translateAddress(e){if("string"==typeof e){return new PublicKey(e)}return e}function createWithSeedSync(e,t,r){const n=Buffer.concat([e.toBuffer(),Buffer.from(t),r.toBuffer()]),i=sha256.sha256.digest(n);return new PublicKey(Buffer.from(i))}function createProgramAddressSync(e,t){let r=Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=Buffer.concat([r,toBuffer(e)])})),r=Buffer.concat([r,t.toBuffer(),Buffer.from("ProgramDerivedAddress")]);let n=sha256.sha256(new Uint8Array(r)),i=new bn$1(n,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}function findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{r=createProgramAddressSync(e.concat(Buffer.from([n])),t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const toBuffer=e=>e instanceof Buffer?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);async function associated(e,...t){let r=[Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{r.push(void 0!==e.buffer?e:translateAddress(e).toBuffer())}));const[n]=await PublicKey.findProgramAddress(r,translateAddress(e));return n}function splitArgsAndCtx(e,t){let r={};const n=e.args?e.args.length:0;if(t.length>n){if(t.length!==n+1)throw new Error("provided too many arguments ${args}");r=t.pop()}return[t,r]}class InstructionNamespaceFactory{static build(e,t,r){if("_inner"===e.name)throw new IdlError("the _inner name is reserved");const n=(...i)=>{const[o,a]=splitArgsAndCtx(e,[...i]);validateAccounts(e.accounts,a.accounts),validateInstruction(e,...i);const s=n.accounts(a.accounts);return void 0!==a.remainingAccounts&&s.push(...a.remainingAccounts),a.__private&&a.__private.logAccounts&&console.log("Outgoing account metas:",s),new TransactionInstruction({keys:s,programId:r,data:t(e.name,toInstruction(e,...o))})};return n.accounts=t=>InstructionNamespaceFactory.accountsArray(t,e.accounts),n}static accountsArray(e,t){return t.map((t=>{const r=t.accounts;if(void 0!==r){const n=e[t.name];return InstructionNamespaceFactory.accountsArray(n,r).flat()}{const r=t;return{pubkey:translateAddress(e[t.name]),isWritable:r.isMut,isSigner:r.isSigner}}})).flat()}}function validateInstruction(e,...t){}class RpcFactory{static build(e,t,r,n){return async(...i)=>{const o=t(...i),[,a]=splitArgsAndCtx(e,[...i]);try{return await n.send(o,a.signers,a.options)}catch(e){console.log("Translating error",e);let t=ProgramError.parse(e,r);if(null===t)throw e;throw t}}}}class TransactionFactory{static build(e,t){return(...r)=>{const[,n]=splitArgsAndCtx(e,[...r]),i=new Transaction;return void 0!==n.instructions&&i.add(...n.instructions),i.add(t(...r)),i}}}class StateFactory{static build(e,t,r,n){if(void 0!==e.state)return new StateClient(e,r,n,t)}}class StateClient{constructor(e,t,r,n){this._idl=e,this._programId=t,this._address=programStateAddress(t),this._provider=null!=r?r:getProvider(),this._coder=null!=n?n:new Coder(e),this._sub=null;const[i,o,a]=(()=>{let i={},o={},a={};return e.state.methods.forEach((s=>{const c=InstructionNamespaceFactory.build(s,((e,t)=>n.instruction.encodeState(e,t)),t);c.accounts=e=>stateInstructionKeys(t,r,s,e).concat(InstructionNamespaceFactory.accountsArray(e,s.accounts));const u=TransactionFactory.build(s,c),l=RpcFactory.build(s,u,parseIdlErrors(e),r),d=camelcase(s.name);i[d]=c,o[d]=u,a[d]=l})),[i,o,a]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await stateDiscriminator(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new eventemitter3,r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function programStateAddress(e){let[t]=findProgramAddressSync([],e);return createWithSeedSync(t,"unversioned",e)}function stateInstructionKeys(e,t,r,n){if("new"===r.name){const[r]=findProgramAddressSync([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return validateAccounts(r.accounts,n),[{pubkey:programStateAddress(e),isWritable:!0,isSigner:!1}]}class AccountFactory{static build(e,t,r,n){const i={};return e.accounts.forEach((o=>{const a=camelcase(o.name);i[a]=new AccountClient(e,o,r,n,t)})),i}}class AccountClient{constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!=n?n:getProvider(),this._coder=null!=i?i:new Coder(e),this._size=ACCOUNT_DISCRIMINATOR_SIZE+accountSize(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(translateAddress(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await accountDiscriminator(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await accountDiscriminator(this._idlAccount.name);return void 0!==e&&(t=Buffer.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:bs58.encode(t)}}]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){if(subscriptions.get(e.toString()))return subscriptions.get(e.toString()).ee;const r=new eventemitter3;e=translateAddress(e);const n=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return subscriptions.set(e.toString(),{ee:r,listener:n}),r}unsubscribe(e){let t=subscriptions.get(e.toString());t?subscriptions&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{subscriptions.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await associated(this._programId,...e)}}const subscriptions=new Map;var shams$1=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},shams=function(){return shams$1()&&!!Symbol.toStringTag},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbols$2=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&shams$1())))},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$4=Object.prototype.toString,funcType="[object Function]",implementation$3=function(e){var t=this;if("function"!=typeof t||toStr$4.call(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r,n=slice$1.call(arguments,1),i=function(){if(this instanceof r){var i=t.apply(this,n.concat(slice$1.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(slice$1.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],s=0;s<o;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var c=function(){};c.prototype=t.prototype,r.prototype=new c,c.prototype=null}return r},functionBind=Function.prototype.bind||implementation$3,src=functionBind.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(e){try{return $gOPD$1(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),getProto$1=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray="undefined"==typeof Uint8Array?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":"object"==typeof JSON?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols$1?getProto$1((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols$1?getProto$1((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet},doEval=function e(t){var r;if("%AsyncFunction%"===t)r=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===t)r=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=getProto$1(i.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$concat=functionBind.call(Function.call,Array.prototype.concat),$spliceApply=functionBind.call(Function.apply,Array.prototype.splice),$replace=functionBind.call(Function.call,String.prototype.replace),$strSlice=functionBind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if("%"===t&&"%"!==r)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var n=[];return $replace(e,rePropName,(function(e,t,r,i){n[n.length]=r?$replace(i,reEscapeChar,"$1"):t||e})),n},getBaseIntrinsic=function(e,t){var r,n=e;if(src(LEGACY_ALIASES,n)&&(n="%"+(r=LEGACY_ALIASES[n])[0]+"%"),src(INTRINSICS,n)){var i=INTRINSICS[n];if(i===needsEval&&(i=doEval(n)),void 0===i&&!t)throw new $TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $TypeError('"allowMissing" argument must be a boolean');var r=stringToPath(e),n=r.length>0?r[0]:"",i=getBaseIntrinsic("%"+n+"%",t),o=i.name,a=i.value,s=!1,c=i.alias;c&&(n=c[0],$spliceApply(r,$concat([0,1],c)));for(var u=1,l=!0;u<r.length;u+=1){var d=r[u],f=$strSlice(d,0,1),h=$strSlice(d,-1);if(('"'===f||"'"===f||"`"===f||'"'===h||"'"===h||"`"===h)&&f!==h)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==d&&l||(s=!0),src(INTRINSICS,o="%"+(n+="."+d)+"%"))a=INTRINSICS[o];else if(null!=a){if(!(d in a)){if(!t)throw new $TypeError("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&u+1>=r.length){var p=$gOPD$1(a,d);a=(l=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:a[d]}else l=src(a,d),a=a[d];l&&!s&&(INTRINSICS[o]=a)}}return a},callBind=createCommonjsModule((function(e){var t=getIntrinsic("%Function.prototype.apply%"),r=getIntrinsic("%Function.prototype.call%"),n=getIntrinsic("%Reflect.apply%",!0)||functionBind.call(r,t),i=getIntrinsic("%Object.getOwnPropertyDescriptor%",!0),o=getIntrinsic("%Object.defineProperty%",!0),a=getIntrinsic("%Math.max%");if(o)try{o({},"a",{value:1})}catch(e){o=null}e.exports=function(e){var t=n(functionBind,r,arguments);if(i&&o){var s=i(t,"length");s.configurable&&o(t,"length",{value:1+a(0,e.length-(arguments.length-1))})}return t};var s=function(){return n(functionBind,t,arguments)};o?o(e.exports,"apply",{value:s}):e.exports.apply=s})),$indexOf$1=callBind(getIntrinsic("String.prototype.indexOf")),callBound=function(e,t){var r=getIntrinsic(e,!!t);return"function"==typeof r&&$indexOf$1(e,".prototype.")>-1?callBind(r):r},hasToStringTag$3=shams(),$toString$2=callBound("Object.prototype.toString"),isStandardArguments=function(e){return!(hasToStringTag$3&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===$toString$2(e)},isLegacyArguments=function(e){return!!isStandardArguments(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==$toString$2(e)&&"[object Function]"===$toString$2(e.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch(e){}},GeneratorFunction,isGeneratorFunction=function(e){if("function"!=typeof e)return!1;if(isFnRegex.test(fnToStr.call(e)))return!0;if(!hasToStringTag$2)return"[object GeneratorFunction]"===toStr$3.call(e);if(!getProto)return!1;if(void 0===GeneratorFunction){var t=getGeneratorFunc();GeneratorFunction=!!t&&getProto(t)}return getProto(e)===GeneratorFunction},hasOwn$1=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,foreach=function(e,t,r){if("[object Function]"!==toString.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var i=0;i<n;i++)t.call(r,e[i],i,e);else for(var o in e)hasOwn$1.call(e,o)&&t.call(r,e[o],o,e)},possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,availableTypedArrays$1=function(){for(var e=[],t=0;t<possibleNames.length;t++)"function"==typeof g$2[possibleNames[t]]&&(e[e.length]=possibleNames[t]);return e},$gOPD=getIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var getOwnPropertyDescriptor=$gOPD,availableTypedArrays=availableTypedArrays$1,gOPD=getOwnPropertyDescriptor,$toString$1=callBound("Object.prototype.toString"),hasToStringTag$1=shams(),g$1="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays$1=availableTypedArrays(),$indexOf=callBound("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},$slice$1=callBound("String.prototype.slice"),toStrTags$1={},getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD&&getPrototypeOf$1&&foreach(typedArrays$1,(function(e){var t=new g$1[e];if(Symbol.toStringTag in t){var r=getPrototypeOf$1(t),n=gOPD(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf$1(r);n=gOPD(i,Symbol.toStringTag)}toStrTags$1[e]=n.get}}));var tryTypedArrays$1=function(e){var t=!1;return foreach(toStrTags$1,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t},isTypedArray=function(e){if(!e||"object"!=typeof e)return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in e)){var t=$slice$1($toString$1(e),8,-1);return $indexOf(typedArrays$1,t)>-1}return!!gOPD&&tryTypedArrays$1(e)},$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&foreach(typedArrays,(function(e){if("function"==typeof g[e]){var t=new g[e];if(Symbol.toStringTag in t){var r=getPrototypeOf(t),n=gOPD(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf(r);n=gOPD(i,Symbol.toStringTag)}toStrTags[e]=n.get}}}));var tryTypedArrays=function(e){var t=!1;return foreach(toStrTags,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t},whichTypedArray=function(e){return!!isTypedArray(e)&&(hasToStringTag&&Symbol.toStringTag in e?tryTypedArrays(e):$slice($toString(e),8,-1))},types=createCommonjsModule((function(e,t){function r(e){return e.call.bind(e)}var n="undefined"!=typeof BigInt,i="undefined"!=typeof Symbol,o=r(Object.prototype.toString),a=r(Number.prototype.valueOf),s=r(String.prototype.valueOf),c=r(Boolean.prototype.valueOf);if(n)var u=r(BigInt.prototype.valueOf);if(i)var l=r(Symbol.prototype.valueOf);function d(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function f(e){return"[object Map]"===o(e)}function h(e){return"[object Set]"===o(e)}function p(e){return"[object WeakMap]"===o(e)}function m(e){return"[object WeakSet]"===o(e)}function g(e){return"[object ArrayBuffer]"===o(e)}function b(e){return"undefined"!=typeof ArrayBuffer&&(g.working?g(e):e instanceof ArrayBuffer)}function y(e){return"[object DataView]"===o(e)}function _(e){return"undefined"!=typeof DataView&&(y.working?y(e):e instanceof DataView)}t.isArgumentsObject=isArguments$2,t.isGeneratorFunction=isGeneratorFunction,t.isTypedArray=isTypedArray,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):isTypedArray(e)||_(e)},t.isUint8Array=function(e){return"Uint8Array"===whichTypedArray(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===whichTypedArray(e)},t.isUint16Array=function(e){return"Uint16Array"===whichTypedArray(e)},t.isUint32Array=function(e){return"Uint32Array"===whichTypedArray(e)},t.isInt8Array=function(e){return"Int8Array"===whichTypedArray(e)},t.isInt16Array=function(e){return"Int16Array"===whichTypedArray(e)},t.isInt32Array=function(e){return"Int32Array"===whichTypedArray(e)},t.isFloat32Array=function(e){return"Float32Array"===whichTypedArray(e)},t.isFloat64Array=function(e){return"Float64Array"===whichTypedArray(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===whichTypedArray(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===whichTypedArray(e)},f.working="undefined"!=typeof Map&&f(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(f.working?f(e):e instanceof Map)},h.working="undefined"!=typeof Set&&h(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(h.working?h(e):e instanceof Set)},p.working="undefined"!=typeof WeakMap&&p(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(p.working?p(e):e instanceof WeakMap)},m.working="undefined"!=typeof WeakSet&&m(new WeakSet),t.isWeakSet=function(e){return m(e)},g.working="undefined"!=typeof ArrayBuffer&&g(new ArrayBuffer),t.isArrayBuffer=b,y.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&y(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=_;var v="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function w(e){return"[object SharedArrayBuffer]"===o(e)}function $(e){return void 0!==v&&(void 0===w.working&&(w.working=w(new v)),w.working?w(e):e instanceof v)}function S(e){return d(e,a)}function k(e){return d(e,s)}function A(e){return d(e,c)}function E(e){return n&&d(e,u)}function I(e){return i&&d(e,l)}t.isSharedArrayBuffer=$,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===o(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===o(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===o(e)},t.isGeneratorObject=function(e){return"[object Generator]"===o(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===o(e)},t.isNumberObject=S,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=E,t.isSymbolObject=I,t.isBoxedPrimitive=function(e){return S(e)||k(e)||A(e)||E(e)||I(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(b(e)||$(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))})),isBufferBrowser=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},util$1=createCommonjsModule((function(e,t){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},n=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,o=i.length,s=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}})),c=i[r];r<o;c=i[++r])p(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(e,r){if(void 0!==process&&!0===process.noDeprecation)return e;if(void 0===process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){return n||(console.error(r),n=!0),e.apply(this,arguments)}};var i={},o=/^$/;function a(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),u(n,e,n.depth)}function s(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&$(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=u(e,i,n)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),w(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if($(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return l(r)}var _,S="",k=!1,A=["{","}"];(f(r)&&(k=!0,A=["[","]"]),$(r))&&(S=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(S=" "+RegExp.prototype.toString.call(r)),v(r)&&(S=" "+Date.prototype.toUTCString.call(r)),w(r)&&(S=" "+l(r)),0!==a.length||k&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),_=k?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return d(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(_,S,A)):A[0]+S+A[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),I(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=p(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function p(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function v(e){return _(e)&&"[object Date]"===S(e)}function w(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function $(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!i[e])if(o.test(e)){var r=process.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=types,t.isArray=f,t.isBoolean=h,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.types.isRegExp=y,t.isObject=_,t.isDate=v,t.types.isDate=v,t.isError=w,t.types.isNativeError=w,t.isFunction=$,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=isBufferBrowser;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=inherits_browser$1,t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){nextTick(o.bind(null,null,e))}),(function(e){nextTick(T.bind(null,e,o))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}})),require$$0=assert_1;function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(e,t){return!t||"object"!==_typeof$2(t)&&"function"!=typeof t?_assertThisInitialized$1(e):t}function _assertThisInitialized$1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf$1(e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$1(e)}function _inherits$1(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){return _setPrototypeOf$1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf$1(e,t)}var codes={},assert$1,util;function createErrorType(e,t,r){r||(r=Error);var n=function(r){function n(r,i,o){var a;return _classCallCheck$1(this,n),a=_possibleConstructorReturn$1(this,_getPrototypeOf$1(n).call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,i,o))),a.code=e,a}return _inherits$1(n,r),n}(r);codes[e]=n}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith$1(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if(void 0===assert$1&&(assert$1=require$$0),assert$1("string"==typeof e,"'name' must be a string"),"string"==typeof t&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",endsWith$1(e," argument"))i="The ".concat(e," ").concat(n," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf(t,"type"))}return i+=". Received type ".concat(_typeof$2(r))}),TypeError),createErrorType("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===util&&(util=util$1);var n=util.inspect(t);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(n)}),TypeError),createErrorType("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var n;return n=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(_typeof$2(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(n,".")}),TypeError),createErrorType("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===assert$1&&(assert$1=require$$0),assert$1(t.length>0,"At least one arg needs to be specified");var n="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:n+="".concat(t[0]," argument");break;case 2:n+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:n+=t.slice(0,i-1).join(", "),n+=", and ".concat(t[i-1]," arguments")}return"".concat(n," must be specified")}),TypeError);var codes_1=codes,errors={codes:codes_1};function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_defineProperty$1(e,t,r[t])}))}return e}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof$1(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,e)},_wrapNativeSuper(e)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,r){return _construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(i,r.prototype),i},_construct.apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var inspect$2=util$1.inspect,ERR_INVALID_ARG_TYPE=errors.codes.ERR_INVALID_ARG_TYPE;function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function repeat(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,r-e.length)}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},kMaxShortLength=10;function copyError(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function inspectValue(e){return inspect$2(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(e,t,r){var n="",i="",o=0,a="",s=!1,c=inspectValue(e),u=c.split("\n"),l=inspectValue(t).split("\n"),d=0,f="";if("strictEqual"===r&&"object"===_typeof$1(e)&&"object"===_typeof$1(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===u.length&&1===l.length&&u[0]!==l[0]){var h=u[0].length+l[0].length;if(h<=kMaxShortLength){if(!("object"===_typeof$1(e)&&null!==e||"object"===_typeof$1(t)&&null!==t||0===e&&0===t))return"".concat(kReadableOperator[r],"\n\n")+"".concat(u[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==r){if(h<80){for(;u[0][d]===l[0][d];)d++;d>2&&(f="\n  ".concat(repeat(" ",d),"^"),d=0)}}}for(var p=u[u.length-1],m=l[l.length-1];p===m&&(d++<2?a="\n  ".concat(p).concat(a):n=p,u.pop(),l.pop(),0!==u.length&&0!==l.length);)p=u[u.length-1],m=l[l.length-1];var g=Math.max(u.length,l.length);if(0===g){var b=c.split("\n");if(b.length>30)for(b[26]="".concat(blue,"...").concat(white);b.length>27;)b.pop();return"".concat(kReadableOperator.notIdentical,"\n\n").concat(b.join("\n"),"\n")}d>3&&(a="\n".concat(blue,"...").concat(white).concat(a),s=!0),""!==n&&(a="\n  ".concat(n).concat(a),n="");var y=0,_=kReadableOperator[r]+"\n".concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),v=" ".concat(blue,"...").concat(white," Lines skipped");for(d=0;d<g;d++){var w=d-o;if(u.length<d+1)w>1&&d>2&&(w>4?(i+="\n".concat(blue,"...").concat(white),s=!0):w>3&&(i+="\n  ".concat(l[d-2]),y++),i+="\n  ".concat(l[d-1]),y++),o=d,n+="\n".concat(red,"-").concat(white," ").concat(l[d]),y++;else if(l.length<d+1)w>1&&d>2&&(w>4?(i+="\n".concat(blue,"...").concat(white),s=!0):w>3&&(i+="\n  ".concat(u[d-2]),y++),i+="\n  ".concat(u[d-1]),y++),o=d,i+="\n".concat(green,"+").concat(white," ").concat(u[d]),y++;else{var $=l[d],S=u[d],k=S!==$&&(!endsWith(S,",")||S.slice(0,-1)!==$);k&&endsWith($,",")&&$.slice(0,-1)===S&&(k=!1,S+=","),k?(w>1&&d>2&&(w>4?(i+="\n".concat(blue,"...").concat(white),s=!0):w>3&&(i+="\n  ".concat(u[d-2]),y++),i+="\n  ".concat(u[d-1]),y++),o=d,i+="\n".concat(green,"+").concat(white," ").concat(S),n+="\n".concat(red,"-").concat(white," ").concat($),y+=2):(i+=n,n="",1!==w&&0!==d||(i+="\n  ".concat(S),y++))}if(y>20&&d<g-2)return"".concat(_).concat(v,"\n").concat(i,"\n").concat(blue,"...").concat(white).concat(n,"\n")+"".concat(blue,"...").concat(white)}return"".concat(_).concat(s?v:"","\n").concat(i).concat(n).concat(a).concat(f)}var AssertionError$1=function(e){function t(e){var r;if(_classCallCheck(this,t),"object"!==_typeof$1(e)||null===e)throw new ERR_INVALID_ARG_TYPE("options","Object",e);var n=e.message,i=e.operator,o=e.stackStartFn,a=e.actual,s=e.expected,c=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,String(n)));else if("object"===_typeof$1(a)&&null!==a&&"object"===_typeof$1(s)&&null!==s&&"stack"in a&&a instanceof Error&&"stack"in s&&s instanceof Error&&(a=copyError(a),s=copyError(s)),"deepStrictEqual"===i||"strictEqual"===i)r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,createErrDiff(a,s,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var u=kReadableOperator[i],l=inspectValue(a).split("\n");if("notStrictEqual"===i&&"object"===_typeof$1(a)&&null!==a&&(u=kReadableOperator.notStrictEqualObject),l.length>30)for(l[26]="".concat(blue,"...").concat(white);l.length>27;)l.pop();r=1===l.length?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"".concat(u," ").concat(l[0]))):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"".concat(u,"\n\n").concat(l.join("\n"),"\n")))}else{var d=inspectValue(a),f="",h=kReadableOperator[i];"notDeepEqual"===i||"notEqual"===i?(d="".concat(kReadableOperator[i],"\n\n").concat(d)).length>1024&&(d="".concat(d.slice(0,1021),"...")):(f="".concat(inspectValue(s)),d.length>512&&(d="".concat(d.slice(0,509),"...")),f.length>512&&(f="".concat(f.slice(0,509),"...")),"deepEqual"===i||"equal"===i?d="".concat(h,"\n\n").concat(d,"\n\nshould equal\n\n"):f=" ".concat(i," ").concat(f)),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"".concat(d).concat(f)))}return Error.stackTraceLimit=c,r.generatedMessage=!n,Object.defineProperty(_assertThisInitialized(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=s,r.operator=i,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(r),o),r.stack,r.name="AssertionError",_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:inspect$2.custom,value:function(e,t){return inspect$2(this,_objectSpread({},t,{customInspect:!1,depth:0}))}}]),t}(_wrapNativeSuper(Error)),assertion_error=AssertionError$1;function assign(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(r[c]=i[c])}}return r}function polyfill$4(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}var es6ObjectAssign={assign:assign,polyfill:polyfill$4},toStr$2=Object.prototype.toString,isArguments$1=function(e){var t=toStr$2.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===toStr$2.call(e.callee)),r},keysShim$1;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr$1=Object.prototype.toString,isArgs=isArguments$1,isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call((function(){}),"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(e){var t=e.constructor;return t&&t.prototype===e},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!excludedKeys["$"+e]&&has.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{equalsConstructorPrototype(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(e){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(e);try{return equalsConstructorPrototype(e)}catch(e){return!1}};keysShim$1=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===toStr$1.call(e),n=isArgs(e),i=t&&"[object String]"===toStr$1.call(e),o=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=hasProtoEnumBug&&r;if(i&&e.length>0&&!has.call(e,0))for(var s=0;s<e.length;++s)o.push(String(s));if(n&&e.length>0)for(var c=0;c<e.length;++c)o.push(String(c));else for(var u in e)a&&"prototype"===u||!has.call(e,u)||o.push(String(u));if(hasDontEnumBug)for(var l=equalsConstructorPrototypeIfNotBuggy(e),d=0;d<dontEnums.length;++d)l&&"constructor"===dontEnums[d]||!has.call(e,dontEnums[d])||o.push(dontEnums[d]);return o}}var implementation$2=keysShim$1,slice=Array.prototype.slice,origKeys=Object.keys,keysShim=origKeys?function(e){return origKeys(e)}:implementation$2,originalKeys=Object.keys;keysShim.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return isArguments$1(e)?originalKeys(slice.call(e)):originalKeys(e)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,isFunction$1=function(e){return"function"==typeof e&&"[object Function]"===toStr.call(e)},arePropertyDescriptorsSupported=function(){var e={};try{for(var t in origDefineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}},supportsDescriptors=origDefineProperty&&arePropertyDescriptorsSupported(),defineProperty$1=function(e,t,r,n){(!(t in e)||isFunction$1(n)&&n())&&(supportsDescriptors?origDefineProperty(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},defineProperties=function(e,t){var r=arguments.length>2?arguments[2]:{},n=objectKeys$1(t);hasSymbols&&(n=concat.call(n,Object.getOwnPropertySymbols(t)));for(var i=0;i<n.length;i+=1)defineProperty$1(e,n[i],t[n[i]],r[n[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,numberIsNaN$1=function(e){return e!=e},implementation$1=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!numberIsNaN$1(e)||!numberIsNaN$1(t))},polyfill$3=function(){return"function"==typeof Object.is?Object.is:implementation$1},shim$1=function(){var e=polyfill$3();return defineProperties_1(Object,{is:e},{is:function(){return Object.is!==e}}),e},polyfill$2=callBind(polyfill$3(),Object);defineProperties_1(polyfill$2,{getPolyfill:polyfill$3,implementation:implementation$1,shim:shim$1});var objectIs$1=polyfill$2,implementation=function(e){return e!=e},polyfill$1=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation},shim=function(){var e=polyfill$1();return defineProperties_1(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e},polyfill=callBind(polyfill$1(),Number);defineProperties_1(polyfill,{getPolyfill:polyfill$1,implementation:implementation,shim:shim});var isNan=polyfill;function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var regexFlagsSupported=void 0!==/a/g.flags,arrayFromSet=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},arrayFromMap=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},objectIs=Object.is?Object.is:objectIs$1,objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:isNan;function uncurryThis(e){return e.call.bind(e)}var hasOwnProperty$1=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString$1=uncurryThis(Object.prototype.toString),_require$types=util$1.types,isAnyArrayBuffer=_require$types.isAnyArrayBuffer,isArrayBufferView=_require$types.isArrayBufferView,isDate$1=_require$types.isDate,isMap=_require$types.isMap,isRegExp$1=_require$types.isRegExp,isSet=_require$types.isSet,isNativeError=_require$types.isNativeError,isBoxedPrimitive=_require$types.isBoxedPrimitive,isNumberObject=_require$types.isNumberObject,isStringObject=_require$types.isStringObject,isBooleanObject=_require$types.isBooleanObject,isBigIntObject=_require$types.isBigIntObject,isSymbolObject=_require$types.isSymbolObject,isFloat32Array=_require$types.isFloat32Array,isFloat64Array=_require$types.isFloat64Array;function isNonIndex(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function getOwnNonIndexProperties(e){return Object.keys(e).filter(isNonIndex).concat(objectGetOwnPropertySymbols(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
     * @license  MIT
     */function compare$1(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(e,t){return regexFlagsSupported?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function areSimilarFloatArrays(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function areSimilarTypedArrays(e,t){return e.byteLength===t.byteLength&&0===compare$1(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function areEqualArrayBuffers(e,t){return e.byteLength===t.byteLength&&0===compare$1(new Uint8Array(e),new Uint8Array(t))}function isEqualBoxedPrimitive(e,t){return isNumberObject(e)?isNumberObject(t)&&objectIs(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):isStringObject(e)?isStringObject(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):isBooleanObject(e)?isBooleanObject(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):isBigIntObject(e)?isBigIntObject(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):isSymbolObject(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function innerDeepEqual(e,t,r,n){if(e===t)return 0!==e||(!r||objectIs(e,t));if(r){if("object"!==_typeof(e))return"number"==typeof e&&numberIsNaN(e)&&numberIsNaN(t);if("object"!==_typeof(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==_typeof(e))return(null===t||"object"!==_typeof(t))&&e==t;if(null===t||"object"!==_typeof(t))return!1}var i=objectToString$1(e);if(i!==objectToString$1(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var o=getOwnNonIndexProperties(e),a=getOwnNonIndexProperties(t);return o.length===a.length&&keyCheck(e,t,r,n,kIsArray,o)}if("[object Object]"===i&&(!isMap(e)&&isMap(t)||!isSet(e)&&isSet(t)))return!1;if(isDate$1(e)){if(!isDate$1(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(isRegExp$1(e)){if(!isRegExp$1(t)||!areSimilarRegExps(e,t))return!1}else if(isNativeError(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(isArrayBufferView(e)){if(r||!isFloat32Array(e)&&!isFloat64Array(e)){if(!areSimilarTypedArrays(e,t))return!1}else if(!areSimilarFloatArrays(e,t))return!1;var s=getOwnNonIndexProperties(e),c=getOwnNonIndexProperties(t);return s.length===c.length&&keyCheck(e,t,r,n,kNoIterator,s)}if(isSet(e))return!(!isSet(t)||e.size!==t.size)&&keyCheck(e,t,r,n,kIsSet);if(isMap(e))return!(!isMap(t)||e.size!==t.size)&&keyCheck(e,t,r,n,kIsMap);if(isAnyArrayBuffer(e)){if(!areEqualArrayBuffers(e,t))return!1}else if(isBoxedPrimitive(e)&&!isEqualBoxedPrimitive(e,t))return!1}return keyCheck(e,t,r,n,kNoIterator)}function getEnumerables(e,t){return t.filter((function(t){return propertyIsEnumerable(e,t)}))}function keyCheck(e,t,r,n,i,o){if(5===arguments.length){o=Object.keys(e);var a=Object.keys(t);if(o.length!==a.length)return!1}for(var s=0;s<o.length;s++)if(!hasOwnProperty$1(t,o[s]))return!1;if(r&&5===arguments.length){var c=objectGetOwnPropertySymbols(e);if(0!==c.length){var u=0;for(s=0;s<c.length;s++){var l=c[s];if(propertyIsEnumerable(e,l)){if(!propertyIsEnumerable(t,l))return!1;o.push(l),u++}else if(propertyIsEnumerable(t,l))return!1}var d=objectGetOwnPropertySymbols(t);if(c.length!==d.length&&getEnumerables(t,d).length!==u)return!1}else{var f=objectGetOwnPropertySymbols(t);if(0!==f.length&&0!==getEnumerables(t,f).length)return!1}}if(0===o.length&&(i===kNoIterator||i===kIsArray&&0===e.length||0===e.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var h=n.val1.get(e);if(void 0!==h){var p=n.val2.get(t);if(void 0!==p)return h===p}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var m=objEquiv$1(e,t,r,o,n,i);return n.val1.delete(e),n.val2.delete(t),m}function setHasEqualElement(e,t,r,n){for(var i=arrayFromSet(e),o=0;o<i.length;o++){var a=i[o];if(innerDeepEqual(t,a,r,n))return e.delete(a),!0}return!1}function findLooseMatchingPrimitives(e){switch(_typeof(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(numberIsNaN(e))return!1}return!0}function setMightHaveLoosePrim(e,t,r){var n=findLooseMatchingPrimitives(r);return null!=n?n:t.has(n)&&!e.has(n)}function mapMightHaveLoosePrim(e,t,r,n,i){var o=findLooseMatchingPrimitives(r);if(null!=o)return o;var a=t.get(o);return!(void 0===a&&!t.has(o)||!innerDeepEqual(n,a,!1,i))&&(!e.has(o)&&innerDeepEqual(n,a,!1,i))}function setEquiv(e,t,r,n){for(var i=null,o=arrayFromSet(e),a=0;a<o.length;a++){var s=o[a];if("object"===_typeof(s)&&null!==s)null===i&&(i=new Set),i.add(s);else if(!t.has(s)){if(r)return!1;if(!setMightHaveLoosePrim(e,t,s))return!1;null===i&&(i=new Set),i.add(s)}}if(null!==i){for(var c=arrayFromSet(t),u=0;u<c.length;u++){var l=c[u];if("object"===_typeof(l)&&null!==l){if(!setHasEqualElement(i,l,r,n))return!1}else if(!r&&!e.has(l)&&!setHasEqualElement(i,l,r,n))return!1}return 0===i.size}return!0}function mapHasEqualEntry(e,t,r,n,i,o){for(var a=arrayFromSet(e),s=0;s<a.length;s++){var c=a[s];if(innerDeepEqual(r,c,i,o)&&innerDeepEqual(n,t.get(c),i,o))return e.delete(c),!0}return!1}function mapEquiv(e,t,r,n){for(var i=null,o=arrayFromMap(e),a=0;a<o.length;a++){var s=_slicedToArray(o[a],2),c=s[0],u=s[1];if("object"===_typeof(c)&&null!==c)null===i&&(i=new Set),i.add(c);else{var l=t.get(c);if(void 0===l&&!t.has(c)||!innerDeepEqual(u,l,r,n)){if(r)return!1;if(!mapMightHaveLoosePrim(e,t,c,u,n))return!1;null===i&&(i=new Set),i.add(c)}}}if(null!==i){for(var d=arrayFromMap(t),f=0;f<d.length;f++){var h=_slicedToArray(d[f],2),p=(c=h[0],h[1]);if("object"===_typeof(c)&&null!==c){if(!mapHasEqualEntry(i,e,c,p,r,n))return!1}else if(!(r||e.has(c)&&innerDeepEqual(e.get(c),p,!1,n)||mapHasEqualEntry(i,e,c,p,!1,n)))return!1}return 0===i.size}return!0}function objEquiv$1(e,t,r,n,i,o){var a=0;if(o===kIsSet){if(!setEquiv(e,t,r,i))return!1}else if(o===kIsMap){if(!mapEquiv(e,t,r,i))return!1}else if(o===kIsArray)for(;a<e.length;a++){if(!hasOwnProperty$1(e,a)){if(hasOwnProperty$1(t,a))return!1;for(var s=Object.keys(e);a<s.length;a++){var c=s[a];if(!hasOwnProperty$1(t,c)||!innerDeepEqual(e[c],t[c],r,i))return!1}return s.length===Object.keys(t).length}if(!hasOwnProperty$1(t,a)||!innerDeepEqual(e[a],t[a],r,i))return!1}for(a=0;a<n.length;a++){var u=n[a];if(!innerDeepEqual(e[u],t[u],r,i))return!1}return!0}function isDeepEqual(e,t){return innerDeepEqual(e,t,kLoose)}function isDeepStrictEqual(e,t){return innerDeepEqual(e,t,kStrict)}var comparisons={isDeepEqual:isDeepEqual,isDeepStrictEqual:isDeepStrictEqual},assert_1=createCommonjsModule((function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n,i=errors.codes,o=i.ERR_AMBIGUOUS_ARGUMENT,a=i.ERR_INVALID_ARG_TYPE,s=i.ERR_INVALID_ARG_VALUE,c=i.ERR_INVALID_RETURN_VALUE,u=i.ERR_MISSING_ARGS,l=util$1.inspect,d=util$1.types,f=d.isPromise,h=d.isRegExp,p=Object.assign?Object.assign:es6ObjectAssign.assign,m=Object.is?Object.is:objectIs$1;function g(){var e=comparisons;r=e.isDeepEqual,n=e.isDeepStrictEqual}var b=!1,y=e.exports=$,_={};function v(e){if(e.message instanceof Error)throw e.message;throw new assertion_error(e)}function w(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new assertion_error({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function $(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];w.apply(void 0,[$,t.length].concat(t))}y.fail=function e(t,r,n,i,o){var a,s=arguments.length;if(0===s)a="Failed";else if(1===s)n=t,t=void 0;else{if(!1===b){b=!0;var c=console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===s&&(i="!=")}if(n instanceof Error)throw n;var u={actual:t,expected:r,operator:void 0===i?"fail":i,stackStartFn:o||e};void 0!==n&&(u.message=n);var l=new assertion_error(u);throw a&&(l.message=a,l.generatedMessage=!0),l},y.AssertionError=assertion_error,y.ok=$,y.equal=function e(t,r,n){if(arguments.length<2)throw new u("actual","expected");t!=r&&v({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},y.notEqual=function e(t,r,n){if(arguments.length<2)throw new u("actual","expected");t==r&&v({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},y.deepEqual=function e(t,n,i){if(arguments.length<2)throw new u("actual","expected");void 0===r&&g(),r(t,n)||v({actual:t,expected:n,message:i,operator:"deepEqual",stackStartFn:e})},y.notDeepEqual=function e(t,n,i){if(arguments.length<2)throw new u("actual","expected");void 0===r&&g(),r(t,n)&&v({actual:t,expected:n,message:i,operator:"notDeepEqual",stackStartFn:e})},y.deepStrictEqual=function e(t,i,o){if(arguments.length<2)throw new u("actual","expected");void 0===r&&g(),n(t,i)||v({actual:t,expected:i,message:o,operator:"deepStrictEqual",stackStartFn:e})},y.notDeepStrictEqual=function e(t,i,o){if(arguments.length<2)throw new u("actual","expected");void 0===r&&g();n(t,i)&&v({actual:t,expected:i,message:o,operator:"notDeepStrictEqual",stackStartFn:e})},y.strictEqual=function e(t,r,n){if(arguments.length<2)throw new u("actual","expected");m(t,r)||v({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},y.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new u("actual","expected");m(t,r)&&v({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var S=function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&h(t[e])&&t[e].test(n[e])?i[e]=n[e]:i[e]=t[e])}))};function k(e,t,r,i,o,a){if(!(r in e)||!n(e[r],t[r])){if(!i){var s=new S(e,o),c=new S(t,o,e),u=new assertion_error({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:a});throw u.actual=e,u.expected=t,u.operator=a.name,u}v({actual:e,expected:t,message:i,operator:a.name,stackStartFn:a})}}function A(e,n,i,o){if("function"!=typeof n){if(h(n))return n.test(e);if(2===arguments.length)throw new a("expected",["Function","RegExp"],n);if("object"!==t(e)||null===e){var c=new assertion_error({actual:e,expected:n,message:i,operator:"deepStrictEqual",stackStartFn:o});throw c.operator=o.name,c}var u=Object.keys(n);if(n instanceof Error)u.push("name","message");else if(0===u.length)throw new s("error",n,"may not be an empty object");return void 0===r&&g(),u.forEach((function(t){"string"==typeof e[t]&&h(n[t])&&n[t].test(e[t])||k(e,n,t,i,u,o)})),!0}return void 0!==n.prototype&&e instanceof n||!Error.isPrototypeOf(n)&&!0===n.call({},e)}function E(e){if("function"!=typeof e)throw new a("fn","Function",e);try{e()}catch(e){return e}return _}function I(e){return f(e)||null!==e&&"object"===t(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function R(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!I(t=e()))throw new c("instance of Promise","promiseFn",t)}else{if(!I(e))throw new a("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return _})).catch((function(e){return e}))}))}function T(e,r,n,i){if("string"==typeof n){if(4===arguments.length)throw new a("error",["Object","Error","Function","RegExp"],n);if("object"===t(r)&&null!==r){if(r.message===n)throw new o("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===n)throw new o("error/message",'The error "'.concat(r,'" is identical to the message.'));i=n,n=void 0}else if(null!=n&&"object"!==t(n)&&"function"!=typeof n)throw new a("error",["Object","Error","Function","RegExp"],n);if(r===_){var s="";n&&n.name&&(s+=" (".concat(n.name,")")),s+=i?": ".concat(i):".";var c="rejects"===e.name?"rejection":"exception";v({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(c).concat(s),stackStartFn:e})}if(n&&!A(r,n,i,e))throw r}function x(e,t,r,n){if(t!==_){if("string"==typeof r&&(n=r,r=void 0),!r||A(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";v({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];w.apply(void 0,[P,t.length].concat(t))}y.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];T.apply(void 0,[e,E(t)].concat(n))},y.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return R(t).then((function(t){return T.apply(void 0,[e,t].concat(n))}))},y.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];x.apply(void 0,[e,E(t)].concat(n))},y.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return R(t).then((function(t){return x.apply(void 0,[e,t].concat(n))}))},y.ifError=function e(r){if(null!=r){var n="ifError got unwanted exception: ";"object"===t(r)&&"string"==typeof r.message?0===r.message.length&&r.constructor?n+=r.constructor.name:n+=r.message:n+=l(r);var i=new assertion_error({actual:r,expected:null,operator:"ifError",message:n,stackStartFn:e}),o=r.stack;if("string"==typeof o){var a=o.split("\n");a.shift();for(var s=i.stack.split("\n"),c=0;c<a.length;c++){var u=s.indexOf(a[c]);if(-1!==u){s=s.slice(0,u);break}}i.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw i}},y.strict=p(P,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict}));const LOG_START_INDEX="Program log: ".length;class EventManager{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new EventParser(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,this._eventListeners.get(e).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err?console.error(e):this._eventParser.parseLogs(e.logs,(e=>{const r=this._eventListeners.get(e.name);r&&r.forEach((r=>{const[,n]=this._eventCallbacks.get(r);n(e.data,t.slot)}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),n=n.filter((t=>t!==e)),0===n.length&&this._eventListeners.delete(r),0==this._eventCallbacks.size&&(assert_1.ok(0===this._eventListeners.size),await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}class EventParser{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const r=new LogScanner(e),n=new ExecutionContext(r.next());let i=r.next();for(;null!==i;){let[e,o,a]=this.handleLog(n,i);e&&t(e),o&&n.push(o),a&&n.pop(),i=r.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(LOG_START_INDEX);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return assert_1.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assert_1.ok(this.stack.length>0),this.stack.pop()}}class LogScanner{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class SimulateFactory{static build(e,t,r,n,i,o,a){return async(...s)=>{const c=t(...s),[,u]=splitArgsAndCtx(e,[...s]);let l;try{l=await n.simulate(c,u.signers,u.options)}catch(e){console.log("Translating error",e);let t=ProgramError.parse(e,r);if(null===t)throw e;throw t}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(a.events){new EventParser(o,i).parseLogs(d,(e=>{f.push(e)}))}return{events:f,raw:d}}}}class NamespaceFactory{static build(e,t,r,n){const i={},o={},a={},s={},c=parseIdlErrors(e),u=StateFactory.build(e,t,r,n);e.instructions.forEach((u=>{const l=InstructionNamespaceFactory.build(u,((e,r)=>t.instruction.encode(e,r)),r),d=TransactionFactory.build(u,l),f=RpcFactory.build(u,d,c,n),h=SimulateFactory.build(u,d,c,n,t,r,e),p=camelcase(u.name);o[p]=l,a[p]=d,i[p]=f,s[p]=h}));const l=e.accounts?AccountFactory.build(e,t,r,n):{};return[i,o,a,l,s,u]}}function decode(e){return("undefined"==typeof TextDecoder?new(require("util").TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}class Program{constructor(e,t,r){t=translateAddress(t),this._idl=e,this._programId=t,this._provider=null!=r?r:getProvider(),this._coder=new Coder(e),this._events=new EventManager(this._programId,this._provider,this._coder);const[n,i,o,a,s,c]=NamespaceFactory.build(e,this._coder,t,this._provider);this.rpc=n,this.instruction=i,this.transaction=o,this.account=a,this.simulate=s,this.state=c}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=translateAddress(e),n=await Program.fetchIdl(r,t);return new Program(n,r,t)}static async fetchIdl(e,t){t=null!=t?t:getProvider();const r=translateAddress(e),n=await idlAddress(r);let i=decodeIdlAccount((await t.connection.getAccountInfo(n)).data.slice(8));const o=inflate_1(i.data);return JSON.parse(decode(o))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}let _populatedWorkspace=!1;function attachWorkspaceOverride(e,t,r){Object.keys(t).forEach((n=>{const i=camelcase(n,{pascalCase:!0}),o=t[n],a=new PublicKey("string"==typeof o?o:o.address);let s=r.get(n);"string"!=typeof o&&o.idl&&(s=JSON.parse(require("fs").readFileSync(o.idl,"utf-8"))),e[i]=new Program(s,a)}))}new Proxy({},{get(e,t){if(isBrowser)return void console.log("Workspaces aren't available in the browser");const r=require("fs"),n=require("process");if(!_populatedWorkspace){const t=require("path");let i=n.cwd();for(;!r.existsSync(t.join(i,"Anchor.toml"));){const e=t.dirname(i);e===i&&(i=void 0),i=e}if(void 0===i)throw new Error("Could not find workspace root.");const o=`${i}/target/idl`;if(!r.existsSync(o))throw new Error(`${o} doesn't exist. Did you use "anchor build"?`);const a=new Map;r.readdirSync(o).forEach((t=>{const n=`${o}/${t}`,i=r.readFileSync(n),s=JSON.parse(i);a.set(s.name,s);const c=camelcase(s.name,{pascalCase:!0});s.metadata&&s.metadata.address&&(e[c]=new Program(s,new PublicKey(s.metadata.address)))}));const s=toml.parse(r.readFileSync(t.join(i,"Anchor.toml"),"utf-8")),c=s.provider.cluster;s.programs&&s.programs[c]&&attachWorkspaceOverride(e,s.programs[c],a),_populatedWorkspace=!0}return e[t]}}),new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var defineProperty=createCommonjsModule((function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0})),_defineProperty=getDefaultExportFromCjs$1(defineProperty),buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function _byteLength(e,t,r){return 3*(t+r)/4-r}function toByteArray(e){var t,r,n=getLens(e),i=n[0],o=n[1],a=new Arr(_byteLength(e,i,o)),s=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,a[s++]=255&t),1===o&&(t=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(encodeChunk(e,a,a+o>s?s:a+o));return 1===n?(t=e[r-1],i.push(lookup[t>>2]+lookup[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),i.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*m}};
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */
!function(e){const t=base64Js,r=ieee754,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h(e,t);let n=o(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);const i=function(e){if(a.isBuffer(e)){const t=0|f(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|f(e))}function l(e){const t=e.length<0?0:0|f(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function y(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Y(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return W(H(t,e.length-r),e,r,n)}function v(e,t,r,n){return W(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return W(q(t),e,r,n)}function $(e,t,r,n){return W(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(V(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=a.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(V(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(V(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const c=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<c;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function E(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=G[e[n]];return i}function T(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function x(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function C(e,t,r,n,i){j(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function O(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),a.prototype.readBigInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){P(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){P(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=Z((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=Z((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=Z((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=Z((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const N={};function D(e,t,r){N[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function j(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function z(e,t){if("number"!=typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=U(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=U(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const G=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}}(buffer);var global$1=void 0!==global$2?global$2:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},inherits;inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(e,t){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(t)?r.showHidden=t:t&&_extend(r,t),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var r=inspect$1.styles[t];return r?"["+inspect$1.colors[r][0]+"m"+e+"["+inspect$1.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function formatValue(e,t,r){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect$1&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return isString$1(n)||(n=formatValue(e,n,r)),n}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),a=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var c,u="",l=!1,d=["{","}"];(isArray(t)&&(l=!0,d=["[","]"]),isFunction(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return isRegExp(t)&&(u=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(u=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(u=" "+formatError(t)),0!==o.length||l&&0!=t.length?r<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?formatArray(e,t,r,a,o):o.map((function(n){return formatProperty(e,t,r,a,n,l)})),e.seen.pop(),reduceToSingleString(c,u,d)):d[0]+u+d[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString$1(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,r,n,i,!0))})),o}function formatProperty(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(r)?formatValue(e,c.value,null):formatValue(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString$1(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject$1(e)&&"[object RegExp]"===objectToString(e)}function isObject$1(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject$1(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject$1(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,t){if(!t||!isObject$1(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return void 0!==_functionsHaveNames?_functionsHaveNames:_functionsHaveNames="foo"===function(){}.name}function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!buffer.isBuffer(e)&&("function"==typeof global$1.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function assert(e,t){e||fail(e,!0,t,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(isFunction(e)){if(functionsHaveNames())return e.name;var t=e.toString().match(regex);return t&&t[1]}}function AssertionError(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect(e){if(functionsHaveNames()||!isFunction(e))return inspect$1(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,t,r,n,i){throw new AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",ok)}function equal(e,t,r){e!=t&&fail(e,t,r,"==",equal)}function notEqual(e,t,r){e==t&&fail(e,t,r,"!=",notEqual)}function deepEqual(e,t,r){_deepEqual(e,t,!1)||fail(e,t,r,"deepEqual",deepEqual)}function deepStrictEqual(e,t,r){_deepEqual(e,t,!0)||fail(e,t,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(e,t,r,n){if(e===t)return!0;if(buffer.isBuffer(e)&&buffer.isBuffer(t))return 0===compare(e,t);if(isDate(e)&&isDate(t))return e.getTime()===t.getTime();if(isRegExp(e)&&isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(buffer.isBuffer(e)!==buffer.isBuffer(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}return r?e===t:e==t}function isArguments(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function objEquiv(e,t,r,n){if(null==e||null==t)return!1;if(isPrimitive(e)||isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=isArguments(e),o=isArguments(t);if(i&&!o||!i&&o)return!1;if(i)return _deepEqual(e=pSlice.call(e),t=pSlice.call(t),r);var a,s,c=objectKeys(e),u=objectKeys(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!==u[s])return!1;for(s=c.length-1;s>=0;s--)if(!_deepEqual(e[a=c[s]],t[a],r,n))return!1;return!0}function notDeepEqual(e,t,r){_deepEqual(e,t,!1)&&fail(e,t,r,"notDeepEqual",notDeepEqual)}function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}function strictEqual(e,t,r){e!==t&&fail(e,t,r,"===",strictEqual)}function notStrictEqual(e,t,r){e===t&&fail(e,t,r,"!==",notStrictEqual)}function expectedException(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _tryBlock(e){var t;try{e()}catch(e){t=e}return t}function _throws(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&fail(i,r,"Missing expected exception"+n);var o="string"==typeof n,a=!e&&i&&!r;if((!e&&isError(i)&&o&&expectedException(i,r)||a)&&fail(i,r,"Got unwanted exception"+n),e&&i&&r&&!expectedException(i,r)||!e&&i)throw i}function throws(e,t,r){_throws(!0,e,t,r)}function doesNotThrow(e,t,r){_throws(!1,e,t,r)}function ifError(e){if(e)throw e}assert.AssertionError=AssertionError,inherits$1(AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=equal,assert.notEqual=notEqual,assert.deepEqual=deepEqual,assert.deepStrictEqual=deepStrictEqual,assert.notDeepEqual=notDeepEqual,assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=strictEqual,assert.notStrictEqual=notStrictEqual,assert.throws=throws,assert.doesNotThrow=doesNotThrow,assert.ifError=ifError;class Layout{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function nameWithProperty(e,t){return t.property?e+"["+t.property+"]":e}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Structure extends Layout{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Blob$1 extends Layout{constructor(e,t){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof ExternalLayout&&(n=e.length),!buffer.Buffer.isBuffer(e)||n!==e.length)throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,t,r),n}}var u8=e=>new UInt(1,e),u32=e=>new UInt(4,e),struct=(e,t,r)=>new Structure(e,t,r),blob=(e,t)=>new Blob$1(e,t);const publicKey=(e="publicKey")=>blob(32,e),uint64=(e="uint64")=>blob(8,e);function sendAndConfirmTransaction(e,t,r,...n){return sendAndConfirmTransaction$1(t,r,n,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(e){return buffer.Buffer.from(e.toBuffer())}class u64 extends bn$1{toBuffer(){const e=super.toArray().reverse(),t=buffer.Buffer.from(e);if(8===t.length)return t;assert(t.length<8,"u64 too large");const r=buffer.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return assert(8===e.length,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function isAccount(e){return"publicKey"in e}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,t,r,n){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:n,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,t,r,n,i,o){const a=Keypair.generate(),s=new Token(e,a.publicKey,o,t),c=await Token.getMinBalanceRentForExemptMint(e),u=new Transaction;return u.add(SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,lamports:c,space:MintLayout.span,programId:o})),u.add(Token.createInitMintInstruction(o,a.publicKey,i,r,n)),await sendAndConfirmTransaction("createAccount and InitializeMint",e,u,t,a),s}async createAccount(e){const t=await Token.getMinBalanceRentForExemptAccount(this.connection),r=Keypair.generate(),n=new Transaction;n.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:AccountLayout.span,programId:this.programId}));const i=this.publicKey;return n.add(Token.createInitAccountInstruction(this.programId,i,r.publicKey,e)),await sendAndConfirmTransaction("createAccount and InitializeAccount",this.connection,n,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await sendAndConfirmTransaction("CreateAssociatedTokenAccount",this.connection,(new Transaction).add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===FAILED_TO_FIND_ACCOUNT||r.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(e){}return await this.getAccountInfo(t)}throw r}}static async createWrappedNativeAccount(e,t,r,n,i){const o=await Token.getMinBalanceRentForExemptAccount(e),a=Keypair.generate(),s=new Transaction;return s.add(SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:a.publicKey,lamports:o,space:AccountLayout.span,programId:t})),s.add(SystemProgram.transfer({fromPubkey:n.publicKey,toPubkey:a.publicKey,lamports:i})),s.add(Token.createInitAccountInstruction(t,NATIVE_MINT,a.publicKey,r)),await sendAndConfirmTransaction("createAccount, transfer, and initializeAccount",e,s,n,a),a.publicKey}async createMultisig(e,t){const r=Keypair.generate(),n=await Token.getMinBalanceRentForExemptMultisig(this.connection),i=new Transaction;i.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:n,space:MultisigLayout.span,programId:this.programId}));let o=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.forEach((e=>o.push({pubkey:e,isSigner:!1,isWritable:!1})));const a=struct([u8("instruction"),u8("m")]),s=buffer.Buffer.alloc(a.span);return a.encode({instruction:2,m:e},s),i.add({keys:o,programId:this.programId,data:s}),await sendAndConfirmTransaction("createAccount and InitializeMultisig",this.connection,i,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const t=buffer.Buffer.from(e.data),r=MintLayout.decode(t);return 0===r.mintAuthorityOption?r.mintAuthority=null:r.mintAuthority=new PublicKey(r.mintAuthority),r.supply=u64.fromBuffer(r.supply),r.isInitialized=0!=r.isInitialized,0===r.freezeAuthorityOption?r.freezeAuthority=null:r.freezeAuthority=new PublicKey(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(null===r)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!r.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(r.data.length!=AccountLayout.span)throw new Error("Invalid account size");const n=buffer.Buffer.from(r.data),i=AccountLayout.decode(n);if(i.address=e,i.mint=new PublicKey(i.mint),i.owner=new PublicKey(i.owner),i.amount=u64.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new u64):(i.delegate=new PublicKey(i.delegate),i.delegatedAmount=u64.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=u64.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new PublicKey(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const r=buffer.Buffer.from(t.data),n=MultisigLayout.decode(r);return n.signer1=new PublicKey(n.signer1),n.signer2=new PublicKey(n.signer2),n.signer3=new PublicKey(n.signer3),n.signer4=new PublicKey(n.signer4),n.signer5=new PublicKey(n.signer5),n.signer6=new PublicKey(n.signer6),n.signer7=new PublicKey(n.signer7),n.signer8=new PublicKey(n.signer8),n.signer9=new PublicKey(n.signer9),n.signer10=new PublicKey(n.signer10),n.signer11=new PublicKey(n.signer11),n}async transfer(e,t,r,n,i){let o,a;return isAccount(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await sendAndConfirmTransaction("Transfer",this.connection,(new Transaction).add(Token.createTransferInstruction(this.programId,e,t,o,n,i)),this.payer,...a)}async approve(e,t,r,n,i){let o,a;isAccount(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await sendAndConfirmTransaction("Approve",this.connection,(new Transaction).add(Token.createApproveInstruction(this.programId,e,t,o,n,i)),this.payer,...a)}async revoke(e,t,r){let n,i;isAccount(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await sendAndConfirmTransaction("Revoke",this.connection,(new Transaction).add(Token.createRevokeInstruction(this.programId,e,n,r)),this.payer,...i)}async setAuthority(e,t,r,n,i){let o,a;isAccount(n)?(o=n.publicKey,a=[n]):(o=n,a=i),await sendAndConfirmTransaction("SetAuthority",this.connection,(new Transaction).add(Token.createSetAuthorityInstruction(this.programId,e,t,r,o,i)),this.payer,...a)}async mintTo(e,t,r,n){let i,o;isAccount(t)?(i=t.publicKey,o=[t]):(i=t,o=r),await sendAndConfirmTransaction("MintTo",this.connection,(new Transaction).add(Token.createMintToInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...o)}async burn(e,t,r,n){let i,o;isAccount(t)?(i=t.publicKey,o=[t]):(i=t,o=r),await sendAndConfirmTransaction("Burn",this.connection,(new Transaction).add(Token.createBurnInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...o)}async closeAccount(e,t,r,n){let i,o;isAccount(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await sendAndConfirmTransaction("CloseAccount",this.connection,(new Transaction).add(Token.createCloseAccountInstruction(this.programId,e,t,i,n)),this.payer,...o)}async freezeAccount(e,t,r){let n,i;isAccount(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await sendAndConfirmTransaction("FreezeAccount",this.connection,(new Transaction).add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async thawAccount(e,t,r){let n,i;isAccount(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await sendAndConfirmTransaction("ThawAccount",this.connection,(new Transaction).add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async transferChecked(e,t,r,n,i,o){let a,s;return isAccount(r)?(a=r.publicKey,s=[r]):(a=r,s=n),await sendAndConfirmTransaction("TransferChecked",this.connection,(new Transaction).add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,a,n,i,o)),this.payer,...s)}async approveChecked(e,t,r,n,i,o){let a,s;isAccount(r)?(a=r.publicKey,s=[r]):(a=r,s=n),await sendAndConfirmTransaction("ApproveChecked",this.connection,(new Transaction).add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,a,n,i,o)),this.payer,...s)}async mintToChecked(e,t,r,n,i){let o,a;isAccount(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await sendAndConfirmTransaction("MintToChecked",this.connection,(new Transaction).add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,r,n,i)),this.payer,...a)}async burnChecked(e,t,r,n,i){let o,a;isAccount(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await sendAndConfirmTransaction("BurnChecked",this.connection,(new Transaction).add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,r,n,i)),this.payer,...a)}async syncNative(e){await sendAndConfirmTransaction("SyncNative",this.connection,(new Transaction).add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,r,n,i){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const a=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let s=buffer.Buffer.alloc(1024);{const e=a.encode({instruction:0,decimals:r,mintAuthority:pubkeyToBuffer(n),option:null===i?0:1,freezeAuthority:pubkeyToBuffer(i||new PublicKey(0))},s);s=s.slice(0,e)}return new TransactionInstruction({keys:o,programId:e,data:s})}static createInitAccountInstruction(e,t,r,n){const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=struct([u8("instruction")]),a=buffer.Buffer.alloc(o.span);return o.encode({instruction:1},a),new TransactionInstruction({keys:i,programId:e,data:a})}static createTransferInstruction(e,t,r,n,i,o){const a=struct([u8("instruction"),uint64("amount")]),s=buffer.Buffer.alloc(a.span);a.encode({instruction:3,amount:new u64(o).toBuffer()},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:c,programId:e,data:s})}static createApproveInstruction(e,t,r,n,i,o){const a=struct([u8("instruction"),uint64("amount")]),s=buffer.Buffer.alloc(a.span);a.encode({instruction:4,amount:new u64(o).toBuffer()},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:c,programId:e,data:s})}static createRevokeInstruction(e,t,r,n){const i=struct([u8("instruction")]),o=buffer.Buffer.alloc(i.span);i.encode({instruction:5},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===n.length?a.push({pubkey:r,isSigner:!0,isWritable:!1}):(a.push({pubkey:r,isSigner:!1,isWritable:!1}),n.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:a,programId:e,data:o})}static createSetAuthorityInstruction(e,t,r,n,i,o){const a=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let s=buffer.Buffer.alloc(1024);{const e=a.encode({instruction:6,authorityType:AuthorityTypeCodes[n],option:null===r?0:1,newAuthority:pubkeyToBuffer(r||new PublicKey(0))},s);s=s.slice(0,e)}let c=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===o.length?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:c,programId:e,data:s})}static createMintToInstruction(e,t,r,n,i,o){const a=struct([u8("instruction"),uint64("amount")]),s=buffer.Buffer.alloc(a.span);a.encode({instruction:7,amount:new u64(o).toBuffer()},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:c,programId:e,data:s})}static createBurnInstruction(e,t,r,n,i,o){const a=struct([u8("instruction"),uint64("amount")]),s=buffer.Buffer.alloc(a.span);a.encode({instruction:8,amount:new u64(o).toBuffer()},s);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:c,programId:e,data:s})}static createCloseAccountInstruction(e,t,r,n,i){const o=struct([u8("instruction")]),a=buffer.Buffer.alloc(o.span);o.encode({instruction:9},a);let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?s.push({pubkey:n,isSigner:!0,isWritable:!1}):(s.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>s.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:s,programId:e,data:a})}static createFreezeAccountInstruction(e,t,r,n,i){const o=struct([u8("instruction")]),a=buffer.Buffer.alloc(o.span);o.encode({instruction:10},a);let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?s.push({pubkey:n,isSigner:!0,isWritable:!1}):(s.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>s.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:s,programId:e,data:a})}static createThawAccountInstruction(e,t,r,n,i){const o=struct([u8("instruction")]),a=buffer.Buffer.alloc(o.span);o.encode({instruction:11},a);let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?s.push({pubkey:n,isSigner:!0,isWritable:!1}):(s.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>s.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:s,programId:e,data:a})}static createTransferCheckedInstruction(e,t,r,n,i,o,a,s){const c=struct([u8("instruction"),uint64("amount"),u8("decimals")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:12,amount:new u64(a).toBuffer(),decimals:s},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===o.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:l,programId:e,data:u})}static createApproveCheckedInstruction(e,t,r,n,i,o,a,s){const c=struct([u8("instruction"),uint64("amount"),u8("decimals")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:13,amount:new u64(a).toBuffer(),decimals:s},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===o.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:l,programId:e,data:u})}static createMintToCheckedInstruction(e,t,r,n,i,o,a){const s=struct([u8("instruction"),uint64("amount"),u8("decimals")]),c=buffer.Buffer.alloc(s.span);s.encode({instruction:14,amount:new u64(o).toBuffer(),decimals:a},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:u,programId:e,data:c})}static createBurnCheckedInstruction(e,t,r,n,i,o,a){const s=struct([u8("instruction"),uint64("amount"),u8("decimals")]),c=buffer.Buffer.alloc(s.span);s.encode({instruction:15,amount:new u64(o).toBuffer(),decimals:a},c);let u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new TransactionInstruction({keys:u,programId:e,data:c})}static createSyncNativeInstruction(e,t){const r=struct([u8("instruction")]),n=buffer.Buffer.alloc(r.span);return r.encode({instruction:17},n),new TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0}],programId:e,data:n})}static async getAssociatedTokenAddress(e,t,r,n,i=!1){if(!i&&!PublicKey.isOnCurve(n.toBuffer()))throw new Error(`Owner cannot sign: ${n.toString()}`);return(await PublicKey.findProgramAddress([n.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,n,i,o){const a=buffer.Buffer.alloc(0);let s=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:s,programId:e,data:a})}}var rollbar_umd_min=createCommonjsModule((function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){var n=r(12),i={};function o(e,t){return t===a(e)}function a(e){var t=typeof e;return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function s(e){return o(e,"function")}function c(e){var t=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),r=RegExp("^"+t+"$");return u(e)&&r.test(e)}function u(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function l(){var e=b();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:7&r|8).toString(16)}))}var d={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function f(e,t){var r,n;try{r=i.stringify(e)}catch(i){if(t&&s(t))try{r=t(e)}catch(e){n=e}else n=i}return{error:n,value:r}}function h(e,t){return function(r,n){try{t(r,n)}catch(t){e.error(t)}}}var p=["log","network","dom","navigation","error","manual"],m=["critical","error","warning","info","debug"];function g(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1}function b(){return Date.now?+Date.now():+new Date}e.exports={addParamsAndAccessTokenToPath:function(e,t,r){(r=r||{}).access_token=e;var n,i=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&i.push([n,r[n]].join("="));var o="?"+i.sort().join("&");(t=t||{}).path=t.path||"";var a,s=t.path.indexOf("?"),c=t.path.indexOf("#");-1!==s&&(-1===c||c>s)?(a=t.path,t.path=a.substring(0,s)+o+"&"+a.substring(s+1)):-1!==c?(a=t.path,t.path=a.substring(0,c)+o+a.substring(c)):t.path=t.path+o},createItem:function(e,t,r,i,o){for(var s,c,u,d,f,p,m=[],g=[],y=0,_=e.length;y<_;++y){var v=a(p=e[y]);switch(g.push(v),v){case"undefined":break;case"string":s?m.push(p):s=p;break;case"function":d=h(t,p);break;case"date":m.push(p);break;case"error":case"domexception":case"exception":c?m.push(p):c=p;break;case"object":case"array":if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){c?m.push(p):c=p;break}if(i&&"object"===v&&!f){for(var w=0,$=i.length;w<$;++w)if(void 0!==p[i[w]]){f=p;break}if(f)break}u?m.push(p):u=p;break;default:if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){c?m.push(p):c=p;break}m.push(p)}}m.length>0&&((u=n(u)).extraArgs=m);var S={message:s,err:c,custom:u,timestamp:b(),callback:d,notifier:r,diagnostic:{},uuid:l()};return function(e,t){t&&void 0!==t.level&&(e.level=t.level,delete t.level),t&&void 0!==t.skipFrames&&(e.skipFrames=t.skipFrames,delete t.skipFrames)}(S,u),i&&f&&(S.request=f),o&&(S.lambdaContext=o),S._originalArgs=e,S.diagnostic.original_arg_types=g,S},addErrorContext:function(e,t){var r=e.data.custom||{},i=!1;try{for(var o=0;o<t.length;++o)t[o].hasOwnProperty("rollbarContext")&&(r=n(r,t[o].rollbarContext),i=!0);i&&(e.data.custom=r)}catch(t){e.diagnostic.error_context="Failed: "+t.message}},createTelemetryEvent:function(e){for(var t,r,n,i,o=0,s=e.length;o<s;++o)switch(a(i=e[o])){case"string":!t&&g(p,i)?t=i:!n&&g(m,i)&&(n=i);break;case"object":r=i}return{type:t||"manual",metadata:r||{},level:n}},filterIp:function(e,t){if(e&&e.user_ip&&!0!==t){var r=e.user_ip;if(t)try{var n;if(-1!==r.indexOf("."))(n=r.split(".")).pop(),n.push("0"),r=n.join(".");else if(-1!==r.indexOf(":")){if((n=r.split(":")).length>2){var i=n.slice(0,3),o=i[2].indexOf("/");-1!==o&&(i[2]=i[2].substring(0,o)),r=i.concat("0000:0000:0000:0000:0000").join(":")}}else r=null}catch(e){r=null}else r=null;e.user_ip=r}},formatArgsAsString:function(e){var t,r,n,i=[];for(t=0,r=e.length;t<r;++t){switch(a(n=e[t])){case"object":(n=(n=f(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}i.push(n)}return i.join(" ")},formatUrl:function(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var r=t+"//"+e.hostname;return e.port&&(r=r+":"+e.port),e.path&&(r+=e.path),r},get:function(e,t){if(e){var r=t.split("."),n=e;try{for(var i=0,o=r.length;i<o;++i)n=n[r[i]]}catch(e){n=void 0}return n}},handleOptions:function(e,t,r,i){var o=n(e,t,r);return o=function(e,t){return e.hostWhiteList&&!e.hostSafeList&&(e.hostSafeList=e.hostWhiteList,e.hostWhiteList=void 0,t&&t.log("hostWhiteList is deprecated. Use hostSafeList.")),e.hostBlackList&&!e.hostBlockList&&(e.hostBlockList=e.hostBlackList,e.hostBlackList=void 0,t&&t.log("hostBlackList is deprecated. Use hostBlockList.")),e}(o,i),!t||t.overwriteScrubFields||t.scrubFields&&(o.scrubFields=(e.scrubFields||[]).concat(t.scrubFields)),o},isError:function(e){return o(e,"error")||o(e,"exception")},isFiniteNumber:function(e){return Number.isFinite(e)},isFunction:s,isIterable:function(e){var t=a(e);return"object"===t||"array"===t},isNativeFunction:c,isObject:u,isString:function(e){return"string"==typeof e||e instanceof String},isType:o,isPromise:function(e){return u(e)&&o(e.then,"function")},jsonParse:function(e){var t,r;try{t=i.parse(e)}catch(e){r=e}return{error:r,value:t}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(e,t,r,n,i,o,a,s){var c={url:t||"",line:r,column:n};c.func=s.guessFunctionName(c.url,c.line),c.context=s.gatherContext(c.url,c.line);var u="undefined"!=typeof document&&document&&document.location&&document.location.href,l="undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent;return{mode:o,message:i?String(i):e||a,url:u,stack:[c],useragent:l}},merge:n,now:b,redact:function(){return"********"},RollbarJSON:i,sanitizeUrl:function(e){var t=function(e){if(o(e,"string")){for(var t=d,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},i=0,a=t.key.length;i<a;++i)n[t.key[i]]=r[i]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,r,i){r&&(n[t.q.name][r]=i)})),n}}(e);return t?(""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")):"(unknown)"},set:function(e,t,r){if(e){var n=t.split("."),i=n.length;if(!(i<1))if(1!==i)try{for(var o=e[n[0]]||{},a=o,s=1;s<i-1;++s)o[n[s]]=o[n[s]]||{},o=o[n[s]];o[n[i-1]]=r,e[n[0]]=a}catch(e){return}else e[n[0]]=r}},setupJSON:function(e){s(i.stringify)&&s(i.parse)||(o(JSON,"undefined")||(e?(c(JSON.stringify)&&(i.stringify=JSON.stringify),c(JSON.parse)&&(i.parse=JSON.parse)):(s(JSON.stringify)&&(i.stringify=JSON.stringify),s(JSON.parse)&&(i.parse=JSON.parse))),s(i.stringify)&&s(i.parse)||e&&e(i))},stringify:f,maxByteSize:function(e){for(var t=0,r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<128?t+=1:i<2048?t+=2:i<65536&&(t+=3)}return t},typeName:a,uuid4:l}},function(e,t,r){r(17);var n=r(18),i=r(0);e.exports={error:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.error(i.formatArgsAsString(e)):console.error.apply(console,e)},info:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.info(i.formatArgsAsString(e)):console.info.apply(console,e)},log:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.log(i.formatArgsAsString(e)):console.log.apply(console,e)}}},function(e,t,r){e.exports={parse:function(e){var t,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(n.protocol=e.substring(0,t),r=t+2):r=0,-1!==(t=e.indexOf("@",r))&&(n.auth=e.substring(r,t),r=t+1),-1===(t=e.indexOf("/",r))){if(-1===(t=e.indexOf("?",r)))return-1===(t=e.indexOf("#",r))?n.host=e.substring(r):(n.host=e.substring(r,t),n.hash=e.substring(t)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t}else n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t;if(-1===(t=e.indexOf("#",r))?n.path=e.substring(r):(n.path=e.substring(r,t),n.hash=e.substring(t)),n.path){var i=n.path.split("?");n.pathname=i[0],n.query=i[1],n.search=n.query?"?"+n.query:null}return n}}},function(e,t,r){var n=r(22),i=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function o(){return null}function a(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=null,t}function s(e,t){return{stack:function(){var r=[];t=t||0;try{r=n.parse(e)}catch(e){r=[]}for(var i=[],o=t;o<r.length;o++)i.push(new a(r[o]));return i}(),message:e.message,name:c(e),rawStack:e.stack,rawException:e}}function c(e){var t=e.name&&e.name.length&&e.name,r=e.constructor.name&&e.constructor.name.length&&e.constructor.name;return t&&r?"Error"===t?r:t:t||r}e.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(i),r="(unknown)";return t&&(r=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,e]},gatherContext:o,parse:function(e,t){var r=e;if(r.nested){for(var n=[];r;)n.push(new s(r,t)),r=r.nested,t=0;return n[0].traceChain=n,n[0]}return new s(r,t)},Stack:s,Frame:a}},function(e,t,r){var n=r(0),i=r(5);function o(e,t){var r=t.split("."),i=r.length-1;try{for(var o=0;o<=i;++o)o<i?e=e[r[o]]:e[r[o]]=n.redact()}catch(e){}}e.exports=function(e,t,r){if(t=t||[],r)for(var a=0;a<r.length;++a)o(e,r[a]);var s=function(e){for(var t,r=[],n=0;n<e.length;++n)t="^\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(t,"i"));return r}(t),c=function(e){for(var t,r=[],n=0;n<e.length;++n)t="\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return r}(t);function u(e,t){return t+n.redact()}return i(e,(function e(t,r,o){var a=function(e,t){var r;for(r=0;r<s.length;++r)if(s[r].test(e)){t=n.redact();break}return t}(t,r);return a===r?n.isType(r,"object")||n.isType(r,"array")?i(r,e,o):function(e){var t;if(n.isType(e,"string"))for(t=0;t<c.length;++t)e=e.replace(c[t],u);return e}(a):a}))}},function(e,t,r){var n=r(0);e.exports=function(e,t,r){var i,o,a,s,c=n.isType(e,"object"),u=n.isType(e,"array"),l=[];if(r=r||{obj:[],mapped:[]},c){if(s=r.obj.indexOf(e),c&&-1!==s)return r.mapped[s]||r.obj[s];r.obj.push(e),s=r.obj.length-1}if(c)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&l.push(i);else if(u)for(a=0;a<e.length;++a)l.push(a);var d=c?{}:[],f=!0;for(a=0;a<l.length;++a)o=e[i=l[a]],d[i]=t(i,o,r),f=f&&d[i]===e[i];return c&&!f&&(r.mapped[s]=d),f?e:d}},function(e,t,r){e.exports=r(7)},function(e,t,r){var n=r(8),i="undefined"!=typeof window&&window._rollbarConfig,o=i&&i.globalAlias||"Rollbar",a="undefined"!=typeof window&&window[o]&&"function"==typeof window[o].shimId&&void 0!==window[o].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!a&&i){var s=new n(i);window[o]=s}else"undefined"!=typeof window?(window.rollbar=n,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=n,self._rollbarDidLoad=!0);e.exports=n},function(e,t,r){var n=r(9),i=r(29),o=r(30),a=r(32),s=r(34),c=r(4),u=r(35);n.setComponents({telemeter:i,instrumenter:o,polyfillJSON:a,wrapGlobals:s,scrub:c,truncation:u}),e.exports=n},function(e,t,r){var n=r(10),i=r(0),o=r(15),a=r(1),s=r(19),c=r(20),u=r(2),l=r(21),d=r(24),f=r(25),h=r(26),p=r(3);function m(e,t){this.options=i.handleOptions($,e,null,a),this.options._configuredOptions=e;var r=this.components.telemeter,s=this.components.instrumenter,p=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var m=this.components.truncation,g=new c(m),b=new o(this.options,g,u,m);r&&(this.telemeter=new r(this.options)),this.client=t||new n(this.options,b,a,this.telemeter,"browser");var y=_(),v="undefined"!=typeof document&&document;this.isChrome=y.chrome&&y.chrome.runtime,this.anonymousErrorsPending=0,function(e,t,r){e.addTransform(l.handleDomException).addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(r)).addTransform(l.addClientInfo(r)).addTransform(l.addPluginInfo(r)).addTransform(l.addBody).addTransform(d.addMessageWithError).addTransform(d.addTelemetryData).addTransform(d.addConfigToPayload).addTransform(l.addScrubber(t.scrub)).addTransform(d.userTransform(a)).addTransform(d.addConfiguredOptions).addTransform(d.addDiagnosticKeys).addTransform(d.itemToPayload)}(this.client.notifier,this,y),this.client.queue.addPredicate(h.checkLevel).addPredicate(f.checkIgnore).addPredicate(h.userCheckIgnore(a)).addPredicate(h.urlIsNotBlockListed(a)).addPredicate(h.urlIsSafeListed(a)).addPredicate(h.messageIsIgnored(a)),this.setupUnhandledCapture(),s&&(this.instrumenter=new s(this.options,this.client.telemeter,this,y,v),this.instrumenter.instrument()),i.setupJSON(p)}var g=null;function b(e){var t="Rollbar is not initialized";a.error(t),e&&e(new Error(t))}function y(e){for(var t=0,r=e.length;t<r;++t)if(i.isFunction(e[t]))return e[t]}function _(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}m.init=function(e,t){return g?g.global(e).configure(e):g=new m(e,t)},m.prototype.components={},m.setComponents=function(e){m.prototype.components=e},m.prototype.global=function(e){return this.client.global(e),this},m.global=function(e){if(g)return g.global(e);b()},m.prototype.configure=function(e,t){var r=this.options,n={};return t&&(n={payload:t}),this.options=i.handleOptions(r,e,n,a),this.options._configuredOptions=i.handleOptions(r._configuredOptions,e,n),this.client.configure(this.options,t),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},m.configure=function(e,t){if(g)return g.configure(e,t);b()},m.prototype.lastError=function(){return this.client.lastError},m.lastError=function(){if(g)return g.lastError();b()},m.prototype.log=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}},m.log=function(){if(g)return g.log.apply(g,arguments);b(y(arguments))},m.prototype.debug=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}},m.debug=function(){if(g)return g.debug.apply(g,arguments);b(y(arguments))},m.prototype.info=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}},m.info=function(){if(g)return g.info.apply(g,arguments);b(y(arguments))},m.prototype.warn=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}},m.warn=function(){if(g)return g.warn.apply(g,arguments);b(y(arguments))},m.prototype.warning=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}},m.warning=function(){if(g)return g.warning.apply(g,arguments);b(y(arguments))},m.prototype.error=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}},m.error=function(){if(g)return g.error.apply(g,arguments);b(y(arguments))},m.prototype.critical=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}},m.critical=function(){if(g)return g.critical.apply(g,arguments);b(y(arguments))},m.prototype.buildJsonPayload=function(e){return this.client.buildJsonPayload(e)},m.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);b()},m.prototype.sendJsonPayload=function(e){return this.client.sendJsonPayload(e)},m.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);b()},m.prototype.setupUnhandledCapture=function(){var e=_();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(e,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(e,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(e,this),this.unhandledRejectionsInitialized=!0)},m.prototype.handleUncaughtException=function(e,t,r,n,o,a){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===o&&""===t)return"anonymous";var s,c=i.makeUnhandledStackInfo(e,t,r,n,o,"onerror","uncaught exception",p);i.isError(o)?(s=this._createItem([e,o,a]))._unhandledStackInfo=c:i.isError(t)?(s=this._createItem([e,t,a]))._unhandledStackInfo=c:(s=this._createItem([e,a])).stackInfo=c,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},m.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var e=this;try{Error.prepareStackTrace=function(t,r){if(e.options.inspectAnonymousErrors&&e.anonymousErrorsPending){if(e.anonymousErrorsPending-=1,!t)return;t._isAnonymous=!0,e.handleUncaughtException(t.message,null,null,null,t)}return t.stack}}catch(e){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",e)}}},m.prototype.handleUnhandledRejection=function(e,t){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var r="unhandled rejection was null or undefined!";if(e)if(e.message)r=e.message;else{var n=i.stringify(e);n.value&&(r=n.value)}var o,a=e&&e._rollbarContext||t&&t._rollbarContext;i.isError(e)?o=this._createItem([r,e,a]):(o=this._createItem([r,e,a])).stackInfo=i.makeUnhandledStackInfo(r,"",0,0,null,"unhandledrejection","",p),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(t),this.client.log(o)}},m.prototype.wrap=function(e,t,r){try{var n;if(n=i.isFunction(t)?t:function(){return t||{}},!i.isFunction(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){r&&i.isFunction(r)&&r.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){var t=r;throw t&&window._rollbarWrappedError!==t&&(i.isType(t,"string")&&(t=new String(t)),t._rollbarContext=n()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t),t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var o in e)e.hasOwnProperty(o)&&"_rollbar_wrapped"!==o&&(e._rollbar_wrapped[o]=e[o]);return e._rollbar_wrapped}catch(t){return e}},m.wrap=function(e,t){if(g)return g.wrap(e,t);b()},m.prototype.captureEvent=function(){var e=i.createTelemetryEvent(arguments);return this.client.captureEvent(e.type,e.metadata,e.level)},m.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);b()},m.prototype.captureDomContentLoaded=function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)},m.prototype.captureLoad=function(e,t){return t||(t=new Date),this.client.captureLoad(t)},m.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},m.prototype._createItem=function(e){return i.createItem(e,a,this)};var v=r(27),w=r(28),$={version:v.version,scrubFields:w.scrubFields,logLevel:v.logLevel,reportLevel:v.reportLevel,uncaughtErrorLevel:v.uncaughtErrorLevel,endpoint:v.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};e.exports=m},function(e,t,r){var n=r(11),i=r(13),o=r(14),a=r(0);function s(e,t,r,n,l){this.options=a.merge(e),this.logger=r,s.rateLimiter.configureGlobal(this.options),s.rateLimiter.setPlatformOptions(l,this.options),this.api=t,this.queue=new i(s.rateLimiter,t,r,this.options);var d=this.options.tracer||null;u(d)?(this.tracer=d,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new o(this.queue,this.options),this.telemeter=n,c(e),this.lastError=null,this.lastErrorHash="none"}function c(e){e.stackTraceLimit&&(Error.stackTraceLimit=e.stackTraceLimit)}function u(e){if(!e)return!1;if(!e.scope||"function"!=typeof e.scope)return!1;var t=e.scope();return!(!t||!t.active||"function"!=typeof t.active)}s.rateLimiter=new n({maxItems:0,itemsPerMinute:60}),s.prototype.global=function(e){return s.rateLimiter.configureGlobal(e),this},s.prototype.configure=function(e,t){var r=this.options,n={};t&&(n={payload:t}),this.options=a.merge(r,e,n);var i=this.options.tracer||null;return u(i)?(this.tracer=i,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),c(e),this.global(this.options),u(e.tracer)&&(this.tracer=e.tracer),this},s.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},s.prototype.debug=function(e){this._log("debug",e)},s.prototype.info=function(e){this._log("info",e)},s.prototype.warn=function(e){this._log("warning",e)},s.prototype.warning=function(e){this._log("warning",e)},s.prototype.error=function(e){this._log("error",e)},s.prototype.critical=function(e){this._log("critical",e)},s.prototype.wait=function(e){this.queue.wait(e)},s.prototype.captureEvent=function(e,t,r){return this.telemeter&&this.telemeter.captureEvent(e,t,r)},s.prototype.captureDomContentLoaded=function(e){return this.telemeter&&this.telemeter.captureDomContentLoaded(e)},s.prototype.captureLoad=function(e){return this.telemeter&&this.telemeter.captureLoad(e)},s.prototype.buildJsonPayload=function(e){return this.api.buildJsonPayload(e)},s.prototype.sendJsonPayload=function(e){this.api.postJsonPayload(e)},s.prototype._log=function(e,t){var r;if(t.callback&&(r=t.callback,delete t.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(t)){if(r){var n=new Error("ignored identical item");n.item=t,r(n)}}else try{this._addTracingInfo(t),t.level=t.level||e,this.telemeter&&this.telemeter._captureRollbarItem(t),t.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(t,r)}catch(e){r&&r(e),this.logger.error(e)}},s.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},s.prototype._sameAsLastError=function(e){if(!e._isUncaught)return!1;var t=function(e){return(e.message||"")+"::"+((e.err||{}).stack||String(e.err))}(e);return this.lastErrorHash===t||(this.lastError=e.err,this.lastErrorHash=t,!1)},s.prototype._addTracingInfo=function(e){if(this.tracer){var t=this.tracer.scope().active();if(function(e){if(!e||!e.context||"function"!=typeof e.context)return!1;var t=e.context();return!!(t&&t.toSpanId&&t.toTraceId&&"function"==typeof t.toSpanId&&"function"==typeof t.toTraceId)}(t)){t.setTag("rollbar.error_uuid",e.uuid),t.setTag("rollbar.has_error",!0),t.setTag("error",!0),t.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+e.uuid),t.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+e.uuid);var r=t.context().toSpanId(),n=t.context().toTraceId();e.custom?(e.custom.opentracing_span_id=r,e.custom.opentracing_trace_id=n):e.custom={opentracing_span_id:r,opentracing_trace_id:n}}}},e.exports=s},function(e,t,r){var n=r(0);function i(e){this.startTime=n.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function o(e,t,r){return!e.ignoreRateLimit&&t>=1&&r>t}function a(e,t,r,n,i,o,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(e,t,r,n,i){var o={body:{message:{body:i?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:t.environment||t.payload&&t.payload.environment,notifier:{version:t.notifier&&t.notifier.version||t.version}};return"browser"===e?(o.platform="browser",o.framework="browser-js",o.notifier.name="rollbar-browser-js"):"server"===e?(o.framework=t.framework||"node-js",o.notifier.name=t.notifier.name):"react-native"===e&&(o.framework=t.framework||"react-native",o.notifier.name=t.notifier.name),o}(e,t,i,o,a)),{error:r,shouldSend:n,payload:s}}i.globalSettings={startTime:n.now(),maxItems:void 0,itemsPerMinute:void 0},i.prototype.configureGlobal=function(e){void 0!==e.startTime&&(i.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(i.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(i.globalSettings.itemsPerMinute=e.itemsPerMinute)},i.prototype.shouldSend=function(e,t){var r=(t=t||n.now())-this.startTime;(r<0||r>=6e4)&&(this.startTime=t,this.perMinCounter=0);var s=i.globalSettings.maxItems,c=i.globalSettings.itemsPerMinute;if(o(e,s,this.counter))return a(this.platform,this.platformOptions,s+" max items reached",!1);if(o(e,c,this.perMinCounter))return a(this.platform,this.platformOptions,c+" items per minute reached",!1);this.counter++,this.perMinCounter++;var u=!o(e,s,this.counter),l=u;return u=u&&!o(e,c,this.perMinCounter),a(this.platform,this.platformOptions,null,u,s,c,l)},i.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t},e.exports=i},function(e,t,r){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,r,n,i,a,s={},c=null,u=arguments.length;for(t=0;t<u;t++)if(null!=(c=arguments[t]))for(a in c)r=s[a],s!==(n=c[a])&&(n&&o(n)?(i=r&&o(r)?r:{},s[a]=e(i,n)):void 0!==n&&(s[a]=n));return s}},function(e,t,r){var n=r(0);function i(e,t,r,n){this.rateLimiter=e,this.api=t,this.logger=r,this.options=n,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}i.prototype.configure=function(e){this.api&&this.api.configure(e);var t=this.options;return this.options=n.merge(t,e),this},i.prototype.addPredicate=function(e){return n.isFunction(e)&&this.predicates.push(e),this},i.prototype.addPendingItem=function(e){this.pendingItems.push(e)},i.prototype.removePendingItem=function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)},i.prototype.addItem=function(e,t,r,i){t&&n.isFunction(t)||(t=function(){});var o=this._applyPredicates(e);if(o.stop)return this.removePendingItem(i),void t(o.err);if(this._maybeLog(e,r),this.removePendingItem(i),this.options.transmit){this.pendingRequests.push(e);try{this._makeApiRequest(e,function(r,n){this._dequeuePendingRequest(e),t(r,n)}.bind(this))}catch(r){this._dequeuePendingRequest(e),t(r)}}else t(new Error("Transmit disabled"))},i.prototype.wait=function(e){n.isFunction(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},i.prototype._applyPredicates=function(e){for(var t=null,r=0,n=this.predicates.length;r<n;r++)if(!(t=this.predicates[r](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}},i.prototype._makeApiRequest=function(e,t){var r=this.rateLimiter.shouldSend(e);r.shouldSend?this.api.postItem(e,function(r,n){r?this._maybeRetry(r,e,t):t(r,n)}.bind(this)):r.error?t(r.error):this.api.postItem(r.payload,t)};var o=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];i.prototype._maybeRetry=function(e,t,r){var i=!1;if(this.options.retryInterval){for(var a=0,s=o.length;a<s;a++)if(e.code===o[a]){i=!0;break}i&&n.isFiniteNumber(this.options.maxRetries)&&(t.retries=t.retries?t.retries+1:1,t.retries>this.options.maxRetries&&(i=!1))}i?this._retryApiRequest(t,r):r(e)},i.prototype._retryApiRequest=function(e,t){this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var e=this.retryQueue.shift();this._makeApiRequest(e.item,e.callback)}}.bind(this),this.options.retryInterval))},i.prototype._dequeuePendingRequest=function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())},i.prototype._maybeLog=function(e,t){if(this.logger&&this.options.verbose){var r=t;if(r=(r=r||n.get(e,"body.trace.exception.message"))||n.get(e,"body.trace_chain.0.exception.message"))return void this.logger.error(r);(r=n.get(e,"body.message.body"))&&this.logger.log(r)}},i.prototype._maybeCallWait=function(){return!(!n.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},e.exports=i},function(e,t,r){var n=r(0);function i(e,t){this.queue=e,this.options=t,this.transforms=[],this.diagnostic={}}i.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=n.merge(t,e),this},i.prototype.addTransform=function(e){return n.isFunction(e)&&this.transforms.push(e),this},i.prototype.log=function(e,t){if(t&&n.isFunction(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var r=e.err;this._applyTransforms(e,function(n,i){if(n)return this.queue.removePendingItem(e),t(n,null);this.queue.addItem(i,t,r,e)}.bind(this))},i.prototype._applyTransforms=function(e,t){var r=-1,n=this.transforms.length,i=this.transforms,o=this.options,a=function(e,s){e?t(e,null):++r!==n?i[r](s,o,a):t(null,s)};a(null,e)},e.exports=i},function(e,t,r){var n=r(0),i=r(16),o={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(e,t,r,n,i){this.options=e,this.transport=t,this.url=r,this.truncation=n,this.jsonBackup=i,this.accessToken=e.accessToken,this.transportOptions=s(e,r)}function s(e,t){return i.getTransportFromOptions(e,o,t)}a.prototype.postItem=function(e,t){var r=i.transportOptions(this.transportOptions,"POST"),n=i.buildPayload(this.accessToken,e,this.jsonBackup);this.transport.post(this.accessToken,r,n,t)},a.prototype.buildJsonPayload=function(e,t){var r,o=i.buildPayload(this.accessToken,e,this.jsonBackup);return(r=this.truncation?this.truncation.truncate(o):n.stringify(o)).error?(t&&t(r.error),null):r.value},a.prototype.postJsonPayload=function(e,t){var r=i.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,r,e,t)},a.prototype.configure=function(e){var t=this.oldOptions;return this.options=n.merge(t,e),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},e.exports=a},function(e,t,r){var n=r(0);e.exports={buildPayload:function(e,t,r){if(!n.isType(t.context,"string")){var i=n.stringify(t.context,r);i.error?t.context="Error: could not serialize 'context'":t.context=i.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{access_token:e,data:t}},getTransportFromOptions:function(e,t,r){var n=t.hostname,i=t.protocol,o=t.port,a=t.path,s=t.search,c=e.timeout,u=e.proxy;if(e.endpoint){var l=r.parse(e.endpoint);n=l.hostname,i=l.protocol,o=l.port,a=l.pathname,s=l.search}return{timeout:c,hostname:n,protocol:i,port:o,path:a,search:s,proxy:u}},transportOptions:function(e,t){var r=e.protocol||"https:",n=e.port||("http:"===r?80:"https:"===r?443:void 0),i=e.hostname,o=e.path,a=e.timeout;return e.search&&(o+=e.search),e.proxy&&(o=r+"//"+i+o,i=e.proxy.host||e.proxy.hostname,n=e.proxy.port,r=e.proxy.protocol||r),{timeout:a,protocol:r,hostname:i,path:o,port:n,method:t}},appendPathToPath:function(e,t){var r=/\/$/.test(e),n=/^\//.test(t);return r&&n?t=t.substring(1):r||n||(t="/"+t),e+t}}},function(e,t){!function(e){e.console||(e.console={});for(var t,r,n=e.console,i=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)n[t]||(n[t]={});for(;r=a.pop();)n[r]||(n[r]=i)}("undefined"==typeof window?this:window)},function(e,t,r){var n={ieVersion:function(){if("undefined"!=typeof document){for(var e=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",r[0];);return e>4?e:void 0}}};e.exports=n},function(e,t,r){function n(e,t,r,n){e._rollbarWrappedError&&(n[4]||(n[4]=e._rollbarWrappedError),n[5]||(n[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null);var i=t.handleUncaughtException.apply(t,n);r&&r.apply(e,n),"anonymous"===i&&(t.anonymousErrorsPending+=1)}e.exports={captureUncaughtExceptions:function(e,t,r){if(e){var i;if("function"==typeof t._rollbarOldOnError)i=t._rollbarOldOnError;else if(e.onerror){for(i=e.onerror;i._rollbarOldOnError;)i=i._rollbarOldOnError;t._rollbarOldOnError=i}t.handleAnonymousErrors();var o=function(){var r=Array.prototype.slice.call(arguments,0);n(e,t,i,r)};r&&(o._rollbarOldOnError=i),e.onerror=o}},captureUnhandledRejections:function(e,t,r){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var n=function(e){var r,n,i;try{r=e.reason}catch(e){r=void 0}try{n=e.promise}catch(e){n="[unhandledrejection] error getting `promise` from event"}try{i=e.detail,!r&&i&&(r=i.reason,n=i.promise)}catch(e){}r||(r="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(r,n)};n.belongsToShim=r,e._rollbarURH=n,e.addEventListener("unhandledrejection",n)}}}},function(e,t,r){var n=r(0),i=r(1);function o(e){this.truncation=e}function a(){var e="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,t=e&&e.Zone&&e.Zone.current,r=Array.prototype.slice.call(arguments);t&&"angular"===t._name?t._parent.run((function(){s.apply(void 0,r)})):s.apply(void 0,r)}function s(e,t,r,o,a,s,u){if("undefined"!=typeof RollbarProxy)return function(e,t){(new RollbarProxy).sendJsonPayload(e,(function(e){}),(function(e){t(new Error(e))}))}(o,a);var l;if(!(l=s?s():function(){var e,t,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(t=0;t<n;t++)try{e=r[t]();break}catch(e){}return e}()))return a(new Error("No way to send a request"));try{try{var d=function(){try{if(d&&4===l.readyState){d=void 0;var e=n.jsonParse(l.responseText);if((o=l)&&o.status&&200===o.status)return void a(e.error,e.value);if(function(e){return e&&n.isType(e.status,"number")&&e.status>=400&&e.status<600}(l)){if(403===l.status){var t=e.value&&e.value.message;i.error(t)}a(new Error(String(l.status)))}else a(c("XHR response had no status code (likely connection failure)"))}}catch(e){var r;r=e&&e.stack?e:new Error(e),a(r)}var o};l.open(r,t,!0),l.setRequestHeader&&(l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("X-Rollbar-Access-Token",e)),n.isFiniteNumber(u)&&(l.timeout=u),l.onreadystatechange=d,l.send(o)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return a(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var f=new XDomainRequest;f.onprogress=function(){},f.ontimeout=function(){a(c("Request timed out","ETIMEDOUT"))},f.onerror=function(){a(new Error("Error during request"))},f.onload=function(){var e=n.jsonParse(f.responseText);a(e.error,e.value)},f.open(r,t,!0),f.send(o)}else a(new Error("Cannot find a method to transport a request"))}}catch(e){a(e)}}function c(e,t){var r=new Error(e);return r.code=t||"ENOTFOUND",r}o.prototype.get=function(e,t,r,i,o){i&&n.isFunction(i)||(i=function(){}),n.addParamsAndAccessTokenToPath(e,t,r),a(e,n.formatUrl(t),"GET",null,i,o,t.timeout)},o.prototype.post=function(e,t,r,i,o){if(i&&n.isFunction(i)||(i=function(){}),!r)return i(new Error("Cannot send empty request"));var s;if((s=this.truncation?this.truncation.truncate(r):n.stringify(r)).error)return i(s.error);var c=s.value;a(e,n.formatUrl(t),"POST",c,i,o,t.timeout)},o.prototype.postJsonPayload=function(e,t,r,i,o){i&&n.isFunction(i)||(i=function(){}),a(e,n.formatUrl(t),"POST",r,i,o,t.timeout)},e.exports=o},function(e,t,r){var n=r(0),i=r(3),o=r(1);function a(e,t,r){var i=e.message,o=e.custom;i||(i="Item sent with null or missing arguments.");var a={body:i};o&&(a.extra=n.merge(o)),n.set(e,"data.body",{message:a}),r(null,e)}function s(e){var t=e.stackInfo.stack;return t&&0===t.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(t=e._unhandledStackInfo.stack),t}function c(e,t,r){var o=e&&e.data.description,a=e&&e.custom,c=s(e),l=i.guessErrorClass(t.message),d={exception:{class:u(t,l[0],r),message:l[1]}};if(o&&(d.exception.description=o),c){var f,h,p,m,g,b,y,_;for(0===c.length&&(d.exception.stack=t.rawStack,d.exception.raw=String(t.rawException)),d.frames=[],y=0;y<c.length;++y)h={filename:(f=c[y]).url?n.sanitizeUrl(f.url):"(unknown)",lineno:f.line||null,method:f.func&&"?"!==f.func?f.func:"[anonymous]",colno:f.column},r.sendFrameUrl&&(h.url=f.url),h.method&&h.method.endsWith&&h.method.endsWith("_rollbar_wrapped")||(p=m=g=null,(b=f.context?f.context.length:0)&&(_=Math.floor(b/2),m=f.context.slice(0,_),p=f.context[_],g=f.context.slice(_)),p&&(h.code=p),(m||g)&&(h.context={},m&&m.length&&(h.context.pre=m),g&&g.length&&(h.context.post=g)),f.args&&(h.args=f.args),d.frames.push(h));d.frames.reverse(),a&&(d.extra=n.merge(a))}return d}function u(e,t,r){return e.name?e.name:r.guessErrorClass?t:"(unknown)"}e.exports={handleDomException:function(e,t,r){if(e.err&&"DOMException"===i.Stack(e.err).name){var n=new Error;n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack,n.nested=e.err,e.err=n}r(null,e)},handleItemWithError:function(e,t,r){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||i.parse(e.err,e.skipFrames),t.addErrorContext&&function(e){var t=[],r=e.err;for(t.push(r);r.nested;)r=r.nested,t.push(r);n.addErrorContext(e,t)}(e)}catch(t){o.error("Error while parsing the error object.",t);try{e.message=e.err.message||e.err.description||e.message||String(e.err)}catch(t){e.message=String(e.err)||String(t)}delete e.err}r(null,e)},ensureItemHasSomethingToSay:function(e,t,r){e.message||e.stackInfo||e.custom||r(new Error("No message, stack info, or custom data"),null),r(null,e)},addBaseInfo:function(e,t,r){var i=t.payload&&t.payload.environment||t.environment;e.data=n.merge(e.data,{environment:i,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version},custom:e.custom}),r(null,e)},addRequestInfo:function(e){return function(t,r,i){if(!e||!e.location)return i(null,t);var o="$remote_ip";r.captureIp?!0!==r.captureIp&&(o+="_anonymize"):o=null,n.set(t,"data.request",{url:e.location.href,query_string:e.location.search,user_ip:o}),i(null,t)}},addClientInfo:function(e){return function(t,r,i){if(!e)return i(null,t);var o=e.navigator||{},a=e.screen||{};n.set(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:o.userAgent,language:o.language,cookie_enabled:o.cookieEnabled,screen:{width:a.width,height:a.height}}}),i(null,t)}},addPluginInfo:function(e){return function(t,r,i){if(!e||!e.navigator)return i(null,t);for(var o,a=[],s=e.navigator.plugins||[],c=0,u=s.length;c<u;++c)o=s[c],a.push({name:o.name,description:o.description});n.set(t,"data.client.javascript.plugins",a),i(null,t)}},addBody:function(e,t,r){e.stackInfo?e.stackInfo.traceChain?function(e,t,r){for(var i=e.stackInfo.traceChain,o=[],a=i.length,s=0;s<a;s++){var u=c(e,i[s],t);o.push(u)}n.set(e,"data.body",{trace_chain:o}),r(null,e)}(e,t,r):function(e,t,r){if(s(e)){var o=c(e,e.stackInfo,t);n.set(e,"data.body",{trace:o}),r(null,e)}else{var l=e.stackInfo,d=i.guessErrorClass(l.message),f=u(l,d[0],t),h=d[1];e.message=f+": "+h,a(e,t,r)}}(e,t,r):a(e,t,r)},addScrubber:function(e){return function(t,r,n){if(e){var i=r.scrubFields||[],o=r.scrubPaths||[];t.data=e(t.data,i,o)}n(null,t)}}}},function(e,t,r){var n,i,o;i=[r(23)],void 0===(o="function"==typeof(n=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=r.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(r=n?r.replace(n[0],""):r).split(/\s+/).slice(1),o=this.extractLocation(n?n[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(r=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=r.concat(n,i,["args"],["evalOrigin"]);function a(t){if(t)for(var r=0;r<o.length;r++)void 0!==t[o[r]]&&this["set"+e(o[r])](t[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},a.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),i=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),c=s[1],u=s[2],l=s[3];return new a({functionName:n,args:i||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+e(r[s])]=t(r[s]),a.prototype["set"+e(r[s])]=function(e){return function(t){this[e]=Boolean(t)}}(r[s]);for(var c=0;c<n.length;c++)a.prototype["get"+e(n[c])]=t(n[c]),a.prototype["set"+e(n[c])]=function(e){return function(t){if(r=t,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(e+" must be a Number");var r;this[e]=Number(t)}}(n[c]);for(var u=0;u<i.length;u++)a.prototype["get"+e(i[u])]=t(i[u]),a.prototype["set"+e(i[u])]=function(e){return function(t){this[e]=String(t)}}(i[u]);return a})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){var n=r(0);function i(e,t){n.isFunction(e[t])&&(e[t]=e[t].toString())}e.exports={itemToPayload:function(e,t,r){var i=t.payload||{};i.body&&delete i.body;var o=n.merge(e.data,i);e._isUncaught&&(o._isUncaught=!0),e._originalArgs&&(o._originalArgs=e._originalArgs),r(null,o)},addTelemetryData:function(e,t,r){e.telemetryEvents&&n.set(e,"data.body.telemetry",e.telemetryEvents),r(null,e)},addMessageWithError:function(e,t,r){if(e.message){var i="data.body.trace_chain.0",o=n.get(e,i);if(o||(i="data.body.trace",o=n.get(e,i)),o){if(!o.exception||!o.exception.description)return n.set(e,i+".exception.description",e.message),void r(null,e);var a=n.get(e,i+".extra")||{},s=n.merge(a,{message:e.message});n.set(e,i+".extra",s)}r(null,e)}else r(null,e)},userTransform:function(e){return function(t,r,i){var o=n.merge(t),a=null;try{n.isFunction(r.transform)&&(a=r.transform(o.data,t))}catch(n){return r.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",n),void i(null,t)}n.isPromise(a)?a.then((function(e){e&&(o.data=e),i(null,o)}),(function(e){i(e,t)})):i(null,o)}},addConfigToPayload:function(e,t,r){if(!t.sendConfig)return r(null,e);var i=n.get(e,"data.custom")||{};i._rollbarConfig=t,e.data.custom=i,r(null,e)},addConfiguredOptions:function(e,t,r){var n=t._configuredOptions;i(n,"transform"),i(n,"checkIgnore"),i(n,"onSendCallback"),delete n.accessToken,e.data.notifier.configured_options=n,r(null,e)},addDiagnosticKeys:function(e,t,r){var i=n.merge(e.notifier.client.notifier.diagnostic,e.diagnostic);if(n.get(e,"err._isAnonymous")&&(i.is_anonymous=!0),e._isUncaught&&(i.is_uncaught=e._isUncaught),e.err)try{i.raw_error={message:e.err.message,name:e.err.name,constructor_name:e.err.constructor&&e.err.constructor.name,filename:e.err.fileName,line:e.err.lineNumber,column:e.err.columnNumber,stack:e.err.stack}}catch(e){i.raw_error={failed:String(e)}}e.data.notifier.diagnostic=n.merge(e.data.notifier.diagnostic,i),r(null,e)}}},function(e,t,r){var n=r(0);e.exports={checkIgnore:function(e,t){return!n.get(t,"plugins.jquery.ignoreAjaxErrors")||!n.get(e,"body.message.extra.isAjax")}}},function(e,t,r){var n=r(0);function i(e,t,r){if(!e)return!r;var i,o,a=e.frames;if(!a||0===a.length)return!r;for(var s=t.length,c=a.length,u=0;u<c;u++){if(i=a[u].filename,!n.isType(i,"string"))return!r;for(var l=0;l<s;l++)if(o=t[l],new RegExp(o).test(i))return!0}return!1}function o(e,t,r,o){var a,s,c=!1;"blocklist"===r&&(c=!0);try{if(a=c?t.hostBlockList:t.hostSafeList,s=n.get(e,"body.trace_chain")||[n.get(e,"body.trace")],!a||0===a.length)return!c;if(0===s.length||!s[0])return!c;for(var u=s.length,l=0;l<u;l++)if(i(s[l],a,c))return!0}catch(e){c?t.hostBlockList=null:t.hostSafeList=null;var d=c?"hostBlockList":"hostSafeList";return o.error("Error while reading your configuration's "+d+" option. Removing custom "+d+".",e),!c}return!1}e.exports={checkLevel:function(e,t){var r=e.level,i=n.LEVELS[r]||0,o=t.reportLevel;return!(i<(n.LEVELS[o]||0))},userCheckIgnore:function(e){return function(t,r){var i=!!t._isUncaught;delete t._isUncaught;var o=t._originalArgs;delete t._originalArgs;try{n.isFunction(r.onSendCallback)&&r.onSendCallback(i,o,t)}catch(t){r.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(n.isFunction(r.checkIgnore)&&r.checkIgnore(i,o,t))return!1}catch(t){r.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}},urlIsNotBlockListed:function(e){return function(t,r){return!o(t,r,"blocklist",e)}},urlIsSafeListed:function(e){return function(t,r){return o(t,r,"safelist",e)}},messageIsIgnored:function(e){return function(t,r){var i,o,a,s,c,u;try{if(!(a=r.ignoredMessages)||0===a.length)return!0;if(0===(u=function(e){var t=e.body,r=[];if(t.trace_chain)for(var i=t.trace_chain,o=0;o<i.length;o++){var a=i[o];r.push(n.get(a,"exception.message"))}return t.trace&&r.push(n.get(t,"trace.exception.message")),t.message&&r.push(n.get(t,"message.body")),r}(t)).length)return!0;for(s=a.length,i=0;i<s;i++)for(c=new RegExp(a[i],"gi"),o=0;o<u.length;o++)if(c.test(u[o]))return!1}catch(t){r.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},function(e,t,r){e.exports={version:"2.24.0",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(e,t,r){e.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(e,t,r){var n=r(0);function i(e){this.queue=[],this.options=n.merge(e);var t=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(t,100))}function o(e,t){return t||{error:"error",manual:"info"}[e]||"info"}i.prototype.configure=function(e){var t=this.options;this.options=n.merge(t,e);var r=this.options.maxTelemetryEvents||100,i=Math.max(0,Math.min(r,100)),o=0;this.maxQueueSize>i&&(o=this.maxQueueSize-i),this.maxQueueSize=i,this.queue.splice(0,o)},i.prototype.copyEvents=function(){var e=Array.prototype.slice.call(this.queue,0);if(n.isFunction(this.options.filterTelemetry))try{for(var t=e.length;t--;)this.options.filterTelemetry(e[t])&&e.splice(t,1)}catch(e){this.options.filterTelemetry=null}return e},i.prototype.capture=function(e,t,r,i,a){var s={level:o(e,r),type:e,timestamp_ms:a||n.now(),body:t,source:"client"};i&&(s.uuid=i);try{if(n.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(s))return!1}catch(e){this.options.filterTelemetry=null}return this.push(s),s},i.prototype.captureEvent=function(e,t,r,n){return this.capture(e,t,r,n)},i.prototype.captureError=function(e,t,r,n){var i={message:e.message||String(e)};return e.stack&&(i.stack=e.stack),this.capture("error",i,t,r,n)},i.prototype.captureLog=function(e,t,r,n){return this.capture("log",{message:e},t,r,n)},i.prototype.captureNetwork=function(e,t,r,n){t=t||"xhr",e.subtype=e.subtype||t,n&&(e.request=n);var i=this.levelFromStatus(e.status_code);return this.capture("network",e,i,r)},i.prototype.levelFromStatus=function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"},i.prototype.captureDom=function(e,t,r,n,i){var o={subtype:e,element:t};return void 0!==r&&(o.value=r),void 0!==n&&(o.checked=n),this.capture("dom",o,"info",i)},i.prototype.captureNavigation=function(e,t,r){return this.capture("navigation",{from:e,to:t},"info",r)},i.prototype.captureDomContentLoaded=function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())},i.prototype.captureLoad=function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())},i.prototype.captureConnectivityChange=function(e,t){return this.captureNetwork({change:e},"connectivity",t)},i.prototype._captureRollbarItem=function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0},i.prototype.push=function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()},e.exports=i},function(e,t,r){var n=r(0),i=r(4),o=r(2),a=r(31),s={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function c(e,t,r,n,i){var o=e[t];e[t]=r(o),n&&n[i].push([e,t,o])}function u(e,t){for(var r;e[t].length;)(r=e[t].shift())[0][r[1]]=r[2]}function l(e,t,r,i,o){this.options=e;var a=e.autoInstrument;!1===e.enabled||!1===a?this.autoInstrument={}:(n.isType(a,"object")||(a=s),this.autoInstrument=n.merge(s,a)),this.scrubTelemetryInputs=!!e.scrubTelemetryInputs,this.telemetryScrubber=e.telemetryScrubber,this.defaultValueScrubber=function(e){for(var t=[],r=0;r<e.length;++r)t.push(new RegExp(e[r],"i"));return function(e){var r=function(e){if(!e||!e.attributes)return null;for(var t=e.attributes,r=0;r<t.length;++r)if("name"===t[r].key)return t[r].value;return null}(e);if(!r)return!1;for(var n=0;n<t.length;++n)if(t[n].test(r))return!0;return!1}}(e.scrubFields),this.telemeter=t,this.rollbar=r,this.diagnostic=r.client.notifier.diagnostic,this._window=i||{},this._document=o||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}l.prototype.configure=function(e){this.options=n.merge(this.options,e);var t=e.autoInstrument,r=n.merge(this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(n.isType(t,"object")||(t=s),this.autoInstrument=n.merge(s,t)),this.instrument(r),void 0!==e.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!e.scrubTelemetryInputs),void 0!==e.telemetryScrubber&&(this.telemetryScrubber=e.telemetryScrubber)},l.prototype.instrument=function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||e&&e.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&e&&e.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},l.prototype.deinstrumentNetwork=function(){u(this.replacements,"network")},l.prototype.instrumentNetwork=function(){var e=this;function t(t,r){t in r&&n.isFunction(r[t])&&c(r,t,(function(t){return e.rollbar.wrap(t)}))}if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;c(r,"open",(function(e){return function(t,r){return n.isType(r,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=t,this.__rollbar_xhr.url=r,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=n.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:t,url:r,status_code:null,start_time_ms:n.now(),end_time_ms:null}),e.apply(this,arguments)}}),this.replacements,"network"),c(r,"setRequestHeader",(function(t){return function(r,i){return this.__rollbar_xhr||(this.__rollbar_xhr={}),n.isType(r,"string")&&n.isType(i,"string")&&(e.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[r]=i),"content-type"===r.toLowerCase()&&(this.__rollbar_xhr.request_content_type=i)),t.apply(this,arguments)}}),this.replacements,"network"),c(r,"send",(function(r){return function(i){var o=this;function a(){if(o.__rollbar_xhr&&(null===o.__rollbar_xhr.status_code&&(o.__rollbar_xhr.status_code=0,e.autoInstrument.networkRequestBody&&(o.__rollbar_xhr.request=i),o.__rollbar_event=e.captureNetwork(o.__rollbar_xhr,"xhr",void 0)),o.readyState<2&&(o.__rollbar_xhr.start_time_ms=n.now()),o.readyState>3)){o.__rollbar_xhr.end_time_ms=n.now();var t=null;if(o.__rollbar_xhr.response_content_type=o.getResponseHeader("Content-Type"),e.autoInstrument.networkResponseHeaders){var r=e.autoInstrument.networkResponseHeaders;t={};try{var a,s;if(!0===r){var c=o.getAllResponseHeaders();if(c){var u,l,d=c.trim().split(/[\r\n]+/);for(s=0;s<d.length;s++)a=(u=d[s].split(": ")).shift(),l=u.join(": "),t[a]=l}}else for(s=0;s<r.length;s++)t[a=r[s]]=o.getResponseHeader(a)}catch(e){}}var f=null;if(e.autoInstrument.networkResponseBody)try{f=o.responseText}catch(e){}var h=null;(f||t)&&(h={},f&&(e.isJsonContentType(o.__rollbar_xhr.response_content_type)?h.body=e.scrubJson(f):h.body=f),t&&(h.headers=t)),h&&(o.__rollbar_xhr.response=h);try{var p=o.status;p=1223===p?204:p,o.__rollbar_xhr.status_code=p,o.__rollbar_event.level=e.telemeter.levelFromStatus(p),e.errorOnHttpStatus(o.__rollbar_xhr)}catch(e){}}}return t("onload",o),t("onerror",o),t("onprogress",o),"onreadystatechange"in o&&n.isFunction(o.onreadystatechange)?c(o,"onreadystatechange",(function(t){return e.rollbar.wrap(t,void 0,a)})):o.onreadystatechange=a,o.__rollbar_xhr&&e.trackHttpErrors()&&(o.__rollbar_xhr.stack=(new Error).stack),r.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&c(this._window,"fetch",(function(t){return function(r,i){for(var o=new Array(arguments.length),a=0,s=o.length;a<s;a++)o[a]=arguments[a];var c,u=o[0],l="GET";n.isType(u,"string")?c=u:u&&(c=u.url,u.method&&(l=u.method)),o[1]&&o[1].method&&(l=o[1].method);var d={method:l,url:c,status_code:null,start_time_ms:n.now(),end_time_ms:null};if(o[1]&&o[1].headers){var f=new Headers(o[1].headers);d.request_content_type=f.get("Content-Type"),e.autoInstrument.networkRequestHeaders&&(d.request_headers=e.fetchHeaders(f,e.autoInstrument.networkRequestHeaders))}return e.autoInstrument.networkRequestBody&&(o[1]&&o[1].body?d.request=o[1].body:o[0]&&!n.isType(o[0],"string")&&o[0].body&&(d.request=o[0].body)),e.captureNetwork(d,"fetch",void 0),e.trackHttpErrors()&&(d.stack=(new Error).stack),t.apply(this,o).then((function(t){d.end_time_ms=n.now(),d.status_code=t.status,d.response_content_type=t.headers.get("Content-Type");var r=null;e.autoInstrument.networkResponseHeaders&&(r=e.fetchHeaders(t.headers,e.autoInstrument.networkResponseHeaders));var i=null;return e.autoInstrument.networkResponseBody&&"function"==typeof t.text&&(i=t.clone().text()),(r||i)&&(d.response={},i&&("function"==typeof i.then?i.then((function(t){e.isJsonContentType(d.response_content_type)&&(d.response.body=e.scrubJson(t))})):d.response.body=i),r&&(d.response.headers=r)),e.errorOnHttpStatus(d),t}))}}),this.replacements,"network")},l.prototype.captureNetwork=function(e,t,r){return e.request&&this.isJsonContentType(e.request_content_type)&&(e.request=this.scrubJson(e.request)),this.telemeter.captureNetwork(e,t,r)},l.prototype.isJsonContentType=function(e){return!!(e&&n.isType(e,"string")&&e.toLowerCase().includes("json"))},l.prototype.scrubJson=function(e){return JSON.stringify(i(JSON.parse(e),this.options.scrubFields))},l.prototype.fetchHeaders=function(e,t){var r={};try{var n;if(!0===t){if("function"==typeof e.entries)for(var i=e.entries(),o=i.next();!o.done;)r[o.value[0]]=o.value[1],o=i.next()}else for(n=0;n<t.length;n++){var a=t[n];r[a]=e.get(a)}}catch(e){}return r},l.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},l.prototype.errorOnHttpStatus=function(e){var t=e.status_code;if(t>=500&&this.autoInstrument.networkErrorOnHttp5xx||t>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===t&&this.autoInstrument.networkErrorOnHttp0){var r=new Error("HTTP request failed with Status "+t);r.stack=e.stack,this.rollbar.error(r,{skipFrames:1})}},l.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]},l.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var e=this,t=this._window.console,r=["debug","info","warn","error","log"];try{for(var i=0,o=r.length;i<o;i++)a(r[i])}catch(e){this.diagnostic.instrumentConsole={error:e.message}}}function a(r){var i=t[r],o=t,a="warn"===r?"warning":r;t[r]=function(){var t=Array.prototype.slice.call(arguments),r=n.formatArgsAsString(t);e.telemeter.captureLog(r,a),i&&Function.prototype.apply.call(i,o,t)},e.replacements.log.push([r,i])}},l.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},l.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var e=this.handleClick.bind(this),t=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",e,!0),this.addListener("dom",this._window,"blur","onfocusout",t,!0)}},l.prototype.handleClick=function(e){try{var t=a.getElementFromEvent(e,this._document),r=t&&t.tagName,n=a.isDescribedElement(t,"a")||a.isDescribedElement(t,"button");r&&(n||a.isDescribedElement(t,"input",["button","submit"]))?this.captureDomEvent("click",t):a.isDescribedElement(t,"input",["checkbox","radio"])&&this.captureDomEvent("input",t,t.value,t.checked)}catch(e){}},l.prototype.handleBlur=function(e){try{var t=a.getElementFromEvent(e,this._document);t&&t.tagName&&(a.isDescribedElement(t,"textarea")?this.captureDomEvent("input",t,t.value):a.isDescribedElement(t,"select")&&t.options&&t.options.length?this.handleSelectInputChanged(t):a.isDescribedElement(t,"input")&&!a.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",t,t.value))}catch(e){}},l.prototype.handleSelectInputChanged=function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.captureDomEvent("input",e,e.options[t].value);else e.selectedIndex>=0&&e.options[e.selectedIndex]&&this.captureDomEvent("input",e,e.options[e.selectedIndex].value)},l.prototype.captureDomEvent=function(e,t,r,n){if(void 0!==r)if(this.scrubTelemetryInputs||"password"===a.getElementType(t))r="[scrubbed]";else{var i=a.describeElement(t);this.telemetryScrubber?this.telemetryScrubber(i)&&(r="[scrubbed]"):this.defaultValueScrubber(i)&&(r="[scrubbed]")}var o=a.elementArrayToString(a.treeToArray(t));this.telemeter.captureDom(e,o,r,n)},l.prototype.deinstrumentNavigation=function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&u(this.replacements,"navigation")},l.prototype.instrumentNavigation=function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;c(this._window,"onpopstate",(function(e){return function(){var r=t._location.href;t.handleUrlChange(t._lastHref,r),e&&e.apply(this,arguments)}}),this.replacements,"navigation"),c(this._window.history,"pushState",(function(e){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&t.handleUrlChange(t._lastHref,r+""),e.apply(this,arguments)}}),this.replacements,"navigation")}},l.prototype.handleUrlChange=function(e,t){var r=o.parse(this._location.href),n=o.parse(t),i=o.parse(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.path+(n.hash||"")),r.protocol===i.protocol&&r.host===i.host&&(e=i.path+(i.hash||"")),this.telemeter.captureNavigation(e,t)},l.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):u(this.replacements,"connectivity"))},l.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var e=this;c(this._document.body,"ononline",(function(t){return function(){e.telemeter.captureConnectivityChange("online"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity"),c(this._document.body,"onoffline",(function(t){return function(){e.telemeter.captureConnectivityChange("offline"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity")}},l.prototype.handleCspEvent=function(e){var t="Security Policy Violation: blockedURI: "+e.blockedURI+", violatedDirective: "+e.violatedDirective+", effectiveDirective: "+e.effectiveDirective+", ";e.sourceFile&&(t+="location: "+e.sourceFile+", line: "+e.lineNumber+", col: "+e.columnNumber+", "),t+="originalPolicy: "+e.originalPolicy,this.telemeter.captureLog(t,"error"),this.handleCspError(t)},l.prototype.handleCspError=function(e){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(e)},l.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._window&&this.removeListeners("contentsecuritypolicy")},l.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._window){var e=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._window,"securitypolicyviolation",null,e,!1)}},l.prototype.addListener=function(e,t,r,n,i,o){t.addEventListener?(t.addEventListener(r,i,o),this.eventRemovers[e].push((function(){t.removeEventListener(r,i,o)}))):n&&(t.attachEvent(n,i),this.eventRemovers[e].push((function(){t.detachEvent(n,i)})))},l.prototype.removeListeners=function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()},e.exports=l},function(e,t,r){function n(e){return(e.getAttribute("type")||"").toLowerCase()}function i(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var r=0;r<e.attributes.length;r++)t.push("["+e.attributes[r].key+'="'+e.attributes[r].value+'"]');return t.join("")}function o(e){if(!e||!e.tagName)return null;var t,r,n,i,o={};o.tagName=e.tagName.toLowerCase(),e.id&&(o.id=e.id),(t=e.className)&&"string"==typeof t&&(o.classes=t.split(/\s+/));var a=["type","name","title","alt"];for(o.attributes=[],i=0;i<a.length;i++)r=a[i],(n=e.getAttribute(r))&&o.attributes.push({key:r,value:n});return o}e.exports={describeElement:o,descriptionToString:i,elementArrayToString:function(e){for(var t,r,n=" > ".length,o=[],a=0,s=e.length-1;s>=0;s--){if(t=i(e[s]),r=a+o.length*n+t.length,s<e.length-1&&r>=83){o.unshift("...");break}o.unshift(t),a+=t.length}return o.join(" > ")},treeToArray:function(e){for(var t,r=[],n=0;e&&n<5&&"html"!==(t=o(e)).tagName;n++)r.unshift(t),e=e.parentNode;return r},getElementFromEvent:function(e,t){return e.target?e.target:t&&t.elementFromPoint?t.elementFromPoint(e.clientX,e.clientY):void 0},isDescribedElement:function(e,t,r){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!r)return!0;e=n(e);for(var i=0;i<r.length;i++)if(r[i]===e)return!0;return!1},getElementType:n}},function(e,t,r){var n=r(33);e.exports=n},function(e,t){e.exports=function(e){var t,r,n,i,o,a,s,c,u,l,d,f,h,p=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function m(e){return e<10?"0"+e:e}function g(){return this.valueOf()}function b(e){return p.lastIndex=0,p.test(e)?'"'+e.replace(p,(function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=g,Number.prototype.toJSON=g,String.prototype.toJSON=g),"function"!=typeof e.stringify&&(n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(e,n,o){var a;if(t="",r="","number"==typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"==typeof o&&(r=o);if(i=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return function e(n,o){var a,s,c,u,l,d=t,f=o[n];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(n)),"function"==typeof i&&(f=i.call(o,n,f)),typeof f){case"string":return b(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(t+=r,l=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,a=0;a<u;a+=1)l[a]=e(a,f)||"null";return c=0===l.length?"[]":t?"[\n"+t+l.join(",\n"+t)+"\n"+d+"]":"["+l.join(",")+"]",t=d,c}if(i&&"object"==typeof i)for(u=i.length,a=0;a<u;a+=1)"string"==typeof i[a]&&(c=e(s=i[a],f))&&l.push(b(s)+(t?": ":":")+c);else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(c=e(s,f))&&l.push(b(s)+(t?": ":":")+c);return c=0===l.length?"{}":t?"{\n"+t+l.join(",\n"+t)+"\n"+d+"}":"{"+l.join(",")+"}",t=d,c}}("",{"":e})}),"function"!=typeof e.parse&&(e.parse=(l={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},d={go:function(){o="ok"},firstokey:function(){c=u,o="colon"},okey:function(){c=u,o="colon"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},f={go:function(){o="ok"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},h={"{":{go:function(){a.push({state:"ok"}),s={},o="firstokey"},ovalue:function(){a.push({container:s,state:"ocomma",key:c}),s={},o="firstokey"},firstavalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"},avalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"}},"}":{firstokey:function(){var e=a.pop();u=s,s=e.container,c=e.key,o=e.state},ocomma:function(){var e=a.pop();s[c]=u,u=s,s=e.container,c=e.key,o=e.state}},"[":{go:function(){a.push({state:"ok"}),s=[],o="firstavalue"},ovalue:function(){a.push({container:s,state:"ocomma",key:c}),s=[],o="firstavalue"},firstavalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"},avalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"}},"]":{firstavalue:function(){var e=a.pop();u=s,s=e.container,c=e.key,o=e.state},acomma:function(){var e=a.pop();s.push(u),u=s,s=e.container,c=e.key,o=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,c))throw new SyntaxError("Duplicate key '"+c+'"');o="ovalue"}},",":{ocomma:function(){s[c]=u,o="okey"},acomma:function(){s.push(u),o="avalue"}},true:{go:function(){u=!0,o="ok"},ovalue:function(){u=!0,o="ocomma"},firstavalue:function(){u=!0,o="acomma"},avalue:function(){u=!0,o="acomma"}},false:{go:function(){u=!1,o="ok"},ovalue:function(){u=!1,o="ocomma"},firstavalue:function(){u=!1,o="acomma"},avalue:function(){u=!1,o="acomma"}},null:{go:function(){u=null,o="ok"},ovalue:function(){u=null,o="ocomma"},firstavalue:function(){u=null,o="acomma"},avalue:function(){u=null,o="acomma"}}},function(e,t){var r,n,i=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;o="go",a=[];try{for(;r=i.exec(e);)r[1]?h[r[1]][o]():r[2]?(u=+r[2],f[o]()):(n=r[3],u=n.replace(/\\(?:u(.{4})|([^u]))/g,(function(e,t,r){return t?String.fromCharCode(parseInt(t,16)):l[r]})),d[o]()),e=e.slice(r[0].length)}catch(e){o=e}if("ok"!==o||/[^\u0020\t\n\r]/.test(e))throw o instanceof SyntaxError?o:new SyntaxError("JSON");return"function"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in u)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({"":u},""):u}))}},function(e,t,r){function n(e,t,r){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){for(var n=t.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var i=function(t,r,i){n.call(this,t,e.wrap(r),i)};i._rollbarOldAdd=n,i.belongsToShim=r,t.addEventListener=i;for(var o=t.removeEventListener;o._rollbarOldRemove&&o.belongsToShim;)o=o._rollbarOldRemove;var a=function(e,t,r){o.call(this,e,t&&t._rollbar_wrapped||t,r)};a._rollbarOldRemove=o,a.belongsToShim=r,t.removeEventListener=a}}e.exports=function(e,t,r){if(e){var i,o,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(i=0;i<a.length;++i)e[o=a[i]]&&e[o].prototype&&n(t,e[o].prototype,r)}}},function(e,t,r){var n=r(0),i=r(5);function o(e,t){return[e,n.stringify(e,t)]}function a(e,t){var r=e.length;return r>2*t?e.slice(0,t).concat(e.slice(r-t)):e}function s(e,t,r){r=void 0===r?30:r;var i,o=e.data.body;if(o.trace_chain)for(var s=o.trace_chain,c=0;c<s.length;c++)i=a(i=s[c].frames,r),s[c].frames=i;else o.trace&&(i=a(i=o.trace.frames,r),o.trace.frames=i);return[e,n.stringify(e,t)]}function c(e,t){return t&&t.length>e?t.slice(0,e-3).concat("..."):t}function u(e,t,r){return[t=i(t,(function t(r,o,a){switch(n.typeName(o)){case"string":return c(e,o);case"object":case"array":return i(o,t,a);default:return o}})),n.stringify(t,r)]}function l(e){return e.exception&&(delete e.exception.description,e.exception.message=c(255,e.exception.message)),e.frames=a(e.frames,1),e}function d(e,t){var r=e.data.body;if(r.trace_chain)for(var i=r.trace_chain,o=0;o<i.length;o++)i[o]=l(i[o]);else r.trace&&(r.trace=l(r.trace));return[e,n.stringify(e,t)]}function f(e,t){return n.maxByteSize(e)>t}e.exports={truncate:function(e,t,r){r=void 0===r?524288:r;for(var n,i,a,c=[o,s,u.bind(null,1024),u.bind(null,512),u.bind(null,256),d];n=c.shift();)if(e=(i=n(e,t))[0],(a=i[1]).error||!f(a.value,r))return a;return a},raw:o,truncateFrames:s,truncateStrings:u,maybeTruncateValue:c}}])})),Rollbar=getDefaultExportFromCjs$1(rollbar_umd_min),TxnResponse;class WalletAdapter extends eventemitter3{constructor(e,t){if(super(),this._network=t,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=e=>{if(this._injectedProvider&&e.source===window||e.origin===this._providerUrl?.origin&&e.source===this._popup)if("connected"===e.data.method){const t=new PublicKey(e.data.params.publicKey);this._publicKey&&this._publicKey.equals(t)||(this._publicKey&&!this._publicKey.equals(t)&&this.handleDisconnect(),this._publicKey=t,this._autoApprove=!!e.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===e.data.method)this.handleDisconnect();else if(e.data.result||e.data.error){const t=this._responsePromises.get(e.data.id);if(t){const[r,n]=t;e.data.result?r(e.data.result):n(new Error(e.data.error))}}},this._beforeUnload=()=>{this.disconnect()},isInjectedProvider(e))this._injectedProvider=e;else{if(!isString(e))throw new Error("provider parameter must be an injected provider or a URL string.");this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString()}}handleConnect(){return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise((e=>{this.sendRequest("connect",{}),e()})):(window.name="parent",this._popup=window.open(this._providerUrl?.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((e=>{this.once("connect",e)})))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach((([,e],t)=>{this._responsePromises.delete(t),e(new Error("Wallet disconnected"))}))}async sendRequest(e,t){if("connect"!==e&&!this.connected)throw new Error("Wallet not connected");const r=this._nextRequestId;return++this._nextRequestId,new Promise(((n,i)=>{this._responsePromises.set(r,[n,i]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:r,method:e,params:{network:this._network,...t}}):(this._popup?.postMessage({jsonrpc:"2.0",id:r,method:e,params:t},this._providerUrl?.origin??""),this.autoApprove||this._popup?.focus())}))}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}async connect(){this._popup&&this._popup.close(),await this.handleConnect()}async disconnect(){this._injectedProvider&&await this.sendRequest("disconnect",{}),this._popup&&this._popup.close(),this.handleDisconnect()}async sign(e,t){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const r=await this.sendRequest("sign",{data:e,display:t});return{signature:bs58.decode(r.signature),publicKey:new PublicKey(r.publicKey)}}async signTransaction(e){const t=await this.sendRequest("signTransaction",{message:bs58.encode(e.serializeMessage())}),r=bs58.decode(t.signature),n=new PublicKey(t.publicKey);return e.addSignature(n,r),e}async signAllTransactions(e){const t=await this.sendRequest("signAllTransactions",{messages:e.map((e=>bs58.encode(e.serializeMessage())))}),r=t.signatures.map((e=>bs58.decode(e))),n=new PublicKey(t.publicKey);return e=e.map(((e,t)=>(e.addSignature(n,r[t]),e)))}}function isString(e){return"string"==typeof e}function isInjectedProvider(e){return isObject(e)&&"postMessage"in e&&"function"==typeof e.postMessage}function isObject(e){return"object"==typeof e&&null!==e}!function(e){e.Success="SUCCESS",e.Failed="FAILED",e.Cancelled="CANCELLED"}(TxnResponse||(TxnResponse={}));const INIT_FAILED=writable(!1),MARKET=writable({marketInit:!1,accountPubkey:{},authorityPubkey:{},minColRatio:1.3,programMinColRatio:1.25,totalValueLocked:0,reserves:{},reservesArray:[],currentReserve:{},nativeValues:!0});let user$4;const USER=writable({locale:null,geobanned:!1,connectingWallet:!0,wallet:null,walletInit:!1,tradeAction:"deposit",assets:null,walletBalances:{},collateralBalances:{},loanBalances:{},position:{depositedValue:0,borrowedValue:0,colRatio:0,utilizationRate:0},transactionLogs:[],transactionLogsInit:!0,notifications:[],addNotification:e=>{const t=user$4.notifications??[];t.push(e);const r=t.indexOf(e);USER.update((e=>(e.notifications=t,e))),setTimeout((()=>{user$4.notifications[r]&&user$4.notifications[r].text===e.text&&user$4.clearNotification(r)}),5e3)},clearNotification:e=>{const t=user$4.notifications;t.splice(e,1),USER.update((e=>(e.notifications=t,e)))},darkTheme:"true"===localStorage.getItem("jetDark"),navExpanded:"true"===localStorage.getItem("jetNavExpanded"),language:localStorage.getItem("jetPreferredLanguage")??"en",rpcNode:localStorage.getItem("jetPreferredNode")??"",rpcPing:0});USER.subscribe((e=>user$4=e));const COPILOT=writable(null),PROGRAM=writable(null),CUSTOM_PROGRAM_ERRORS=writable([]),CONNECTION=writable(void 0),ANCHOR_CODER=writable(void 0),IDL_METADATA=writable(void 0);var readBig=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.readBigUInt64LE=t.readBigInt64LE=void 0;var r=function(e,t,r){return new Error('The value of "'+e+" is out of range. It must be "+t+". Received "+r)};function n(e,t){if("number"!=typeof e)throw function(e,t,r){return new Error('The "'+e+'" argument must be of type '+t+". Received "+r)}(t,"number",e)}function i(e,t){if(Math.floor(e)!==e)throw n(e,"offset"),r("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw r("offset",">= 0 and <= "+t,e)}t.readBigInt64LE=function(e,t){void 0===t&&(t=0),n(t,"offset");var r=e[t],o=e[t+7];void 0!==r&&void 0!==o||i(t,e.length-8);var a=e[t+4]+e[t+5]*Math.pow(2,8)+e[t+6]*Math.pow(2,16)+(o<<24);return(BigInt(a)<<BigInt(32))+BigInt(r+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24))},t.readBigUInt64LE=function(e,t){void 0===t&&(t=0),n(t,"offset");var r=e[t],o=e[t+7];void 0!==r&&void 0!==o||i(t,e.length-8);var a=r+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24),s=e[++t]+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+o*Math.pow(2,24);return BigInt(a)+(BigInt(s)<<BigInt(32))}})),index_1=lib,PythConnection_1=createCommonjsModule((function(e,t){var r=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythConnection=void 0;var i=function(){function e(e,t,r){void 0===r&&(r="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=e,this.pythProgramKey=t,this.commitment=r}return e.prototype.handleProductAccount=function(e,t){var r=index_1.parseProductData(t.data),n=r.priceAccountKey;r.type;var i=r.product;this.productAccountKeyToProduct[e.toString()]=i,"11111111111111111111111111111111"!==n.toString()&&(this.priceAccountKeyToProductAccountKey[n.toString()]=e.toString())},e.prototype.handlePriceAccount=function(e,t){var r=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[e.toString()]];if(void 0===r)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var n=index_1.parsePriceData(t.data),i=0,o=this.callbacks;i<o.length;i++){(0,o[i])(r,n)}},e.prototype.handleAccount=function(e,t,r){var n=index_1.parseBaseData(t.data);if(n)switch(index_1.AccountType[n.type]){case"Mapping":case"Test":break;case"Product":this.handleProductAccount(e,t);break;case"Price":r||this.handlePriceAccount(e,t);break;default:throw new Error("Unknown account type: "+n.type+". Try upgrading pyth-client.")}},e.prototype.start=function(){return r(this,void 0,void 0,(function(){var e,t,r,i,o=this;return n(this,(function(n){switch(n.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:for(e=n.sent(),t=0,r=e;t<r.length;t++)i=r[t],this.handleAccount(i.pubkey,i.account,!0);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(e,t){o.handleAccount(e.accountId,e.accountInfo,!1)}),this.commitment),[2]}}))}))},e.prototype.onPriceChange=function(e){this.callbacks.push(e)},e.prototype.stop=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){return this.callbacks=[],[2]}))}))},e}();t.PythConnection=i})),cluster=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=void 0;var r={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz"};t.getPythProgramKeyForCluster=function(e){if(void 0!==r[e])return new web3_js_1.PublicKey(r[e]);throw new Error("Invalid Solana cluster name: "+e+". Valid options are: "+JSON.stringify(Object.keys(r)))}})),lib=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=t.PythConnection=t.parsePriceData=t.parseProductData=t.parseMappingData=t.parseBaseData=t.MAX_SLOT_DIFFERENCE=t.AccountType=t.DeriveType=t.PriceType=t.CorpAction=t.PriceStatus=t.Version=t.Version2=t.Magic=void 0,t.Magic=2712847316,t.Version2=2,t.Version=t.Version2,t.PriceStatus=["Unknown","Trading","Halted","Auction"],t.CorpAction=["NoCorpAct"],t.PriceType=["Unknown","Price"],t.DeriveType=["Unknown","TWAP","Volatility"],t.AccountType=["Unknown","Mapping","Product","Price","Test"],t.MAX_SLOT_DIFFERENCE=25;var r=buffer_1.Buffer.alloc(32),n=function(e){return e.equals(r)?null:new web3_js_1.PublicKey(e)};t.parseBaseData=function(e){if(!(e.byteLength<4)){var r=e.readUInt32LE(0);return r===t.Magic?{magic:r,version:e.readUInt32LE(4),type:e.readUInt32LE(8),size:e.readUInt32LE(12)}:void 0}};t.parseMappingData=function(e){for(var t=e.readUInt32LE(0),r=e.readUInt32LE(4),i=e.readUInt32LE(8),o=e.readUInt32LE(12),a=e.readUInt32LE(16),s=n(e.slice(24,56)),c=56,u=[],l=0;l<a;l++){var d=e.slice(c,c+32),f=new web3_js_1.PublicKey(d);c+=32,u.push(f)}return{magic:t,version:r,type:i,size:o,nextMappingAccount:s,productAccountKeys:u}};t.parseProductData=function(e){for(var t=e.readUInt32LE(0),r=e.readUInt32LE(4),n=e.readUInt32LE(8),i=e.readUInt32LE(12),o=e.slice(16,48),a=new web3_js_1.PublicKey(o),s={},c=48;c<i;){var u=e[c];if(c++,u){var l=e.slice(c,c+u).toString(),d=e[c+=u];c++;var f=e.slice(c,c+d).toString();c+=d,s[l]=f}}return{magic:t,version:r,type:n,size:i,priceAccountKey:a,product:s}};var i=function(e,t){var r=readBig.readBigInt64LE(e,0);return{valueComponent:r,value:Number(r)*Math.pow(10,t),numerator:readBig.readBigInt64LE(e,8),denominator:readBig.readBigInt64LE(e,16)}},o=function(e,t){var r=readBig.readBigInt64LE(e,0),n=Number(r)*Math.pow(10,t),i=readBig.readBigUInt64LE(e,8);return{priceComponent:r,price:n,confidenceComponent:i,confidence:Number(i)*Math.pow(10,t),status:e.readUInt32LE(16),corporateAction:e.readUInt32LE(20),publishSlot:readBig.readBigUInt64LE(e,24)}};t.parsePriceData=function(e){var t,r,a=e.readUInt32LE(0),s=e.readUInt32LE(4),c=e.readUInt32LE(8),u=e.readUInt32LE(12),l=e.readUInt32LE(16),d=e.readInt32LE(20),f=e.readUInt32LE(24),h=e.readUInt32LE(28),p=readBig.readBigUInt64LE(e,32),m=readBig.readBigUInt64LE(e,40),g=i(e.slice(48,72),d),b=i(e.slice(72,96),d),y=readBig.readBigInt64LE(e,96),_=Number(y)*Math.pow(10,d),v=e.readUInt8(104),w=e.readInt8(105),$=e.readInt16LE(106),S=e.readInt32LE(108),k=new web3_js_1.PublicKey(e.slice(112,144)),A=n(e.slice(144,176)),E=readBig.readBigUInt64LE(e,176),I=readBig.readBigInt64LE(e,184),R=Number(I)*Math.pow(10,d),T=readBig.readBigUInt64LE(e,192),x=Number(T)*Math.pow(10,d),P=readBig.readBigInt64LE(e,200),M=Number(P)*Math.pow(10,d),C=o(e.slice(208,240),d);1===C.status&&(t=C.price,r=C.confidence);for(var O=[],L=240,B=!0;L<e.length&&B;){var N=n(e.slice(L,L+32));if(L+=32,N){var D=o(e.slice(L,L+32),d);L+=32;var U=o(e.slice(L,L+32),d);L+=32,O.push({publisher:N,aggregate:D,latest:U})}else B=!1}return{magic:a,version:s,type:c,size:u,priceType:l,exponent:d,numComponentPrices:f,numQuoters:h,lastSlot:p,validSlot:m,twap:g,twac:b,drv1Component:y,drv1:_,minPublishers:v,drv2:w,drv3:$,drv4:S,productAccountKey:k,nextPriceAccountKey:A,previousSlot:E,previousPriceComponent:I,previousPrice:R,previousConfidenceComponent:T,previousConfidence:x,drv5Component:P,drv5:M,aggregate:C,priceComponents:O,price:t,confidence:r}},Object.defineProperty(t,"PythConnection",{enumerable:!0,get:function(){return PythConnection_1.PythConnection}}),Object.defineProperty(t,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return cluster.getPythProgramKeyForCluster}})}));class NumberField extends Layout_1$1.Layout{constructor(e,t){super(e,t)}decode(e,t){const r=null==t?0:t,n=e.slice(r,r+this.span);return new bn$1(n,void 0,"le")}encode(e,t,r){const n=null==r?0:r;return t.set(e.toArray("le"),n),this.span}}class SignedNumberField extends Layout_1$1.Layout{constructor(e,t){super(e,t)}decode(e,t){const r=null==t?0:t,n=e.slice(r,r+this.span);return new bn$1(n,void 0,"le").fromTwos(8*this.span)}encode(e,t,r){const n=null==r?0:r;return t.set(e.toTwos(8*this.span).toArray("le"),n),this.span}}class PubkeyField extends Layout_1$1.Layout{constructor(e){super(32,e)}decode(e,t){const r=null==t?0:t,n=e.slice(r,r+this.span);return new PublicKey(n)}encode(e,t,r){const n=null==r?0:r;return t.set(e.toBytes(),n),this.span}}function numberField(e){return new NumberField(24,e)}function u64Field(e){return new NumberField(8,e)}function i64Field(e){return new SignedNumberField(8,e)}function pubkeyField(e){return new PubkeyField(e)}const MAX_RESERVES=32,ReserveInfoStruct=Layout_1$1.struct([pubkeyField("reserve"),Layout_1$1.blob(80,"_UNUSED_0_"),numberField("price"),numberField("depositNoteExchangeRate"),numberField("loanNoteExchangeRate"),numberField("minCollateralRatio"),Layout_1$1.u16("liquidationBonus"),Layout_1$1.blob(158,"_UNUSED_1_"),u64Field("lastUpdated"),Layout_1$1.u8("invalidated"),Layout_1$1.blob(7,"_UNUSED_1_")]),MarketReserveInfoList=Layout_1$1.seq(ReserveInfoStruct,MAX_RESERVES),ReserveStateLayout=Layout_1$1.struct([i64Field("accruedUntil"),numberField("outstandingDebt"),numberField("uncollectedFees"),u64Field("totalDeposits"),u64Field("totalDepositNotes"),u64Field("totalLoanNotes"),Layout_1$1.blob(416,"_UNUSED_0_"),u64Field("lastUpdated"),Layout_1$1.u8("invalidated"),Layout_1$1.blob(7,"_UNUSED_1_")]),PositionInfo=Layout_1$1.struct([pubkeyField("account"),numberField("amount"),Layout_1$1.u32("side"),Layout_1$1.u16("reserveIndex"),Layout_1$1.blob(66,"_reserved")]),PositionInfoList=Layout_1$1.seq(PositionInfo,16,"positions"),checkDarkTheme=async()=>{const e="true"===localStorage.getItem("jetDark");e&&setDark(e)},setDark=e=>{e?(document.documentElement.style.setProperty("--jet-green","#53bd9f"),document.documentElement.style.setProperty("--jet-blue","#32a5d3"),document.documentElement.style.setProperty("--black","#ffffff"),document.documentElement.style.setProperty("--dark-grey","#e1e7f1"),document.documentElement.style.setProperty("--grey","#504f4f"),document.documentElement.style.setProperty("--light-grey","#494848"),document.documentElement.style.setProperty("--white","#444444"),document.documentElement.style.setProperty("--light-shadow","rgb(82, 82, 82)"),document.documentElement.style.setProperty("--dark-shadow","rgb(54, 54, 54)"),document.documentElement.style.setProperty("--input-color","rgba(255, 255, 255, 0.8)"),document.documentElement.style.setProperty("--range-slider-bg","rgba(0, 0, 0, 0.25)")):(document.documentElement.style.setProperty("--jet-green","#3d9e83"),document.documentElement.style.setProperty("--jet-blue","#278db6"),document.documentElement.style.setProperty("--black","#1a495e"),document.documentElement.style.setProperty("--dark-grey","#949494"),document.documentElement.style.setProperty("--grey","#d8dfec"),document.documentElement.style.setProperty("--light-grey","#e1e7f1"),document.documentElement.style.setProperty("--white","#e5ebf4"),document.documentElement.style.setProperty("--light-shadow","rgb(255, 255, 255)"),document.documentElement.style.setProperty("--dark-shadow","rgb(175, 186, 214)"),document.documentElement.style.setProperty("--input-color","rgba(26, 73, 94, 0.8)"),document.documentElement.style.setProperty("--range-slider-bg","rgba(255, 255, 255, 0.25)")),localStorage.setItem("jetDark",JSON.stringify(e)),USER.update((t=>(t.darkTheme=e,t)))},currencyFormatter=(e,t,r)=>{let n,i;if(n=t?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:r??2}):new Intl.NumberFormat("en-US",{minimumFractionDigits:r??8,maximumFractionDigits:r??8}),i=n.format(e),!t)for(;-1!==i.indexOf(".")&&("0"===i[i.length-1]||"."===i[i.length-1]);)i=i.substring(0,i.length-1);return i},totalAbbrev=(e,t,r,n)=>{let i=e;return t&&!1===r&&(i=e*t),i>1e9?`${r?"":"$"}${(i/1e9).toFixed(1)}B`:i>1e6?`${r?"":"$"}${(i/1e6).toFixed(1)}M`:currencyFormatter(i,!r,r?n:2)},shortenPubkey=(e,t)=>`${e.substring(0,t)}...${e.substring(e.length-t)}`,timeout=e=>new Promise((t=>{setTimeout((()=>t(!0)),e)}));class TokenAmount{constructor(e,t){bn$1.isBN(e)||(console.warn("Amount is not a BN",e),e=new bn$1(0)),this.amount=e,this.decimals=t,this.uiAmountFloat=TokenAmount.tokenAmount(e,t),this.uiAmount=this.uiAmountFloat.toString()}static zero(e){return new TokenAmount(new bn$1(0),e??0)}static tokenAccount(e,t){return new TokenAmount(e.amount,t)}static mint(e){return new TokenAmount(new bn$1(e.supply),e.decimals)}static tokens(e,t){return new TokenAmount(TokenAmount.tokensToLamports(e,t),t)}static tokenAmount(e,t){const r=e.toString(10,t);return parseFloat(r.slice(0,-t)+"."+r.slice(-t))}static tokenPrice(e,t,r){const n=0!==t?e/t:0;return TokenAmount.tokens(n.toFixed(r),r)}static tokensToLamports(e,t){-1===e.indexOf("e+")&&-1===e.indexOf("e-")||(e=Number(e).toLocaleString("fullwide",{useGrouping:!1}));let r=e;for(;-1!==r.indexOf(",");)r=r.replace(",","");let n=0,i=r.indexOf(".");-1!==i&&(n=r.length-(i+1),n>t&&(r=String(parseFloat(r).toFixed(t))),r=r.replace(".",""));for(let e=0;e<t-n;e++)r+="0";return new bn$1(r)}add(e){return this.do(e,bn$1.prototype.add)}addb(e){return new TokenAmount(this.amount.add(e),this.decimals)}addn(e){return new TokenAmount(this.amount.addn(e),this.decimals)}sub(e){return this.do(e,bn$1.prototype.sub)}subb(e){return new TokenAmount(this.amount.sub(e),this.decimals)}subn(e){return new TokenAmount(this.amount.subn(e),this.decimals)}mul(e){return this.do(e,bn$1.prototype.mul)}mulb(e){return new TokenAmount(this.amount.mul(e),this.decimals)}muln(e){return new TokenAmount(this.amount.muln(e),this.decimals)}div(e){return this.do(e,bn$1.prototype.div)}divb(e){return new TokenAmount(this.amount.div(e),this.decimals)}divn(e){return new TokenAmount(this.amount.divn(e),this.decimals)}lt(e){return this.amount.lt(e.amount)}gt(e){return this.amount.gt(e.amount)}eq(e){return this.amount.eq(e.amount)}isZero(){return this.amount.isZero()}do(e,t){if(this.decimals!==e.decimals)return console.warn("Decimal mismatch"),TokenAmount.zero(this.decimals);let r=t.call(this.amount,e.amount);return new TokenAmount(r,this.decimals)}}class Amount{constructor(e,t){this.units=e,this.value=t}static tokens(e){return new Amount({tokens:{}},new bn$1(e))}static depositNotes(e){return new Amount({depositNotes:{}},new bn$1(e))}static loanNotes(e){return new Amount({loanNotes:{}},new bn$1(e))}}let user$3;USER.subscribe((e=>{user$3=e}));const SOL_DECIMALS=9;new PublicKey("11111111111111111111111111111111");const findDepositNoteDestAddress=async(e,t,r)=>await findProgramAddress(e.programId,[t,r]),findDepositNoteAddress=async(e,t,r)=>await findProgramAddress(e.programId,["deposits",t,r]),findObligationAddress=async(e,t,r)=>await findProgramAddress(e.programId,["obligation",t,r]),findLoanNoteAddress=async(e,t,r,n)=>await findProgramAddress(e.programId,["loan",t,r,n]),findCollateralAddress=async(e,t,r,n)=>await findProgramAddress(e.programId,["collateral",t,r,n]),findProgramAddress=async(e,t)=>{const r=t.map((e=>"string"==typeof e?(new TextEncoder).encode(e):"publicKey"in e?e.publicKey.toBytes():"toBytes"in e?e.toBytes():e));return await PublicKey.findProgramAddress(r,e)},getTokenAccountAndSubscribe=async function(e,t,r,n,i){return await getAccountInfoAndSubscribe(e,t,((e,i)=>{if(null!=e){165!=e.data.length&&console.log("account data length",e.data.length);const o=parseTokenAccount(e,t),a=TokenAmount.tokenAccount(o.data,r);n(a,i)}else n(void 0,i)}),i)},getMintInfoAndSubscribe=async function(e,t,r,n){return await getAccountInfoAndSubscribe(e,t,((e,t)=>{if(null!=e){let n=MintLayout.decode(e.data),i=TokenAmount.mint(n);r(i,t)}else r(void 0,t)}),n)},getAccountInfoAndSubscribe=async function(e,t,r,n){let i=-1,o=e.onAccountChange(t,((e,t)=>{t.slot>=i&&(i=t.slot,r(e,t))}),n);const a=await e.getAccountInfoAndContext(t,n);return a.context.slot>=i&&(i=a.context.slot,null!=a.value?r(a.value,a.context):r(null,a.context)),o},sendTransaction=async(e,t,r,n)=>{if(!e.wallet?.publicKey)throw new Error("Wallet is not connected");let i=new Transaction;if(i.instructions=t,i.recentBlockhash=(await e.connection.getRecentBlockhash()).blockhash,i.feePayer=e.wallet.publicKey,r&&r.length>0&&i.partialSign(...r),"Slope"===user$3.wallet?.name)try{const{msg:t,data:r}=await e.wallet.signTransaction(bs58.encode(i.serializeMessage()));if(!r.publicKey||!r.signature)throw new Error("Transaction Signing Failed");i.addSignature(new PublicKey(r.publicKey),bs58.decode(r.signature))}catch(e){return console.log("Signing Transactions Failed",e),[TxnResponse.Cancelled,[]]}else try{i=await e.wallet.signTransaction(i)}catch(e){return console.log("Signing Transactions Failed",e,[TxnResponse.Failed,null]),[TxnResponse.Cancelled,[]]}const o=i.serialize(),a=await e.connection.sendRawTransaction(o,e.opts);console.log(`Transaction ${explorerUrl(a)} ${o.byteLength} of 1232 bytes...`,i);let s=TxnResponse.Success;if(!n){(await e.connection.confirmTransaction(a,e.opts.commitment)).value?.err&&a.length&&(s=TxnResponse.Failed)}return[s,[a]]},sendAllTransactions=async(e,t,r)=>{if(!e.wallet?.publicKey)throw new Error("Wallet is not connected");const n=await e.connection.getRecentBlockhash(),i=[];for(const r of t){if(0==r.ix.length)continue;let t=new Transaction;t.instructions=r.ix,t.recentBlockhash=n.blockhash,t.feePayer=e.wallet.publicKey,r.signers&&r.signers.length>0&&t.partialSign(...r.signers),i.push(t)}let o=[];if("Slope"===user$3.wallet?.name)try{const{msg:t,data:r}=await e.wallet.signAllTransactions(i.map((e=>bs58.encode(e.serializeMessage())))),n=i.length;if(!r.publicKey||r.signatures?.length!==n)throw new Error("Transactions Signing Failed");for(let e=0;e<n;e++)i[e].addSignature(new PublicKey(r.publicKey),bs58.decode(r.signatures[e])),o.push(i[e])}catch(e){return console.log("Signing All Transactions Failed",e),[TxnResponse.Cancelled,[]]}else try{if(e.wallet.signAllTransactions)o=await e.wallet.signAllTransactions(i);else for(let t=0;t<i.length;t++){const r=await e.wallet.signTransaction(i[t]);o.push(r)}}catch(e){return console.log("Signing All Transactions Failed",e),[TxnResponse.Cancelled,[]]}console.log("Transactions",i);let a=TxnResponse.Success;const s=[];for(let t=0;t<o.length;t++){const n=o[t],i=0!==t,c={...e.opts,skipPreflight:i},u=n.serialize(),l=await e.connection.sendRawTransaction(u,c);if(console.log(`Transaction ${explorerUrl(l)} ${u.byteLength} of 1232 bytes...`),s.push(l),!r){(await e.connection.confirmTransaction(l,e.opts.commitment)).value?.err&&(a=TxnResponse.Failed)}}return[a,s]},explorerUrl=e=>`https://explorer.solana.com/transaction/${e}${inDevelopment?"?cluster=devnet":""}`,transactionErrorToString=e=>e.code?`Code ${e.code}: ${e.msg}\n${e.logs}\n${e.stack}`:`${e} ${getErrNameAndMsg(Number(getCustomProgramErrorCode(JSON.stringify(e))[1]))}`,parseTokenAccount=(e,t)=>{const r=AccountLayout.decode(e.data);return{...e,data:{address:t,mint:new PublicKey(r.mint),owner:new PublicKey(r.owner),amount:new bn$1(r.amount,void 0,"le"),delegate:r.delegateOption?new PublicKey(r.delegate):null,delegatedAmount:new bn$1(r.delegatedAmount,void 0,"le"),isInitialized:0!=r.state,isFrozen:2==r.state,isNative:!!r.isNativeOption,rentExemptReserve:new bn$1(0,void 0,"le"),closeAuthority:r.closeAuthorityOption?new PublicKey(r.closeAuthority):null}}},parseMarketAccount=(e,t)=>{let r=t.accounts.decode("Market",e),n=new Uint8Array(r.reserves),i=MarketReserveInfoList.decode(n);return r.reserves=i,r},parseReserveAccount=(e,t)=>{let r=t.accounts.decode("Reserve",e);const n=ReserveStateLayout.decode(Buffer.from(r.state));return r.state=n,r},parseObligationAccount=(e,t)=>{let r=t.accounts.decode("Obligation",e);const n=e=>({account:new PublicKey(e.account),amount:new bn$1(e.amount),side:e.side,reserveIndex:e.reserveIndex,_reserved:[]});return r.collateral=PositionInfoList.decode(Buffer.from(r.collateral)).map(n),r.loans=PositionInfoList.decode(Buffer.from(r.loans)).map(n),r},parseIdlMetadata=e=>({...e,address:new PublicKey(e.address),market:toPublicKeys(e.market),reserves:e.reserves.map((e=>({...e,accounts:toPublicKeys(e.accounts)})))});function toPublicKeys(e){const t={};for(const r in e){const n=e[r];t[r]="string"==typeof n?new PublicKey(n):"publicKey"in n?n.publicKey:n}return t}const interpolate=(e,t,r,n,i)=>(console.assert(e>=t),console.assert(e<=r),n+(e-t)*(i-n)/(r-t)),getCcRate=(e,t)=>{const r=1e4;let n=e.utilizationRate1/r,i=e.utilizationRate2/r,o=e.borrowRate0/r,a=e.borrowRate1/r,s=e.borrowRate2/r,c=e.borrowRate3/r;return t<=n?interpolate(t,0,n,o,a):t<=i?interpolate(t,n,i,a,s):interpolate(t,i,1,s,c)},getBorrowRate=(e,t)=>{t/=1e4;const r=31536e3,n=e/r;return Math.log1p((1+t)*Math.expm1(n))*r},getDepositRate=(e,t)=>{const r=31536e3,n=e/r;return Math.log1p(Math.expm1(n))*r*t};let market$2,user$2,idlMetadata,connection$1,coder;MARKET.subscribe((e=>market$2=e)),USER.subscribe((e=>user$2=e)),IDL_METADATA.subscribe((e=>idlMetadata=e)),CONNECTION.subscribe((e=>connection$1=e)),ANCHOR_CODER.subscribe((e=>coder=e));const subscribeToMarket=async()=>{let e;const t=[];let r=Date.now();e=getAccountInfoAndSubscribe(connection$1,idlMetadata.market.market,(e=>{null!=e&&MARKET.update((t=>{console.assert(12288==MarketReserveInfoList.span);const r=parseMarketAccount(e.data,coder);for(const e of r.reserves)for(const r in t.reserves)if(t.reserves[r].accountPubkey.equals(e.reserve)){const n=t.reserves[r];n.liquidationPremium=e.liquidationBonus,n.depositNoteExchangeRate=e.depositNoteExchangeRate,n.loanNoteExchangeRate=e.loanNoteExchangeRate,deriveValues(n,user$2.assets?.tokens[n.abbrev]);break}return t}))})),e.then((()=>{let e=Date.now();USER.update((t=>(t.rpcPing=e-r,t)))})),t.push(e);for(const r of idlMetadata.reserves)e=getAccountInfoAndSubscribe(connection$1,r.accounts.reserve,(e=>{null!=e&&MARKET.update((t=>{const n=parseReserveAccount(e.data,coder),i=t.reserves[r.abbrev];return i.maximumLTV=n.config.minCollateralRatio,i.liquidationPremium=n.config.liquidationPremium,i.outstandingDebt=new TokenAmount(n.state.outstandingDebt,r.decimals).divb(new bn$1(Math.pow(10,15))),i.accruedUntil=n.state.accruedUntil,i.config=n.config,deriveValues(i,user$2.assets?.tokens[i.abbrev]),t}))})),t.push(e),e=getMintInfoAndSubscribe(connection$1,r.accounts.depositNoteMint,(e=>{null!=e&&MARKET.update((t=>{let n=t.reserves[r.abbrev];return n.depositNoteMint=e,deriveValues(n,user$2.assets?.tokens[n.abbrev]),t}))})),t.push(e),e=getMintInfoAndSubscribe(connection$1,r.accounts.loanNoteMint,(e=>{null!=e&&MARKET.update((t=>{let n=t.reserves[r.abbrev];return n.loanNoteMint=e,deriveValues(n,user$2.assets?.tokens[n.abbrev]),t}))})),t.push(e),e=getTokenAccountAndSubscribe(connection$1,r.accounts.vault,r.decimals,(e=>{null!=e&&MARKET.update((t=>{let n=t.reserves[r.abbrev];return n.availableLiquidity=e,deriveValues(n,user$2.assets?.tokens[n.abbrev]),t}))})),t.push(e),e=getMintInfoAndSubscribe(connection$1,r.accounts.tokenMint,(e=>{null!=e&&MARKET.update((t=>{let n=t.reserves[r.abbrev];return n.tokenMint=e,deriveValues(n,user$2.assets?.tokens[n.abbrev]),t}))})),t.push(e),e=getAccountInfoAndSubscribe(connection$1,r.accounts.pythPrice,(e=>{null!=e&&MARKET.update((t=>{let n=t.reserves[r.abbrev];return n.price=Number(lib.parsePriceData(e.data).price),deriveValues(n,user$2.assets?.tokens[n.abbrev]),t}))})),t.push(e);return await Promise.all(t)},subscribeToAssets=async()=>{let e,t=[];if(user$2.assets&&user$2.wallet){e=getAccountInfoAndSubscribe(connection$1,user$2.assets.obligationPubkey,(e=>{null!=e&&USER.update((t=>(t.assets&&(t.assets.obligation={...e,data:parseObligationAccount(e.data,coder)}),t)))})),t.push(e),e=getAccountInfoAndSubscribe(connection$1,user$2.wallet.publicKey,(e=>{USER.update((t=>{if(t.assets){const r=market$2.reserves.SOL;t.assets.tokens.SOL.walletTokenBalance=new TokenAmount(new bn$1(e?.lamports.toString()??0),SOL_DECIMALS),t.assets.sol=t.assets.tokens.SOL.walletTokenBalance,t.walletBalances.SOL=t.assets.tokens.SOL.walletTokenBalance.uiAmountFloat,deriveValues(r,t.assets.tokens.SOL)}return t}))})),t.push(e);for(const r in user$2.assets.tokens){const n=user$2.assets.tokens[r],i=market$2.reserves[r];e=getTokenAccountAndSubscribe(connection$1,n.walletTokenPubkey,i.decimals,(e=>{USER.update((t=>(t.assets&&(t.assets.tokens[i.abbrev].walletTokenBalance=e??new TokenAmount(new bn$1(0),i.decimals),t.assets.tokens[i.abbrev].walletTokenExists=!!e,n.tokenMintPubkey.equals(NATIVE_MINT)||(t.walletBalances[i.abbrev]=n.walletTokenBalance.uiAmountFloat),deriveValues(i,t.assets.tokens[i.abbrev])),t)))})),t.push(e),e=getTokenAccountAndSubscribe(connection$1,n.depositNoteDestPubkey,i.decimals,(e=>{USER.update((t=>(t.assets&&(t.assets.tokens[i.abbrev].depositNoteDestBalance=e??TokenAmount.zero(i.decimals),t.assets.tokens[i.abbrev].depositNoteDestExists=!!e,deriveValues(i,t.assets.tokens[i.abbrev])),t)))})),t.push(e),e=getTokenAccountAndSubscribe(connection$1,n.depositNotePubkey,i.decimals,(e=>{USER.update((t=>(t.assets&&(t.assets.tokens[i.abbrev].depositNoteBalance=e??TokenAmount.zero(i.decimals),t.assets.tokens[i.abbrev].depositNoteExists=!!e,deriveValues(i,t.assets.tokens[i.abbrev])),t)))})),t.push(e),e=getTokenAccountAndSubscribe(connection$1,n.loanNotePubkey,i.decimals,(e=>{USER.update((t=>(t.assets&&(t.assets.tokens[i.abbrev].loanNoteBalance=e??TokenAmount.zero(i.decimals),t.assets.tokens[i.abbrev].loanNoteExists=!!e,deriveValues(i,t.assets.tokens[i.abbrev])),t)))})),t.push(e),e=getTokenAccountAndSubscribe(connection$1,n.collateralNotePubkey,i.decimals,(e=>{USER.update((t=>(t.assets&&(t.assets.tokens[i.abbrev].collateralNoteBalance=e??TokenAmount.zero(i.decimals),t.assets.tokens[i.abbrev].collateralNoteExists=!!e,deriveValues(i,t.assets.tokens[i.abbrev])),t)))})),t.push(e)}return await Promise.all(t)}},deriveValues=(e,t)=>{e.marketSize=e.outstandingDebt.add(e.availableLiquidity),e.utilizationRate=e.marketSize.isZero()?0:e.outstandingDebt.uiAmountFloat/e.marketSize.uiAmountFloat;const r=getCcRate(e.config,e.utilizationRate);e.borrowRate=getBorrowRate(r,e.config.manageFeeRate),e.depositRate=getDepositRate(r,e.utilizationRate);let n=0,i=[];for(let e in market$2.reserves)n+=market$2.reserves[e].marketSize.muln(market$2.reserves[e].price)?.uiAmountFloat,i.push(market$2.reserves[e]);if(MARKET.update((e=>(e.totalValueLocked=n,e.reservesArray=i,e))),t){t.depositBalance=t.depositNoteBalance.mulb(e.depositNoteExchangeRate).divb(new bn$1(Math.pow(10,15))),t.loanBalance=t.loanNoteBalance.mulb(e.loanNoteExchangeRate).divb(new bn$1(Math.pow(10,15))),t.collateralBalance=t.collateralNoteBalance.mulb(e.depositNoteExchangeRate).divb(new bn$1(Math.pow(10,15))),user$2.collateralBalances[e.abbrev]=t.collateralBalance.uiAmountFloat,user$2.loanBalances[e.abbrev]=t.loanBalance.uiAmountFloat,user$2.position={depositedValue:0,borrowedValue:0,colRatio:0,utilizationRate:0};for(let e in user$2.assets?.tokens)user$2.position.depositedValue+=user$2.collateralBalances[e]*market$2.reserves[e].price,user$2.position.borrowedValue+=user$2.loanBalances[e]*market$2.reserves[e].price,user$2.position.colRatio=user$2.position.borrowedValue?user$2.position.depositedValue/user$2.position.borrowedValue:0,user$2.position.utilizationRate=user$2.position.depositedValue?user$2.position.borrowedValue/user$2.position.depositedValue:0;USER.update((e=>(e.position=user$2.position,e))),t.maxDepositAmount=user$2.walletBalances[e.abbrev],t.maxWithdrawAmount=user$2.position.borrowedValue?(user$2.position.depositedValue-market$2.programMinColRatio*user$2.position.borrowedValue)/e.price:t.collateralBalance.uiAmountFloat,t.maxWithdrawAmount>t.collateralBalance.uiAmountFloat&&(t.maxWithdrawAmount=t.collateralBalance.uiAmountFloat),t.maxBorrowAmount=(user$2.position.depositedValue/market$2.minColRatio-user$2.position.borrowedValue)/e.price,t.maxBorrowAmount>e.availableLiquidity.uiAmountFloat&&(t.maxBorrowAmount=e.availableLiquidity.uiAmountFloat),user$2.walletBalances[e.abbrev]<t.loanBalance.uiAmountFloat?t.maxRepayAmount=user$2.walletBalances[e.abbrev]:t.maxRepayAmount=t.loanBalance.uiAmountFloat}};var language$5="English",loading$5={transactions:"Sending Transactions...",connectingWallet:"Connecting Wallet...",initializing:"Starting Jet Engines",fetchingReserves:"Fetching Reserve Data",fetchingAccount:"Fetching Account Data"},nav$5={cockpit:"Cockpit",settings:"Settings",collapse:"Collapse",getCopilotSuggestion:"Get Copilot Suggestion",transactions:"Flight Logs"},cockpit$5={title:"Cockpit",asset:"Asset",detail:"Detail",native:"Native",totalValueLocked:"Locked Market Value",totalBorrowed:"Total Borrowed",availableLiquidity:"Available Liquidity",amountDeposited:"Deposited",amountBorrowed:"Borrowed",depositRate:"Deposit Rate",borrowRate:"Borrow Rate",airdrop:"Airdrop",totalDepositedValue:"Your Deposited Value",totalBorrowedValue:"Your Borrowed Value",yourRatio:"Your C-Ratio",collateralizationRatio:"Collateralization Ratio",noInputAmount:"Enter amount.",adjustedCollateralization:"Adjusted C-Ratio",deposit:"Deposit",walletBalance:"Wallet Balance",noDepositAmount:"Enter amount",notEnoughAsset:"Not enough {{ASSET}}.",withdraw:"Withdraw",availableFunds:"Available Funds",lessFunds:"Not enough funds",borrow:"Borrow",maxBorrowAmount:"Maximum Borrow",assetIsCurrentDeposit:"You've deposited {{ASSET}} and therefore can't borrow it.",noLiquidity:"Not enough liquidity.",minCRatio:"This will put your position at our minimum collateralization ratio, therefore placing your account in liquidation territory. Are you sure?",belowMinRatio:"You are undercollateralized. Deposit or repay your debt to avoid liquidation.",subjectToLiquidation:"This trade lowers your collateralization ratio to {{NEW-C-RATIO}}%, which places you in the range of liquidation subject to market volatility. Would you still like to borrow?",confirm:"Confirm",repay:"Repay",amountOwed:"Amount Owed",oweLess:"You owe less.",geobanned:"Jet Protocol is not available in your region.",noMarket:"We were unable to initialize the Jet marketplace.",txSuccess:"Your {{TRADE ACTION}} of {{AMOUNT AND ASSET}} was received.",txFailed:"Transaction failed.",max:"Max",assetIsCurrentBorrow:"You've borrowed {{ASSET}} and therefore can't deposit it.",belowMinCRatio:"You are undercollateralized. Deposit or repay your debt to avoid liquidation.",search:"Search Market...",noBalanceForDeposit:"You have no {{ASSET}} in your wallet to deposit.",noDepositsForBorrow:"You must deposit collateral in order to borrow.",noDepositsForWithdraw:"You have not deposited any {{ASSET}} to withdraw.",noDebtForRepay:"You don't owe any {{ASSET}}.",rejectTrade:"This trade would lower your collateralization ratio to {{NEW-C-RATIO}}%, which would be below our minimum ratio of {{JET MIN C-RATIO}}. Would you still like to borrow?",insufficientLamports:"You are depositing all your SOL leaving you no lamports for transaction fees! Please try again with a slightly lower input amount.",stillUndercollateralized:"Your new C-ratio of {{NEW-C-RATIO}}% is still under Jet's minimum marketplace collateralization ratio of {{JET MIN C-RATIO}}%. Please consider repaying more to avoid liquidation.",txCancelled:"Transaction cancelled."},settings$5={title:"Settings",wallet:"Wallet",connect:"Connect Wallet",worldOfDefi:"Connect your wallet to the world of DeFi.",theme:"Theme",light:"Light",dark:"Dark",language:"Language",rpcNode:"RPC Node",current:"Current",defaultNode:"Jet Default",reset:"Reset",noUrl:"Enter a URL",disconnect:"Disconnect Wallet",connected:"Connected"},reserveDetail$5={reserveSize:"Reserve Size",availableLiquidity:"Available Liquidity",utilisationRate:"Utilisation Rate",viewHistory:"View History",totalBorrowed:"Total Borrowed",maximumLTV:"Maximum LTV",liquidationPremium:"Liquidation Premium",tradeAsset:"Trade {{ASSET}}",minimumCollateralizationRatio:"Minimum C-Ratio"},copilot$5={name:"Copilot",header:"Hey, Copilot here.",okay:"Okay",suggestions:{unhealthy:{overview:"Your account is unhealthy.",detail:"Your Collateralization Ratio (your total deposited value divided by your total borrowed value) is {{C-RATIO}}% which is {{RATIO BELOW AMOUNT}}% less than Jet marketplace's minimum collateralization ratio of {{JET MIN C-RATIO}}%.",solution:"In order to correct your position, you can deposit more collateral, but I suggest you repay your debt in the Cockpit.",actionText:"Go To Cockpit"},warning:{tenPercent:{overview:"You are dangerously close to liquidation.",detail:"Your Collateralization Ratio (your total deposited value divided by your total borrowed value) is {{C-RATIO}}% which is within 10% of Jet marketplace's minimum collateralization ratio of {{JET MIN C-RATIO}}%.",solution:"In order to avoid liquidation, you can deposit more collateral.",actionText:"Deposit"},twentyPercent:{overview:"Keep an eye on your collateralization ratio.",detail:"Your Collateralization Ratio (your total deposited value divided by your total borrowed value) is {{C-RATIO}}% which is less than 20% above Jet marketplace's minimum collateralization ratio of {{JET MIN C-RATIO}}%.",solution:"Raise your collateralization ratio to healthy levels of 20% or more by depositing more collateral.",actionText:"Deposit"}},deposit:{overview:"{{BEST DEPOSIT RATE NAME}} is lookin' good right now.",detail:"<b class='bold'>{{BEST DEPOSIT RATE ABBREV}}</b> has the best deposit <b class='bold'>rate</b> in the market right now at <b class='bold'>{{DEPOSIT RATE}}%</b>, and your account is in good standing so we recommend adding some collateral by depositing a portion of your <b class='bold'>{{USER BALANCE}} {{BEST DEPOSIT RATE ABBREV}}</b>.",actionText:"Let's Do It"},healthy:{overview:"Skies are clear.",detail:"Your account is in good standing and is healthily over-collateralized, let me take a look at the market and see if I can suggest some good moves for you. Check back with me later!"}},alert:{failed:"Mayday!",success:"Success!",airdropSuccess:"We have Airdropped you {{UI AMOUNT}} {{RESERVE ABBREV}}.",refresh:"Refresh",originationFee:"There is a fee of {{ORIGINATION FEE}}% attached to this loan.",headsup:"Heads up!",disclaimer:'You are about to enter the Jet Protocol Mainnet. Do not proceed if you do not understand and accept the Terms of Use, and potential for financial loss. <br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">TERMS OF USE</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">PRIVACY POLICY</a>',accept:"Accept",warning:"WARNING"}},transactions$5={title:"Flight Logs",date:"Date",signature:"Signature",tradeAction:"Transaction",tradeAmount:"Amount",noTrades:"You have no logged transactions with Jet.",entries:"{start} to {end} of {rows}",deposit:"Deposit",withdraw:"Withdraw",borrow:"Borrow",repay:"Repay"},Jet_UI_EN={language:language$5,loading:loading$5,nav:nav$5,cockpit:cockpit$5,settings:settings$5,reserveDetail:reserveDetail$5,copilot:copilot$5,transactions:transactions$5},Jet_UI_EN$1=Object.freeze({__proto__:null,language:language$5,loading:loading$5,nav:nav$5,cockpit:cockpit$5,settings:settings$5,reserveDetail:reserveDetail$5,copilot:copilot$5,transactions:transactions$5,default:Jet_UI_EN}),collateral$5={term:"Collateral",definition:"The asset deposited with the protocol to secure a loan."},debt$5={term:"Debt",definition:"The value of the loan that is owed or due to the Protocol."},collateralizationRatio$5={term:"Collateralization Ratio",definition:"The value of your collateral divided by the value of your debt. You are required to over-collateralize your loan, i.e. the fair market value of your deposited assets must exceed the value of the amount you are allowed to borrow. This provides for a reduction because the Protocol may seize this collateral in order to recoup the value of the loan in the event of default on a loan. See also, Maximum LTV."},adjustedCollateralizationRatio$5={term:"Adjusted Collateralization Ratio",definition:"A real-time representation of what your collateralization ratio would potentially be if the current trade is submitted."},depositRate$5={term:"Deposit Interest Rate",definition:"The instantaneous interest rate being earned by depositors. This rate is expressed in annualized form, does not reflect the effects of compounding, and is inclusive of any protocol fees that may be in place. The rate changes as the utilization ratio of the deposited asset changes."},borrowRate$5={term:"Borrow Interest Rate",definition:"The instantaneous interest rate being paid by borrowers. This rate is expressed in annualized form, does not reflect the effects of compounding, and is inclusive of any protocol fees that may be in place. The rate changes as the utilization ratio of the borrowed asset changes."},maximumLtv$5={term:"Maximum LTV",definition:"The maximum ratio of a loan allowed by the Protocol. The Loan-to-value ratio (LTV), is a measure of risk used by the Jet Protocol when deciding how large of a loan to approve. Your LTV represents the relationship between the size of the loan you take out and the value of the property that secures the loan. See also, Collateralization Ratio."},utilisationRate$5={term:"Utilization Ratio",definition:"The fraction of a reserve’s assets that have been borrowed. For example, if the USDC reserve is worth $100,000,and the amount owed to the reserve by borrowers is $65,000, then the utilization ratio is 65%. There would be $35,000 available for further borrowing."},availLiquidity$5={term:"Liquidity",definition:"The efficiency or ease with which an asset can be converted into stablecoins without affecting the asset’s market price."},liquidationPremium$5={term:"Liquidation Premium",definition:"Additional collateral is delivered to liquidators who repay the debt of accounts that have fallen below the minimum collateralization ratio. The dollar value of this additional collateral is equal to the Liquidation Premium times the dollar value of the repaid debt. The additional collateral is paid from the account of the user being liquidated."},Jet_Definitions_EN={collateral:collateral$5,debt:debt$5,collateralizationRatio:collateralizationRatio$5,adjustedCollateralizationRatio:adjustedCollateralizationRatio$5,depositRate:depositRate$5,borrowRate:borrowRate$5,maximumLtv:maximumLtv$5,utilisationRate:utilisationRate$5,availLiquidity:availLiquidity$5,liquidationPremium:liquidationPremium$5},Jet_Definitions_EN$1=Object.freeze({__proto__:null,collateral:collateral$5,debt:debt$5,collateralizationRatio:collateralizationRatio$5,adjustedCollateralizationRatio:adjustedCollateralizationRatio$5,depositRate:depositRate$5,borrowRate:borrowRate$5,maximumLtv:maximumLtv$5,utilisationRate:utilisationRate$5,availLiquidity:availLiquidity$5,liquidationPremium:liquidationPremium$5,default:Jet_Definitions_EN}),language$4="中文",loading$4={transactions:"交易发送中。。。",connectingWallet:"钱包连结中。。。",initializing:"启动JET发动机中",fetchingReserves:"获取储备数据中",fetchingAccount:"获取账户数据中"},nav$4={cockpit:"驾驶舱",settings:"设定",collapse:"缩起",getCopilotSuggestion:"获取副驾驶建议",transactions:"飞行日志"},cockpit$4={title:"驾驶舱",asset:"资产",detail:"详细",native:"原生",totalValueLocked:"总锁仓量",totalBorrowed:"借贷总额",availableLiquidity:"可用流动性",amountDeposited:"存款金额",amountBorrowed:"借贷金额",depositRate:"存款率",borrowRate:"借贷率",airdrop:"Airdrop",totalDepositedValue:"存款总价值",totalBorrowedValue:"借贷总额",yourRatio:"您的质押率",collateralizationRatio:"质押率",noInputAmount:"输入金额",adjustedCollateralization:"调整过质押率",deposit:"存款",walletBalance:"你的钱包余额",noDepositAmount:"输入金额",notEnoughAsset:"{{ASSET}} 不够",withdraw:"取款",availableFunds:"可用资产",lessFunds:"资产不够",borrow:"借贷",maxBorrowAmount:"最高可借贷金额",assetIsCurrentDeposit:"您已存入 {{ASSET}}，因此无法借用。",noLiquidity:"流动性不足",minCRatio:"这将使您的头寸处于我们的最低抵押率，从而使您的账户处于清算区域。 你确定吗？",belowMinRatio:"您已低于最小质押率。请多存一些抵押物或偿还一些债务",subjectToLiquidation:"您这个交易会降低质押率到 {{NEW-C-RATIO}}% 比 Jet 要求的质押率还低 从而使您的账户处于清算区域。你确定吗？",confirm:"确认",repay:"偿还",amountOwed:"以借贷金额",oweLess:"借贷金额减少",geobanned:"您住的地方不尊许您用 Jet Protocol。",noMarket:"我们没办法开启Jet的交易市场",txSuccess:"成功了! 我们收到您的 {{AMOUNT AND ASSET}} {{TRADE ACTION}}。您可以在這查看您的交易 <a href='{{EXPLORER LINK}}' class='text-gradient' target='_blank' style='margin: unset; font-weight: bold;'>explorer</a>。",txFailed:"交易失败。失败原因不太清楚， 请您再试一次或是跟我们联系。",max:"全部",assetIsCurrentBorrow:"你已经借了{{ASSET}} 所以无法存入此资产。",belowMinCRatio:"您已低于最小质押率。请多存一些抵押物或偿还一些债务。",search:"搜索市场",noBalanceForDeposit:"您钱包里没有任何 {{ASSET}} 来存款.",noDepositsForBorrow:"您需要存抵押物才能再借款",noDepositsForWithdraw:"您没有存任何 {{ASSET}} 来提款.",noDebtForRepay:"您不欠任何 {{ASSET}}.",rejectTrade:"这个交易手续会降低您的质押率到 {{NEW-C-RATIO}}%, 而且会比我们的对低质押率限制 {{JET MIN C-RATIO}} 还低.",insufficientLamports:"您这交易会存进您全部的SOL 您的交易费会不够! 请您输入低一点的金额",stillUndercollateralized:"您的新 {{NEW-C-RATIO}}% C-Ratio 仍低于 Jet 的最低市场抵押比率 {{JET MIN C-RATIO}}% 。 请考虑偿还更多，以避免清算。",txCancelled:"Transaction cancelled."},settings$4={title:"设定",wallet:"钱包",connect:"连结钱包",worldOfDefi:"连结到 DeFi 世界",theme:"模式",light:"明亮",dark:"黑暗",language:"语言",rpcNode:"RPC Node",current:"当前的",defaultNode:"JET 默认",reset:"重新设定",noUrl:"输入网址",disconnect:"Disconnect Wallet",connected:"Connected"},reserveDetail$4={reserveSize:"储备规模",availableLiquidity:"可用流动性",utilisationRate:"使用率",viewHistory:"查看历史",totalBorrowed:"总借贷金额",maximumLTV:"最高LTV",liquidationPremium:"清算溢价",tradeAsset:"交易 {{ASSET}}",minimumCollateralizationRatio:"最低质押率限制"},copilot$4={name:"副驾驶",header:"嘿 我是你的副驾驶。",okay:"Okay",suggestions:{unhealthy:{overview:"您的帐号健康度不良",detail:"您的质押率 {{C-RATIO}}% 比 Jet 要求的质押率还低 {{RATIO BELOW AMOUNT}}%。Jet 要求的最低质押率是 {{JET MIN C-RATIO}}%",solution:'为了更正您的仓位，您可以存入更多的抵押品，但我建议您在 "驾驶舱" 中偿还您的债务。',actionText:"去驾驶舱"},warning:{tenPercent:{overview:"小心 您快被清算了！",detail:"您的质押率 {{C-RATIO}}% 比 Jet 要求的质押率还低 10%。Jet 要求的质押率是 {{JET MIN C-RATIO}}%",solution:"为了避免您被清算 我建议您多存一点抵押物",actionText:"再存抵押物"},twentyPercent:{overview:"注意您的质押率！",detail:"您的质押率 {{C-RATIO}}% 比 Jet 要求的质押率还低 20%。Jet 要求的质押率是 {{JET MIN C-RATIO}}%",solution:"多存一点抵押物来增加你的质押率，将您的质押率提高到 20% 或更高的健康水平",actionText:"再存抵押物"}},deposit:{overview:"{{BEST DEPOSIT RATE NAME}} 看起来不错",detail:"<b class='bold'>{{BEST DEPOSIT RATE ABBREV}}</b> 现在有市场上最高的 <b class='bold'>借贷率</b>。您的帐号健康度不错 我建议您多存一点您的 <b class='bold'>{{USER BALANCE}} {{BEST DEPOSIT RATE ABBREV}}</b>。",actionText:"再存抵押物"},healthy:{overview:"天气晴朗",detail:"您的帐号现在健康度不错 我去看看现在的市场 看可不可您做几个建议"}},alert:{failed:"失败了!",success:"成功了!",airdropSuccess:"我们已经寄给您 {{AMOUNT}} {{RESERVE ABBREV}}。请更新您到网页。",refresh:"更新网页",originationFee:"这笔贷款会收取 {{ORIGINATION FEE}}% 发起费用.",headsup:"小心!",disclaimer:'You are about to enter the Jet Protocol Mainnet. Do not proceed if you do not understand and accept the Terms of Use, and potential for financial loss. <br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">TERMS OF USE</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">PRIVACY POLICY</a>',accept:"Accept",warning:"WARNING"}},transactions$4={title:"飞行日志",date:"日期",signature:"签章",tradeAction:"交易",tradeAmount:"金额",noTrades:"您在 Jet 没有交易的记录。",entries:"显示 {start} 到 {end} 的 {row} 条目",deposit:"存款",withdraw:"借贷",borrow:"借贷",repay:"偿还"},Jet_UI_ZH={language:language$4,loading:loading$4,nav:nav$4,cockpit:cockpit$4,settings:settings$4,reserveDetail:reserveDetail$4,copilot:copilot$4,transactions:transactions$4},Jet_UI_ZH$1=Object.freeze({__proto__:null,language:language$4,loading:loading$4,nav:nav$4,cockpit:cockpit$4,settings:settings$4,reserveDetail:reserveDetail$4,copilot:copilot$4,transactions:transactions$4,default:Jet_UI_ZH}),collateral$4={term:"抵押物",definition:"您存在Jet的资产以保障您的借贷款。 您必须要过度抵押您的借贷款。 您存在Jet的资产市场价值必须要比您的借贷款还高"},debt$4={term:"债务",definition:"您在Jet借的贷款价值"},collateralizationRatio$4={term:"质押率",definition:"您的抵押品价值除以您的债务价值。 您必须要超额抵押您的借贷款。 您存在Jet的资产市场价值必须要比您的借贷款还高。因为Jet可能会扣押这些抵押品，以便在贷款违约的情况下收回贷款价值。 另请参阅最大 LTV。"},adjustedCollateralizationRatio$4={term:"调整后的质押率",definition:"如果這筆交易成功後的实时质押率"},depositRate$4={term:"存款率",definition:"存款人赚取的即时利率。 该费率以年化形式表示，不反映复利的影响，并且包括可能存在的任何协议费用。 费率变化会随着存入资产利用率而变化。"},borrowRate$4={term:"借贷率",definition:"借款人支付的即时利率。 该费率以年化形式表示，不反映复利的影响，并且包括可能存在的任何协议费用。 利率变化会随着借入资产利用率而变化。"},maximumLtv$4={term:"最高LTV",definition:"贷款价值比（loan to value,简写LTV）是指贷款金额和抵押品价值的比例。 是Jet使用的一种风险度量来决定批准的贷款规模。 您的 LTV 代表您贷款的规模与为贷款提供担保的财产价值之间的关系。 您可以去查看质押率。"},utilisationRate$4={term:"使用率",definition:"已借用储备资产的比例。 例如，如果 USDC 的储备资产价值 100,000 美元，借款人以借用 65,000 美元，则利用率为 65%。 剩下的 35,000 美元可用于进一步借款。"},availLiquidity$4={term:"可用流动性",definition:"资产可以在不影响其市场价格的情况下转换为现成现金的效率或容易程度，或以反映其内在价值的价格在市场上快速买卖"},liquidationPremium$4={term:"清算溢价",definition:"清算溢价是向清算人提供额外的抵押物，清算人偿还低于最低抵押率的账户债务。此额外抵押物的美元价值等于清算溢价乘以已偿还债务的美元价值。 额外的抵押物从被清算用户的账户中支付。"},Jet_Definitions_ZH={collateral:collateral$4,debt:debt$4,collateralizationRatio:collateralizationRatio$4,adjustedCollateralizationRatio:adjustedCollateralizationRatio$4,depositRate:depositRate$4,borrowRate:borrowRate$4,maximumLtv:maximumLtv$4,utilisationRate:utilisationRate$4,availLiquidity:availLiquidity$4,liquidationPremium:liquidationPremium$4},Jet_Definitions_ZH$1=Object.freeze({__proto__:null,collateral:collateral$4,debt:debt$4,collateralizationRatio:collateralizationRatio$4,adjustedCollateralizationRatio:adjustedCollateralizationRatio$4,depositRate:depositRate$4,borrowRate:borrowRate$4,maximumLtv:maximumLtv$4,utilisationRate:utilisationRate$4,availLiquidity:availLiquidity$4,liquidationPremium:liquidationPremium$4,default:Jet_Definitions_ZH}),language$3="한국인",loading$3={transactions:"거래 보내는중...",connectingWallet:"지갑 연결중...",initializing:"Starting Jet Engines",fetchingReserves:"Fetching Reserve Data",fetchingAccount:"Fetching Account Data"},nav$3={cockpit:"조종실",settings:"설정",collapse:"붕괴",getCopilotSuggestion:"부조종사 의견 받기",transactions:"Flight Logs"},cockpit$3={title:"조종실",asset:"자산",detail:"자세히",native:"네이티브",totalValueLocked:"Locked Market Value",totalBorrowed:"총 대출량",availableLiquidity:"사용 가능한 유동성",amountDeposited:"예치된 수량",amountBorrowed:"대출된 수량",depositRate:"예치율",borrowRate:"대출율",airdrop:"에어드랍",totalDepositedValue:"나의 예치 금액",totalBorrowedValue:"나의 대출 금액",yourRatio:"나의 C-Ratio",collateralizationRatio:"담보율",noInputAmount:"금액 입력.",adjustedCollateralization:"조절된 C-Ratio",deposit:"예치",walletBalance:"지갑 잔액",noDepositAmount:"금액 입력",notEnoughAsset:"충분하지 않은 {{ASSET}}.",withdraw:"출금",availableFunds:"이용가능한 Funds",lessFunds:"충분하지 않은 funds",borrow:"대출",maxBorrowAmount:"최대 대출",assetIsCurrentDeposit:"{{ASSET}}을 예치했으므로 대출할 수 없습니다.",noLiquidity:"유동성이 충분하지 않습니다",minCRatio:"이것은 귀하의 포지션을 Jet Protocol의 최소 담보 비율로 설정하여, 귀하의 계정을 청산 영역에 놓이게 할 것입니다. 확실하십니까?",belowMinRatio:"귀하의 담보가 부족합니다. 청산을 피하기 위해 예치하거나 빚을 상환하십시오.",subjectToLiquidation:"이 거래는 담보 비율을 {{NEW-C-RATIO}}%로 낮추어 청산 대상이 되고, 이 대출에는 {{ORIGINATION FEE}}%의 수수료가 부과됩니다. 그래도 대출 하시겠습니까?",confirm:"확인",repay:"상환",amountOwed:"빚진 금액",oweLess:"덜 빚지고 있습니다.",geobanned:"귀하의 지역에서는 Jet Protocol을 사용할 수 없습니다.",noMarket:"Jet marketplace를 초기화하지 못했습니다.",txSuccess:"성공적입니다! {{AMOUNT AND ASSET}} 중 {{TRADE ACTION}}이 접수되었습니다. 거래를 확인해보세요 <a href='{{EXPLORER LINK}}' class='text-gradient' target='_blank' style='margin: unset; font-weight: bold;'>explorer</a>.",txFailed:"거래를 실패하였습니다. 무엇이 잘못되었는지 확인이 불가하므로, 나중에 다시 시도하거나 저희에게 문의하세요.",max:"최대",assetIsCurrentBorrow:"{{ASSET}}을 대출했으므로 예치할 수 없습니다.",belowMinCRatio:"귀화의 담보가 부족합니다. 청산을 피하기 위해 예치하거나 빚을 상환하십시오.",search:"마켓 검색..",noBalanceForDeposit:"지갑에 예치할 {{ASSET}}이 없습니다.",noDepositsForBorrow:"대출을 받기 위해서는 담보를 예치해야 합니다.",noDepositsForWithdraw:"출금할 {{ASSET}}을 예치하지 않았습니다.",noDebtForRepay:"귀하는 {{ASSET}}의 빚이 없습니다.",rejectTrade:"이 거래는 담보 비율을 {{NEW-C-RATIO}}%로 낮추어서, 이는 {{JET MIN C-RATIO}}의 최소 비율보다 낮을 것입니다. 이 대출에는 {{ORIGINATION FEE}}%의 수수료가 부과됩니다. 그래도 대출 하시겠습니까?",insufficientLamports:"거래 수수료에 대한 부담 없이 모든 SOL을 예치하고 있습니다! 약간 낮은 양으로 다시 시도하십시오.",stillUndercollateralized:"Your new C-ratio of {{NEW-C-RATIO}}% is still under Jet's minimum marketplace collateralization ratio of {{JET MIN C-RATIO}}%. Please consider repaying more to avoid liquidation.",txCancelled:"Transaction cancelled."},settings$3={title:"설정",wallet:"지갑",connect:"연결",worldOfDefi:"지갑을 연결해서 Defi의 세계로 오세요.",theme:"테마",light:"Light",dark:"Dark",language:"언어",rpcNode:"RPC Node",current:"Current",defaultNode:"Jet Default",reset:"Reset",noUrl:"Enter a URL",disconnect:"Disconnect Wallet",connected:"Connected"},reserveDetail$3={reserveSize:"비축 규모",availableLiquidity:"사용가능한 유동성",utilisationRate:"이용 비율",viewHistory:"내역 보기",totalBorrowed:"총 대출한 금액",maximumLTV:"최대 LTV",liquidationPremium:"유동성 프리미엄",tradeAsset:"{{ASSET}} 트레이드",minimumCollateralizationRatio:"최소 C-Ratio"},copilot$3={name:"부조종사",header:"부조종사 왔습니다.",okay:"알겠습니다",suggestions:{unhealthy:{overview:"귀하의 계정이 정상적이지 않습니다.",detail:"담보 비율(총 예치 금액을 총 대출 금액으로 나눈 값)은 {{C-RATIO}}%로 Jet 마켓플레이스의 최소 담보 비율인 {{JET MIN C-RATIO}보다 {{RATIO BELOW AMOUNT}}% 낮습니다. }%.",solution:"귀화의 포지션을 바로잡기 위해 담보를 추가로 예치할 수 있지만, 빚을 조종실에서 상환하는 것이 좋습니다.",actionText:"조종실로 가세요"},warning:{tenPercent:{overview:"귀하는 위험할 정도로 청산에 가깝습니다.",detail:"담보 비율(총 예치 금액을 총 대출 금액으로 나눈 값)은 {{C-RATIO}}%로 Jet 마켓플레이스의 최소 담보 비율인 {{JET MIN C-RATIO}}%의 10% 이내입니다.",solution:"청산을 피하기 위해 더 많은 담보를 예치할 수 있습니다.",actionText:"출금"},twentyPercent:{overview:"담보 비율을 주시하십시오.",detail:"귀하의 담보 비율(총 예치 금액을 총 대출 금액으로 나눈 값)은 Jet 마켓플레이스의 최소 담보 비율인 {{JET MIN C-RATIO}}%보다 20% 미만인 {{C-RATIO}}%입니다.",solution:"더 많은 담보를 예치하여 담보 비율을 20% 이상의 정상적인 수준으로 올리십시오.",actionText:"출금"}},deposit:{overview:"현재 {{BEST DEPOSIT RATE NAME}}이 좋아 보입니다.",detail:"<b class='bold'>{{BEST DEPOSIT RATE ABBREV}}</b> has the best deposit <b class='bold'>rate</b> in the market right now at <b class='bold'>{{DEPOSIT RATE}}%</b>, and your account is in good standing so we recommend adding some collateral by depositing a portion of your <b class='bold'>{{USER BALANCE}} {{BEST DEPOSIT RATE ABBREV}}</b>.",actionText:"Let's Do It"},healthy:{overview:"하늘은 맑습니다.",detail:"귀하의 계정은 양호한 상태이며 정상적인 양의 담보가 확보되어 있습니다. 시장을 살펴보고 귀하를 위한 좋은 움직임을 제안할 수 있는지 확인하겠습니다. 나중에 저희에게 확인해주세요!"}},alert:{failed:"메이데이!",success:"성공적!",airdropSuccess:"{{UI AMOUNT}} {{RESERVE ABBREV}} 에어드랍했습니다. 최신화된 잔액을 보려면 앱을 새로고침하세요.",refresh:"새로고침",originationFee:"이 대출에는 {{ORIGINATION FEE}}%의 수수료가 부과됩니다.",headsup:"예의주시하세요!",disclaimer:'You are about to enter the Jet Protocol Mainnet. Do not proceed if you do not understand and accept the Terms of Use, and potential for financial loss. <br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">TERMS OF USE</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">PRIVACY POLICY</a>',accept:"Accept",warning:"WARNING"}},transactions$3={title:"Flight Logs",date:"Date",signature:"Signature",tradeAction:"Transaction",tradeAmount:"Amount",noTrades:"You have no logged transactions with Jet.",entries:"{start} to {end} of {rows}",deposit:"Deposit",withdraw:"Withdraw",borrow:"Borrow",repay:"Repay"},Jet_UI_KR={language:language$3,loading:loading$3,nav:nav$3,cockpit:cockpit$3,settings:settings$3,reserveDetail:reserveDetail$3,copilot:copilot$3,transactions:transactions$3},Jet_UI_KR$1=Object.freeze({__proto__:null,language:language$3,loading:loading$3,nav:nav$3,cockpit:cockpit$3,settings:settings$3,reserveDetail:reserveDetail$3,copilot:copilot$3,transactions:transactions$3,default:Jet_UI_KR}),collateral$3={term:"담보",definition:"대출을 확보하기 위해 protocol에 예치된 자산."},debt$3={term:"빚",definition:"대출의 가치에 대한 빚이 있거나 프로토콜로 인한것 같습니다."},collateralizationRatio$3={term:"담보 비율",definition:"담보 가치를 부채 가치로 나눈 값입니다. 대출을 과도하게 담보로 설정해야 합니다. 예를 들어 예치된 자산의 공정 시장 가치는 대출이 허용된 금액을 초과해야 합니다. 이는 의정서가 대출 불이행 시 대출 가치를 회수하기 위해 이 담보물을 압류할 수 있기 때문에 감소를 제공합니다. 최대 LTV도 참조하십시오."},adjustedCollateralizationRatio$3={term:"조절된 담보 비율",definition:"현재 거래가 제출된 경우, 담보 비율이 얼마인지 실시간으로 표시된 수치."},depositRate$3={term:"예치 이자율",definition:"예금자가 적립하는 순간 이자율. 이 비율은 연간 형식으로 표시되며 복리의 영향을 반영하지 않으며 적용될 수 있는 모든 프로토콜 수수료를 포함합니다. 예치된 자산의 이용 비율이 변함에 따라 비율이 변경됩니다."},borrowRate$3={term:"대출 이자율",definition:"대출인이 지불하는 즉시 이자율. 이 비율은 연간 형식으로 표시되며 복리의 영향을 반영하지 않으며 적용될 수 있는 모든 프로토콜 수수료를 포함합니다. 예치된 자산의 이용 비율이 변함에 따라 비율이 변경됩니다."},maximumLtv$3={term:"최대 LTV",definition:"프로토콜에서 허용하는 대출의 최대 비율입니다. LTV(Loan-to-Value Ratio)는 승인할 대출 규모를 결정할 때 Jet Protocol에서 사용하는 위험 척도입니다. LTV는 대출 규모와 대출을 보장하는 자산 가치 간의 관계를 나타냅니다. 담보 비율도 참조하십시오."},utilisationRate$3={term:"이용 비율",definition:"차용된 준비금 자산의 비율. 예를 들어 USDC 준비금의 가치가 $100,000이고 차용인이 준비금으로 지불해야 하는 금액이 $65,000인 경우 사용률은 65%입니다. 추가로 35,000달러를 빌릴 수 있습니다."},availLiquidity$3={term:"유동성",definition:"자산의 시장 가격에 영향을 미치지 않고 자산을 스테이블 코인으로 전환할 수 있는 효율성 또는 용이성."},liquidationPremium$3={term:"유동성 프리미엄",definition:"최소담보비율 이하로 떨어진 계정의 부채를 상환하는 청산인에게 추가 담보를 제공합니다. 이 추가 담보의 달러 가치는 청산 프리미엄에 상환된 부채의 달러 가치를 곱한 것과 같습니다. 추가 담보는 청산되는 사용자의 계정에서 지급됩니다.\n"},Jet_Definitions_KR={collateral:collateral$3,debt:debt$3,collateralizationRatio:collateralizationRatio$3,adjustedCollateralizationRatio:adjustedCollateralizationRatio$3,depositRate:depositRate$3,borrowRate:borrowRate$3,maximumLtv:maximumLtv$3,utilisationRate:utilisationRate$3,availLiquidity:availLiquidity$3,liquidationPremium:liquidationPremium$3},Jet_Definitions_KR$1=Object.freeze({__proto__:null,collateral:collateral$3,debt:debt$3,collateralizationRatio:collateralizationRatio$3,adjustedCollateralizationRatio:adjustedCollateralizationRatio$3,depositRate:depositRate$3,borrowRate:borrowRate$3,maximumLtv:maximumLtv$3,utilisationRate:utilisationRate$3,availLiquidity:availLiquidity$3,liquidationPremium:liquidationPremium$3,default:Jet_Definitions_KR}),language$2="Русский",loading$2={transactions:"Транзакции отправляются...",connectingWallet:"Кошелёк подключается...",initializing:"Завести Jet двигатели",fetchingReserves:"Получение резервных данных ",fetchingAccount:"Получение учётных данных "},nav$2={cockpit:"Кабина",settings:"Настройки",collapse:"Свернуть",getCopilotSuggestion:"Получить помощь Второго пилота",transactions:"Бортовой журнал"},cockpit$2={title:"Кабина",asset:"Актив",detail:"Подробнее",native:"Базовая",totalValueLocked:"Зарезервированная рыночная стоимость активов",totalBorrowed:"Общая сумма займов",availableLiquidity:"Доступная ликвидность",amountDeposited:"Депозит",amountBorrowed:"Займ",depositRate:"ГПД депозита",borrowRate:"ГПС займа",airdrop:"Airdrop",totalDepositedValue:"Сумма ваших депозитов",totalBorrowedValue:"Сумма ваших займов",yourRatio:"Ваш КО",collateralizationRatio:"Коэффициент обеспечения",noInputAmount:"Введите сумму.",adjustedCollateralization:"Скорректированный КО",deposit:"Пополнить",walletBalance:"Баланс кошелька",noDepositAmount:"Введите сумму",notEnoughAsset:"Недостаточно {{ASSET}}.",withdraw:"вывести",availableFunds:"Доступные средства",lessFunds:"Недостаточно средств",borrow:"Занять",maxBorrowAmount:"Максимальный займ",assetIsCurrentDeposit:"Вы предоставили {{ASSET}} и вы не можете занять его же.",noLiquidity:"Недостаточно ликвидности.",minCRatio:"Это действие приведёт к тому, что ваша позиция достигнет минимума коэффициента обеспечения, и ваш счёт может быть подвергнут ликвидации. Вы уверены?",belowMinRatio:"У вас недостаточно средств в залоге. Пополните залог или верните долг чтобы избежать ликвидации.",subjectToLiquidation:"Эта сделка понизит ваш коэффициент обеспечения до {{NEW-C-RATIO}}%, после чего ваш счёт может быть подвергнут ликвидации. Вы всё-равно хотите занять?",confirm:"Подтвердить",repay:"Вернуть",amountOwed:"Сумма долга",oweLess:"Вы должны меньше.",geobanned:"Jet протокол не доступен в вашем регионе.",noMarket:"площадка Jet не смогла запуститься.",txSuccess:"Успех! Ваш(а) {{TRADE ACTION}} на {{AMOUNT AND ASSET}} получен(а). Проверить транзакцию в <a href='{{EXPLORER LINK}}' class='text-gradient' target='_blank' style='margin: unset; font-weight: bold;'>обозревателе</a>.",txFailed:"Транзакция не прошла. Мы не уверены, что пошло не так. Попробуйте еще раз позже или свяжитесь с нами.",max:"Максимум",assetIsCurrentBorrow:"Вы одолжили {{ASSET}}, поэтому не можете его внести на депозит",belowMinCRatio:"У вас недостаточно средств в залоге. Пополните залог или верните долг чтобы избежать ликвидации.",search:"Поиск валюты",noBalanceForDeposit:"У Вас нету {{ASSET}} в кошельке, чтобы внести на депозит",noDepositsForBorrow:"Вы должны предоставить залог, чтобы вы могли занять.",noDepositsForWithdraw:"Вы не внесли на депозит {{ASSET}} чтобы вывести",noDebtForRepay:"Вы не дожны {{ASSET}}.",rejectTrade:"Сделка понизит ваш коэфициент залог {{NEW-C-RATIO}}%, что будет ниже \n минимального уровня {{JET MIN C-RATIO}}.",insufficientLamports:'Вы пытаетесь внести на депозит все Sol. У Вас не останется "лампорт" на комиссию. Уменьшите сумму Sol и попытайтесь снова ',stillUndercollateralized:"Ваш новый К-рейтинг {{NEW-C-RATIO}}% ниже минимального уровня на Jet's протоколе-  {{JET MIN C-RATIO}}%. Пожалуйста, оплатите больше, чтобы избежать ликвидации.",txCancelled:"Transaction cancelled."},settings$2={title:"Настройки",wallet:"Кошелёк",connect:"Подключиться",worldOfDefi:"Подключить ваш кошелек к миру DeFi.",theme:"Тема",light:"Светлая",dark:"Тёмная",language:"Язык",rpcNode:"RPC нода",current:"Текущая",defaultNode:"Jet Default",reset:"Перезагрузка",noUrl:"Ввести URL",disconnect:"Отключить кошелёк",connected:"Соединено"},reserveDetail$2={reserveSize:"Размер резерва",availableLiquidity:"Доступная ликвидность",utilisationRate:"Коэффициент использования",viewHistory:"Показать историю",totalBorrowed:"Всего занято",maximumLTV:"Максимальный КДЗ",liquidationPremium:"Ликвидационная надбавка",tradeAsset:"Торговать {{ASSET}}",minimumCollateralizationRatio:"Минимальный КО"},copilot$2={name:"Второй пилот",header:"Привет от второго пилота.",okay:"Хорошо",suggestions:{unhealthy:{overview:"Ваш счёт нездоров.",detail:"Ваш коэффициент обеспечения (сумма вашего залога поделённая на сумму ваших займов) сейчас {{C-RATIO}}%, что на {{RATIO BELOW AMOUNT}}% меньше, чем минимальный КО {{JET MIN C-RATIO}}% на торговой площадке Jet.",solution:"Чтобы исправить ваше положение, вы можете внести больше залога, но я вам рекомендую лучше вернуть долг в Кабине.",actionText:"Перейти в Кабину"},warning:{tenPercent:{overview:"Вы опасно близки к ликвидации.",detail:"Ваш коэффициент обеспечения (сумма вашего залога поделённая на сумму ваших займов) сейчас {{C-RATIO}}%, что в пределах 10% минимального КО {{JET MIN C-RATIO}}% на торговой площадке Jet.",solution:"Чтобы избежать ликвидации, вы можете пополнить ваш залог.",actionText:"Пополнить"},twentyPercent:{overview:"Уделите внимание вашему коэффициенту обеспечения.",detail:"Ваш коэффициент обеспечения (сумма вашего залога поделённая на сумму ваших займов) сейчас {{C-RATIO}}%, что менее чем на 20% выше минимального КО {{JET MIN C-RATIO}}% на торговой площадке Jet.",solution:"Повысьте ваш коэффициент обеспечения до здорового уровня 20% или более посредством пополнения вашего залога.",actionText:"Пополнить"}},deposit:{overview:"{{BEST DEPOSIT RATE NAME}} в данный момент выглядит неплохо.",detail:"<b class='bold'>{{BEST DEPOSIT RATE ABBREV}}</b> сейчас предлагает лучшую <b class='bold'>ГПД (годовую процентную доходность)</b> депозита на рынке в <b class='bold'>{{DEPOSIT RATE}}%</b>, и ваш счёт находится в хорошем состоянии, так что мы рекомендуем пополнить ваш залог, используя часть вашего <b class='bold'>{{USER BALANCE}} {{BEST DEPOSIT RATE ABBREV}}</b>.",actionText:"Полетели"},healthy:{overview:"Небо чистое.",detail:"Ваш счёт в хорошем состоянии и имеет здоровый уровень залога, так что я просмотрю рынок и попробую предложить вам какие-то хорошие варианты. Загляните сюда еще раз попозже!"}},alert:{failed:"Неудача!",success:"Успех!",airdropSuccess:"Вы получили Airdrop {{UI AMOUNT}} {{RESERVE ABBREV}}.\nПожалуйста, обновите страницу чтобы увидеть новый баланс.",refresh:"Обновить",originationFee:"Этот займ выдается с комиссией {{ORIGINATION FEE}}%",headsup:"Внимание!",disclaimer:'Вы подключились к Jet Protocol mainnet. Не продолжайте, если Вы не ознакомились или не приняли условия пользования, или не готовы к потенциальным финансовым убыткам.  <br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">TERMS OF USE</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">PRIVACY POLICY</a>',accept:"Принять",warning:"Внимание"}},transactions$2={title:"Бортовой журнал",date:"Дата",signature:"Подпись",tradeAction:"Транзакция",tradeAmount:"Сумма",noTrades:"У Вас нету зарегистрированных транзакций в Jet",entries:"{start} до {end} из {rows}",deposit:"Пополнить",withdraw:"Вывести",borrow:"Одолжить",repay:"Оплатить"},Jet_UI_RU={language:language$2,loading:loading$2,nav:nav$2,cockpit:cockpit$2,settings:settings$2,reserveDetail:reserveDetail$2,copilot:copilot$2,transactions:transactions$2},Jet_UI_RU$1=Object.freeze({__proto__:null,language:language$2,loading:loading$2,nav:nav$2,cockpit:cockpit$2,settings:settings$2,reserveDetail:reserveDetail$2,copilot:copilot$2,transactions:transactions$2,default:Jet_UI_RU}),collateral$2={term:"Залог",definition:"Актив, который вы предоставляете нам для обеспечения вашего займа. В случае невыполнения обязательств, Jet протокол конфискует и использует этот актив, чтобы возместить стоимость вашего займа."},debt$2={term:"Долг",definition:"Сумма, которую вы должны, или которая подлежит возврату Jet протоколу."},collateralizationRatio$2={term:"Коэффициент обеспечения или КО",definition:"Стоимость вашего залога, разделенная на стоимость вашего долга. Вы должны предоставить залог больше, чем размер вашего долга, то есть справедливая рыночная стоимость ваших активов в залоге должна превышать сумму, которую вам разрешено брать в долг."},adjustedCollateralizationRatio$2={term:"Скорректированный коэффициент обеспечения",definition:"Прогноз в реальном времени того, каким примерно будет ваш коэффициент обеспечения, если будет совершена текущая сделка."},depositRate$2={term:"ГПД депозита",definition:"Общая сумма процентов, которые вы зарабатываете на депозитном счете за один год, при условии, что вы не добавляете и не снимаете средства в течение всего года. Годовая процентная доходность (ГПД) включает вашу процентную ставку и частоту начисления сложных процентов, то есть процент, который вы зарабатываете на свою основную сумму, плюс проценты с вашей прибыли."},borrowRate$2={term:"ГПС займа",definition:"Годовая процентная ставка (ГПС), взимаемая по займу сроком на один год. При этом учитывается эффект начисления сложных процентов в течение периода займа, что означает, что он отражает проценты, и также начисления на ранее накопленные проценты."},maximumLtv$2={term:"Максимальный КДЗ",definition:"Коэффициент долг/залог (КДЗ) - мера риска, используемая программой Jet при принятии решения об утверждении размера займа. Коэффициент вашего долга к залогу (КДЗ) представляет собой отношение между размером займа, который вы берете, и стоимостью имущества (залога), обеспечивающего займ. См. также: коэффициент обеспечения."},utilisationRate$2={term:"Коэффициент использования",definition:"Фактически используемая часть потенциального выхода этой пары ликвидности в рамках программы Jet. Это функция от общей заёмной стоимости по отношению к размеру резерва."},availLiquidity$2={term:"Ликвидность",definition:"Эффективность или легкость, с которой актив можно конвертировать в наличные деньги, не влияя на его рыночную цену, или быстро купить или продать на рынке по цене, отражающей его внутреннюю стоимость."},liquidationPremium$2={term:"Ликвидационная надбавка",definition:"Процент (%) надбавки к дефициту обеспечения займа, применяемый к ликвидационной стоимости пользовательского залога."},Jet_Definitions_RU={collateral:collateral$2,debt:debt$2,collateralizationRatio:collateralizationRatio$2,adjustedCollateralizationRatio:adjustedCollateralizationRatio$2,depositRate:depositRate$2,borrowRate:borrowRate$2,maximumLtv:maximumLtv$2,utilisationRate:utilisationRate$2,availLiquidity:availLiquidity$2,liquidationPremium:liquidationPremium$2},Jet_Definitions_RU$1=Object.freeze({__proto__:null,collateral:collateral$2,debt:debt$2,collateralizationRatio:collateralizationRatio$2,adjustedCollateralizationRatio:adjustedCollateralizationRatio$2,depositRate:depositRate$2,borrowRate:borrowRate$2,maximumLtv:maximumLtv$2,utilisationRate:utilisationRate$2,availLiquidity:availLiquidity$2,liquidationPremium:liquidationPremium$2,default:Jet_Definitions_RU}),language$1="Türkçe\n",loading$1={transactions:"İşleminiz yapılıyor...",connectingWallet:"Cüzdan bağlanıyor...",initializing:"Jet Motorları Çalıştırılıyor",fetchingReserves:"Yedek Veriler Sağlanıyor",fetchingAccount:"Hesap Bilgisi Sağlanıyor"},nav$1={cockpit:"Kokpit",settings:"Ayarlar",collapse:"Daralt",getCopilotSuggestion:"Yardımcı pilot önerisi alın.",transactions:"Uçuş Kayıtları"},cockpit$1={title:"Kokpit",asset:"Varlık",detail:"Detay",native:"Özgün",totalValueLocked:"Kilitli Piyasa Değeri",totalBorrowed:"Toplam Ödünç Alınan",availableLiquidity:"Uygun Likidite",amountDeposited:"Yatırılan",amountBorrowed:"Ödünç alınmış",depositRate:"Yatırma Oranı",borrowRate:"Borç alma Oranı",airdrop:"Airdrop",totalDepositedValue:"Yatırılan varlık değeriniz",totalBorrowedValue:"Ödünç Aldığınız Varlık",yourRatio:"C-Oranınız",collateralizationRatio:"Teminat Oranı",noInputAmount:"Miktar girin",adjustedCollateralization:"Düzeltilmiş C-Oranı",deposit:"Yatırma",walletBalance:"Cüzdan Bakiyesi",noDepositAmount:"Miktar girin",notEnoughAsset:"Yeterli {{ASSET}} yok.",withdraw:"Çekim",availableFunds:"Kullanılabilir Fonlar",lessFunds:"Yeterli fon yok",borrow:"Borç al",maxBorrowAmount:"Maksimum Borç",assetIsCurrentDeposit:"{{ASSET}} yatırdığınız için ödünç alamazsınız.",noLiquidity:"Yeterli likidite yok.",minCRatio:"Bu işlem, pozisyonunuzu minimum teminat oranına alacaktır. Dolayısıyla hesabınız, likidasyon bölgesine girecektir. Bu işlemi yapmayı istediğinize emin misiniz?",belowMinRatio:"Yeterli teminata sahip değilsiniz. Likidasyondan kaçınmak için para yatırın veya borcunuzu geri ödeyin.",subjectToLiquidation:"Bu işlem, likidasyon oranınızı %{{NEW-C-RATIO}} 'ya düşürür ve bu da sizi likidasyona tabi kılar. Yine de ödünç almak ister misin?",confirm:"Onayla",repay:"Geri öde",amountOwed:"Borçlu Tutar",oweLess:"Daha az borçlusun.",geobanned:"Jet Protocol bölgenizde kullanılamıyor.",noMarket:"Jet pazaryerini başlatamadık.",txSuccess:"Başarılı! {{AMOUNT AND ASSET}} tutarındaki  {{TRADE ACTION}} alındı. <a href='{{EXPLORER LINK}}' class='text-gradient' target='_blank' style='margin: unset; font-weight: bold;'>explorer</a>'da işleme göz atın.",txFailed:"İşlem başarısız. Neyin yanlış gittiğinden emin değilim, lütfen daha sonra tekrar deneyin veya bizimle iletişime geçin.",max:"Maksimum",assetIsCurrentBorrow:"{{ASSET}} ödünç aldınız ve bu nedenle yatıramazsınız.",belowMinCRatio:"Teminatınız yetersiz. Likidasyondan kaçınmak için para yatırın veya borcunuzu geri ödeyin.",search:"Pazar arama..",noBalanceForDeposit:"Yatırmak istediğiniz {{ASSET}} varlığı cüzdanınızda bulunmuyor. ",noDepositsForBorrow:"Ödünç almak için teminat yatırmanız gerekiyor.",noDepositsForWithdraw:"Çekme istediğiniz herhangi bir {{ASSET}} yatırımınız yok. ",noDebtForRepay:"Hiç {{ASSET}} borcunuz yok.",rejectTrade:"Bu ticaret, sizin yeni teminat oranınızı {{NEW-C-RATIO}}% minimum oranımız olan {{JET MIN C-RATIO}} altına düşürebilir. Borcun oluşturulması için ayrıca bir komisyon daha bulunmaktadır {{ORIGINATION FEE}}%. Hala borç almak istediğinize emin misiniz?",insufficientLamports:"İşlem ücretlerini dahi karşılamayacak kadar çok SOL yatırıyorsunuz. Şu ankinden daha az bir miktar kullanarak yeniden deneyin. ",stillUndercollateralized:"Yeni C-oranınız {{NEW-C-RATIO}}% hala Jet Protocol'ün minimum piyasa teminat oranı",txCancelled:"Transaction cancelled."},settings$1={title:"Ayarlar",wallet:"Cüzdan",connect:"Bağlan",worldOfDefi:"Cüzdanınızı DeFi dünyasına bağlayın.",theme:"Tema",light:"Aydınlık",dark:"Karanlık",language:"Dil",rpcNode:"RPC Düğümü",current:"Şu andaki",defaultNode:"Jet varsayılan",reset:"Sıfırla",noUrl:"URL girin",disconnect:"Cüzdan Bağlantısını Sonlandır",connected:"Bağlandı"},reserveDetail$1={reserveSize:"Rezerv Büyüklüğü",availableLiquidity:"Mevcut Likidite",utilisationRate:"Kullanım Oranı",viewHistory:"İşlem geçmişini görüntüle",totalBorrowed:"Toplam Borç",maximumLTV:"Maksimum Borç-Değer Oranı",liquidationPremium:"Premium Likidasyon",tradeAsset:"{{ASSET}} Ticareti",minimumCollateralizationRatio:"Minimum C-Oranı"},copilot$1={name:"Yardımcı Pilot",header:"Yardımcı pilot burada.",okay:"Okay",suggestions:{unhealthy:{overview:"Hesabınız sağlıksız.",detail:"Teminat Oranınız (toplam yatırdığınız değerin toplam ödünç aldığınız değere oranı) %{{C-RATIO}} olup, Jet pazarının minimum teminatlandırma oranı olan %{{JET MIN C-RATIO}} değerinden %{{RATIO BELOW AMOUNT}} daha düşüktür.",solution:"Pozisyonunuzu doğrultmak için daha fazla teminat yatırabilirsiniz ancak borcunuzu Kokpit'te ödemenizi öneririm.",actionText:"Kokpite Git"},warning:{tenPercent:{overview:"Tehlikeli bir şekilde likidasyona yakınsınız.",detail:"Teminat Oranınız (toplam yatırdığınız değerin toplam ödünç aldığınız değere bölümü) %{{C-RATIO}} olup, Jet pazarının minimum teminatlandırma oranı olan %{{JET MIN C-RATIO}} %10'luk kısım içindedir.",solution:"Likidasyondan kaçınmak için daha fazla teminat yatırabilirsiniz.",actionText:"Yatırma"},twentyPercent:{overview:"Teminat oranınıza dikkat edin.",detail:"Teminat Oranınız (toplam yatırdığınız değerin toplam ödünç aldığınız değere bölümü) %{{C-RATIO}} 'dur ve bu, Jet pazarının minimum teminatlandırma oranı olan %{{JET MIN C-RATIO}} 'nın %20 üzerindedir.",solution:"Daha fazla teminat yatırarak teminatlandırma oranınızı, sağlıklı olarak kabul edilen %20 veya daha yüksek seviyelere çıkartın.",actionText:"Yatırma"}},deposit:{overview:"{{BEST DEPOSIT APY NAME}} şu anda iyi görünüyor.",detail:"<b class='bold'>{{BEST DEPOSIT APY ABBREV}}</b> şu anda piyasadaki en iyi mevduata sahip <b class='bold'>APY (Yıllık Yüzde Getiri)</b> <b class='bold'>%{{DEPOSIT APY}}</b> ve hesabınız iyi durumda olduğundan, <b class='bold'>{{USER BALANCE}}</b> hesabınızdaki varlıkların bir kısmını yatırarak bir miktar teminat eklemenizi öneririz <b class='bold'>{{BEST DEPOSIT APY ABBREV}}</b>.",actionText:"Haydi uçalım"},healthy:{overview:"Gökler açık",detail:"Hesabınız iyi durumda ve sağlıklı bir şekilde fazla teminatlandırılmış durumda, piyasaya bir göz atıp sizin için iyi hamleler önerebilecek miyim bir bakayım. Daha sonra tekrar kontrol edin!"}},alert:{failed:"İmdat!",success:"Başarılı!",airdropSuccess:"Size {{UI AMOUNT}} {{RESERVE ABBREV}} değerindeki varlığı Airdrop'la gönderdik. Yeni bakiyenizi görmek için lütfen uygulamayı yenileyin.",refresh:"Yenile",originationFee:"Bu borca ilişkin {{ORIGINATION FEE}}% kadar oluşturulma komisyonu bulunmaktadır. ",headsup:"Dikkat buraya!",disclaimer:'JetProtocol mainnet\'e erişiyorsunuz. Yeterince bilgiye sahip değilseniz ilerlemeyin, şartları veya olası kayıpları kabul etmeyin.  <br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">TERMS OF USE</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">PRIVACY POLICY</a>',accept:"Kabul Et",warning:"UYARI"}},transactions$1={title:"Uçuş Kayırları",date:"Tarih",signature:"İmza",tradeAction:"İşlem",tradeAmount:"Miktar",noTrades:"Jet ile herhangi bir kayda geçmiş işleminiz bulunamadı",entries:"{rows}'ların {start}'ından {end}'una kadar",deposit:"Yatır",withdraw:"Çek",borrow:"Ödünç Al",repay:"Geri Öde"},Jet_UI_TR={language:language$1,loading:loading$1,nav:nav$1,cockpit:cockpit$1,settings:settings$1,reserveDetail:reserveDetail$1,copilot:copilot$1,transactions:transactions$1},Jet_UI_TR$1=Object.freeze({__proto__:null,language:language$1,loading:loading$1,nav:nav$1,cockpit:cockpit$1,settings:settings$1,reserveDetail:reserveDetail$1,copilot:copilot$1,transactions:transactions$1,default:Jet_UI_TR}),collateral$1={term:"\nTeminat",definition:"Borcunuzu güvence altına almak için bize yatırdığınız varlık. Borcunuzun temerrüde düşmesi durumunda, Jet kredinin değerini geri alabilmek için bu teminatı alacaktır."},debt$1={term:"\nBorç",definition:"Jet Protokolü'ne borçlu olunan veya ödenmesi gereken kredi tutarı"},collateralizationRatio$1={term:"Teminatlandırma Oranı veya C-Oranı",definition:"\nTeminatınızın değeri, borcunuzun değerine bölünür. Borcunuzu fazla teminat altına almanız gerekmektedir. Yani yatırılan varlıklarınızın piyasa değeri, ödünç almanıza izin verilen tutarın değerini aşmalıdır."},adjustedCollateralizationRatio$1={term:"\nDüzeltilmiş Teminat Oranı",definition:"Mevcut işlemin gerçekleşmesi halinde teminatlandırma oranınızın potansiyel olarak ne olacağının gerçek zamanlı bir temsili."},depositRate$1={term:"Yatırma APY'si",definition:"\nTüm yıl boyunca para eklemediğinizi veya çekmediğinizi varsayarsak, bir mevduat hesabında bir yıl boyunca kazandığınız toplam faiz tutarı. Yıllık yüzde getirisi (APY), faiz oranınızı ve anaparanızdan kazandığınız faiz artı kazançlarınızın faizi olan bileşik faiz sıklığını içerir."},borrowRate$1={term:"Borç APR'si",definition:"Bir yıl boyunca bir krediye uygulanan yıllık yüzde oranı (APR). Bu, kredi döneminde bileşik faizin etkisini hesaba katar, yani daha önce birikmiş faizle kazanılan faizi de yansıtır."},maximumLtv$1={term:"\nMaksimum LTV",definition:"Kredi-değer oranı, Jet programı tarafından ne kadar büyük bir kredinin onaylanacağına karar verirken kullanılan bir risk ölçüsüdür. Kredi-değer oranınız (LTV), aldığınız kredinin büyüklüğü ile krediyi güvence altına alan varlıkların değeri arasındaki ilişkiyi temsil eder. Ayrıca bakınız: teminatlandırma oranı."},utilisationRate$1={term:"Kullanım Oranı",definition:"Likidite çiftinin Jet programı içindeki potansiyel getirisini fiilen kullanılan miktarı. Bu, rezerv büyüklüğüne karşı toplam ödünç alınan değerin bir fonksiyonudur."},availLiquidity$1={term:"Likidite",definition:"Bir varlığın piyasa fiyatını etkilemeden hazır nakde dönüştürülebilmesi veya gerçek değerini yansıtan bir fiyattan piyasada hızla alınıp satılabilmesinin etkinliği veya kolaylığı."},liquidationPremium$1={term:"Premium Likidasyon",definition:"Kullanıcının varlıklarına likidasyon sırasında uygulanan teminat açığındaki (%) artış"},Jet_Definitions_TR={collateral:collateral$1,debt:debt$1,collateralizationRatio:collateralizationRatio$1,adjustedCollateralizationRatio:adjustedCollateralizationRatio$1,depositRate:depositRate$1,borrowRate:borrowRate$1,maximumLtv:maximumLtv$1,utilisationRate:utilisationRate$1,availLiquidity:availLiquidity$1,liquidationPremium:liquidationPremium$1},Jet_Definitions_TR$1=Object.freeze({__proto__:null,collateral:collateral$1,debt:debt$1,collateralizationRatio:collateralizationRatio$1,adjustedCollateralizationRatio:adjustedCollateralizationRatio$1,depositRate:depositRate$1,borrowRate:borrowRate$1,maximumLtv:maximumLtv$1,utilisationRate:utilisationRate$1,availLiquidity:availLiquidity$1,liquidationPremium:liquidationPremium$1,default:Jet_Definitions_TR}),language="Deutsch",loading={transactions:"Sende Transaktionen...",connectingWallet:"Verbinde mit Wallet...",initializing:"Starte Düsentriebwerk",fetchingReserves:"Lade Reserve-Daten",fetchingAccount:"Lade Account-Daten"},nav={cockpit:"Cockpit",settings:"Einstellungen",collapse:"Einklappen",getCopilotSuggestion:"Vorschlag vom Co-Piloten holen",transactions:"Flugbuch"},cockpit={title:"Cockpit",asset:"Asset",detail:"Details",native:"Nativ",totalValueLocked:"Totaler Marktwert",totalBorrowed:"Total ausgeliehen",availableLiquidity:"Verfügbare Liquidität",amountDeposited:"Eingezahlt",amountBorrowed:"Ausgeliehen",depositRate:"Habenzins",borrowRate:"Sollzins",airdrop:"Airdrop",totalDepositedValue:"Ihr eingezahlter Wert",totalBorrowedValue:"Ihr ausgeliehener Wert",yourRatio:"Ihr Besicherungsgrad",collateralizationRatio:"Besicherungsgrad",noInputAmount:"Betrag eingeben.",adjustedCollateralization:"Angepasster Besicherungsgrad",deposit:"Einzahlen",walletBalance:"Wallet-Guthaben",noDepositAmount:"Betrag eingeben.",notEnoughAsset:"Nicht genügend {{ASSET}}.",withdraw:"Auszahlen",availableFunds:"Verfügbare Mittel",lessFunds:"Mittel nicht ausreichend",borrow:"Ausleihen",maxBorrowAmount:"Maximaler Ausleihebetrag",assetIsCurrentDeposit:"Sie haben {{ASSET}} einbezahlt und können ihn aus diesem Grund nicht ausleihen.",noLiquidity:"Unzureichende Liquidität",minCRatio:"Dies wird Ihre Position auf den minimalen Besicherungsgrad setzen und somit Ihr Account im Liquidiationsbereich platzieren. Sind Sie sicher?",belowMinRatio:"Ihre Position ist unzureichend gedeckt. Tätigen Sie eine Einzahlung oder Rückzahlung, um eine Liquidation zu vermeiden.",subjectToLiquidation:"Diese Transaktion senkt Ihren Besicherungsgrad auf {{NEW-C-RATIO}}%, was eine Liquidation Ihrer Position möglich macht. Möchten Sie trotzdem ausleihen?",confirm:"Bestätigen",repay:"Zurückzahlen",amountOwed:"Schulden",oweLess:"Sie schulden weniger.",geobanned:"Jet Protocol ist nicht verfügbar in Ihrer Region.",noMarket:"Der Jet-Marktplatz konnte nicht initialisiert werden.",txSuccess:"Ihr(e) {{TRADE ACTION}} von {{AMOUNT AND ASSET}} wurde erhalten.",txFailed:"Transaktion fehlgeschlagen.",max:"Max",assetIsCurrentBorrow:"Sie haben {{ASSET}} ausgeliehen und können ihn aus diesem Grund nicht einzahlen.",belowMinCRatio:"Ihr Account ist untergedeckt. Machen Sie eine Einzahlung oder Rückzahlung, um eine Liquidation zu vermeiden.",search:"Markt suchen...",noBalanceForDeposit:"Sie haben keine {{ASSET}} in Ihrer Wallet für eine Einzahlung.",noDepositsForBorrow:"Sie müssen Sicherheiten einzahlen, um ausleihen zu konnen.",noDepositsForWithdraw:"Sie haben keine {{ASSET}} eingezahlt, welche ausgezahlt werden können.",noDebtForRepay:"Sie schulden keine {{ASSET}}.",rejectTrade:"Diese Transaktion würde Ihr Besicherungsgrad auf {{NEW-C-RATIO}}% senken, was unter unserem Minimum von {{JET MIN C-RATIO}} wäre. Möchten Sie trotzdem ausleihen?",insufficientLamports:"Sie zahlen alle Ihre SOL ein, ohne Lamports für Transaktionsgebühren übrig zu lassen! Bitte erneut versuchen mit einem wenig kleineren Betrag.",stillUndercollateralized:"Ihr neuer Besicherungsgrad von {{NEW-C-RATIO}}% ist immer noch unter Jet's minimalen Besicherungsgrad von {{JET MIN C-RATIO}}%. Bitte erwägen Sie eine weitere Rückzahlung, um eine Liquidation zu vermeiden.",txCancelled:"Transaction cancelled."},settings={title:"Einstellungen",wallet:"Wallet",connect:"Wallet verbinden",worldOfDefi:"Verbinden Sie Ihre Wallet mit der DeFi-Welt.",theme:"Theme",light:"Hell",dark:"Dunkel",language:"Sprache",rpcNode:"RPC Node",current:"Aktuell",defaultNode:"Jet Standard",reset:"Zurücksetzen",noUrl:"URL eingeben",disconnect:"Wallet trennen",connected:"verbunden"},reserveDetail={reserveSize:"Grösse der Reserve",availableLiquidity:"Verfügbare Liquidität",utilisationRate:"Nutzungsquote",viewHistory:"Verlauf",totalBorrowed:"Total ausgeliehen",maximumLTV:"Maximale Beleihungsquote",liquidationPremium:"Liquidationszuschlag",tradeAsset:"{{ASSET}} handeln",minimumCollateralizationRatio:"Minimaler Besicherungsgrad"},copilot={name:"Co-Pilot",header:"Hey, Co-Pilot hier.",okay:"Okay",suggestions:{unhealthy:{overview:"Ihr Account ist ungesund.",detail:"Ihr Besicherungsgrad (Total eingezahlter Wert / Total ausgeliehener Wert) ist {{C-RATIO}}%, was {{RATIO BELOW AMOUNT}}% weniger als der minimale Besicherungsgrad vom Jet-Marktplatz von {{JET MIN C-RATIO}}% ist.",solution:"Um Ihre Position zu korrigieren, können Sie mehr Sicherheiten einzahlen, aber ich schlage Ihnen die Rückzahlung der Schulden im Cockpit vor.",actionText:"Zum Cockpit"},warning:{tenPercent:{overview:"Sie sind gefährlich nahe an einer Liquidation.",detail:"Ihr Besicherungsgrad (Total eingezahlter Wert / Total ausgeliehener Wert) ist {{C-RATIO}}%, was innerhalb von 10% vom minimalen Besicherungsgrad vom Jet-Marktplatz von {{JET MIN C-RATIO}}% ist.",solution:"Um eine Liquidiation zu vermeiden, können Sie mehr Sicherheiten einzahlen.",actionText:"Einzahlen"},twentyPercent:{overview:"Behalten Sie ein Auge auf Ihren Besicherungsgrad.",detail:"Ihr Besicherungsgrad (Total eingezahlter Wert / Total ausgeliehener Wert) ist {{C-RATIO}}%, was weniger als 20% über dem minimalen Besicherungsgrad vom Jet-Marktplatz von {{JET MIN C-RATIO}}% ist.",solution:"Erhöhen Sie Ihren Besicherungsgrad zu gesunden Levels von 20% oder mehr, indem Sie mehr Sicherheiten einzahlen.",actionText:"Einzahlen"}},deposit:{overview:"{{BEST DEPOSIT RATE NAME}} sieht momentan gut aus.",detail:"<b class='bold'>{{BEST DEPOSIT RATE ABBREV}}</b> hat momentan den besten <b class='bold'>Habenzins</b> auf dem Marktplatz mit <b class='bold'>{{DEPOSIT RATE}}%</b>, und Ihr Account ist in gutem Zustand - somit empfehlen wir das Hinzufügen von Sicherheiten durch die Einzahlung eines Teils Ihrer <b class='bold'>{{USER BALANCE}} {{BEST DEPOSIT RATE ABBREV}}</b>.",actionText:"Machen wir es"},healthy:{overview:"Der Himmel ist klar.",detail:"Ihr Account ist in gutem Zustand und gesund übergedeckt, lassen Sie mich den Markt anschauen und prüfen, ob ich gute Bewegungen vorschlagen kann. Kommen Sie später vorbei!"}},alert:{failed:"Mayday!",success:"Erfolg!",airdropSuccess:"Wir haben Ihnen {{UI AMOUNT}} {{RESERVE ABBREV}} geschenkt.",refresh:"Aktualisieren",originationFee:"Eine Gebühr von {{ORIGINATION FEE}}% ist mit diesem Kredit verknüpft.",headsup:"Achtung!",disclaimer:'Sie sind im Begriff, das Jet Protocol Mainnet zu betreten. Fahren Sie nicht fort, wenn Sie die Nutzungsbedindungen sowie das Potential für finanzielle Verluste nicht verstehen und akzeptieren.<br/><br/><a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="bicyclette-bold text-gradient">NUTZUNGSBEDINGUNGEN</a> <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="bicyclette-bold text-gradient">DATENSCHUTZBESTIMMUNGEN</a>',accept:"Akzeptieren",warning:"WARNUNG"}},transactions={title:"Flugbuch",date:"Datum",signature:"Signatur",tradeAction:"Transaktion",tradeAmount:"Betrag",noTrades:"Sie haben keine erfassten Transaktionen mit Jet.",entries:"{start} bis {end} von {rows}",deposit:"Einzahlung",withdraw:"Auszahlung",borrow:"Ausleihen",repay:"Zurückzahlen"},Jet_UI_DE={language:language,loading:loading,nav:nav,cockpit:cockpit,settings:settings,reserveDetail:reserveDetail,copilot:copilot,transactions:transactions},Jet_UI_DE$1=Object.freeze({__proto__:null,language:language,loading:loading,nav:nav,cockpit:cockpit,settings:settings,reserveDetail:reserveDetail,copilot:copilot,transactions:transactions,default:Jet_UI_DE}),collateral={term:"Sicherheit",definition:"Der eingezahlte Asset für die Deckung des Kredits."},debt={term:"Schulden",definition:"Der Betrag des Kredits, welcher dem Protokoll geschuldet wird."},collateralizationRatio={term:"Besicherungsgrad",definition:"Der Wert Ihrer Sicherheit geteilt durch den Wert Ihrer Schulden. Sie sind verpflichtet, Ihren Kredit zu überdecken, d.h. der gerechte Marktwert Ihrer eingezahlten Assets muss den Wert Ihrer maximalen Schulden übersteigen. So ist es dem Protokoll möglich, diese Sicherheit zu pfänden, um bei einem Kreditausfall den Wert der Schulden decken zu können. Siehe auch Maximale Beleihungsquote."},adjustedCollateralizationRatio={term:"Angepasster Besicherungsgrad",definition:"Eine Echtzeit-Repräsentation der möglichen Auswirkung der aktuellen Transaktion auf den Besicherungsgrad."},depositRate={term:"Habenzinssatz",definition:"Der unmittelbare Zinssatz, welcher auf die eingezahlten Assets verdient wird. Der Zins wird auf Jahresbasis angegeben, reflektiert keine Aufzinsung, und beinhaltet allfällige Protokoll-Gebühren. Der Zinssatz verändert sich mit der Veränderung der Nutzungsquote des eingezahlten Assets."},borrowRate={term:"Sollzinssatz",definition:"Der unmittelbare Zinssatz, welcher auf die ausgeliehenen Assets bezahlt wird. Der Zins wird auf Jahresbasis angegeben, reflektiert keine Aufzinsung, und beinhaltet allfällige Protokoll-Gebühren. Der Zinssatz verändert sich mit der Veränderung der Nutzungsquote des ausgeliehenen Assets."},maximumLtv={term:"Maximale Beleihungsquote",definition:"Die maximale vom Protokoll erlaubte Quote eines Kredits. Die Beleihungsquote ist ein Risikomass, welches vom Jet Protocol für die Bestimmung des maximal erlaubten Kreditbetrags genutzt wird. Ihre Beleihungsquote repräsentiert die Beziehung zwischen der Grösse des aufgenommenen Kredits gegenüber den als Sicherheit hinterlegten Assets. Siehe auch Besicherungsgrad."},utilisationRate={term:"Nutzungsquote",definition:"Der Anteil einer Währungsreserve, welcher ausgeliehen wurde. Als Beispiel, falls die USDC-Reserve $100'000 wert ist und der geschuldete Betrag aller Schuldner $65'000 ist, ist die Nutzungsquote bei 65%. So wären noch $35'000 fürs Ausleihen verfügbar."},availLiquidity={term:"Liquidität",definition:"Die Effizienz oder Einfachheit, mit welcher ein Asset in Stablecoins konvertiert werden kann, ohne den Marktpreis zu beeinflussen."},liquidationPremium={term:"Liquidationszuschlag",definition:"Zusätzliche Sicherheiten werden den Liquidatoren, welche die Schulden von Accounts unterhalb des minimalen Besicherungsgrads zurückzahlen, gutgeschrieben. Der Dollar-Wert dieser zusätzlichen Sicherheiten wird aus dem Produkt des Liquidationszuschlags und dem Dollar-Wert der rückbezahlten Schulden berechnet. Die zusätzlichen Sicherheiten werden aus dem Account des liquidierten Nutzers bezahlt."},Jet_Definitions_DE={collateral:collateral,debt:debt,collateralizationRatio:collateralizationRatio,adjustedCollateralizationRatio:adjustedCollateralizationRatio,depositRate:depositRate,borrowRate:borrowRate,maximumLtv:maximumLtv,utilisationRate:utilisationRate,availLiquidity:availLiquidity,liquidationPremium:liquidationPremium},Jet_Definitions_DE$1=Object.freeze({__proto__:null,collateral:collateral,debt:debt,collateralizationRatio:collateralizationRatio,adjustedCollateralizationRatio:adjustedCollateralizationRatio,depositRate:depositRate,borrowRate:borrowRate,maximumLtv:maximumLtv,utilisationRate:utilisationRate,availLiquidity:availLiquidity,liquidationPremium:liquidationPremium,default:Jet_Definitions_DE});const dictionary={en:Jet_UI_EN$1,zh:Jet_UI_ZH$1,ru:Jet_UI_RU$1,tr:Jet_UI_TR$1,kr:Jet_UI_KR$1,de:Jet_UI_DE$1},definitions={en:Jet_Definitions_EN$1,zh:Jet_Definitions_ZH$1,ru:Jet_Definitions_RU$1,tr:Jet_Definitions_TR$1,kr:Jet_Definitions_KR$1,de:Jet_Definitions_DE$1},SECONDS_PER_HOUR=new bn$1(3600),SECONDS_PER_DAY=SECONDS_PER_HOUR.muln(24),SECONDS_PER_WEEK=SECONDS_PER_DAY.muln(7),MAX_ACCRUAL_SECONDS=SECONDS_PER_WEEK,FAUCET_PROGRAM_ID=new PublicKey("4bXpkKSV8swHSnwqtzuboGPaPDeEgAn4Vt8GfarV5rZt");let program,market$1,user$1,idl,customProgramErrors,connection,confirmedSignatures,currentSignaturesIndex=0;PROGRAM.subscribe((e=>program=e)),MARKET.subscribe((e=>market$1=e)),USER.subscribe((e=>user$1=e)),CUSTOM_PROGRAM_ERRORS.subscribe((e=>customProgramErrors=e)),CONNECTION.subscribe((e=>connection=e)),ANCHOR_CODER.subscribe((e=>e));const inDevelopment=-1!==window.location.hostname.indexOf("devnet"),rollbar=new Rollbar({accessToken:"e29773335de24e1f8178149992226c5e",captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:inDevelopment?"devnet":"mainnet"}}),getIDLAndAnchorAndMarketPubkeys=async()=>{const e="idl/undefined/jet.json";console.log(`Loading IDL from ${e}`);const t=await fetch(e);idl=await t.json();const r=parseIdlMetadata(idl.metadata);IDL_METADATA.set(r),CUSTOM_PROGRAM_ERRORS.set(idl.errors),ANCHOR_CODER.set(new Coder(idl));const n=localStorage.getItem("jetPreferredNode");try{const e=new Connection(n??r.cluster,Provider.defaultOptions().commitment);CONNECTION.set(e),USER.update((e=>(e.rpcNode=n,e)))}catch{const e=new Connection(r.cluster,Provider.defaultOptions().commitment);CONNECTION.set(e),localStorage.removeItem("jetPreferredNode"),USER.update((e=>(e.rpcNode=null,e)))}const i={};for(const e of r.reserves){let t={name:e.name,abbrev:e.abbrev,marketSize:TokenAmount.zero(e.decimals),outstandingDebt:TokenAmount.zero(e.decimals),utilizationRate:0,depositRate:0,borrowRate:0,maximumLTV:0,liquidationPremium:0,price:0,decimals:e.decimals,depositNoteExchangeRate:new bn$1(0),loanNoteExchangeRate:new bn$1(0),accruedUntil:new bn$1(0),config:{utilizationRate1:0,utilizationRate2:0,borrowRate0:0,borrowRate1:0,borrowRate2:0,borrowRate3:0,minCollateralRatio:0,liquidationPremium:0,manageFeeCollectionThreshold:new bn$1(0),manageFeeRate:0,loanOriginationFee:0,liquidationSlippage:0,_reserved0:0,liquidationDexTradeMax:0,_reserved1:[]},accountPubkey:e.accounts.reserve,vaultPubkey:e.accounts.vault,availableLiquidity:TokenAmount.zero(e.decimals),feeNoteVaultPubkey:e.accounts.feeNoteVault,tokenMintPubkey:e.accounts.tokenMint,tokenMint:TokenAmount.zero(e.decimals),faucetPubkey:e.accounts.faucet??null,depositNoteMintPubkey:e.accounts.depositNoteMint,depositNoteMint:TokenAmount.zero(e.decimals),loanNoteMintPubkey:e.accounts.loanNoteMint,loanNoteMint:TokenAmount.zero(e.decimals),pythPricePubkey:e.accounts.pythPrice,pythProductPubkey:e.accounts.pythProduct};i[e.abbrev]=t}MARKET.update((e=>(e.accountPubkey=r.market.market,e.authorityPubkey=r.market.marketAuthority,e.reserves=i,e.currentReserve=i.SOL,e)))},getWalletAndAnchor=async e=>{const t=window;let r;if("Phantom"===e.name&&t.solana?.isPhantom)r=t.solana;else if("Solflare"===e.name&&t.solflare?.isSolflare)r=t.solflare;else if("Slope"===e.name&&t.Slope){r=new t.Slope;const{data:e}=await r.connect();e.publicKey&&(r.publicKey=new PublicKey(e.publicKey)),r.on=(e,t)=>{t&&t()}}else"Math Wallet"===e.name&&t.solana?.isMathWallet?(r=t.solana,r.publicKey=new PublicKey(await t.solana.getAccount()),r.on=(e,t)=>{t&&t()},r.connect=(e,t)=>{t&&t()}):"Solong"===e.name&&t.solong?(r=t.solong,r.publicKey=new PublicKey(await t.solong.selectAccount()),r.on=(e,t)=>{t&&t()},r.connect=(e,t)=>{t&&t()}):r=new WalletAdapter(e.url);setProvider(new Provider(connection,r,Provider.defaultOptions())),program=new Program(idl,new PublicKey(idl.metadata.address)),PROGRAM.set(program),r.name=e.name,r.on("connect",(async()=>{USER.update((e=>(e.wallet=r,e))),initTransactionLogs(),await getAssetPubkeys(),await subscribeToAssets(),USER.update((e=>(e.walletInit=!0,e)))}));try{await r.connect()}catch(e){console.error(e)}if(!inDevelopment){localStorage.getItem("jetDisclaimer")||COPILOT.set({alert:{good:!1,header:dictionary[user$1.language].copilot.alert.warning,text:dictionary[user$1.language].copilot.alert.disclaimer,action:{text:dictionary[user$1.language].copilot.alert.accept,onClick:()=>localStorage.setItem("jetDisclaimer","true")}}})}},disconnectWallet=()=>{user$1.wallet?.disconnect&&user$1.wallet.disconnect(),user$1.wallet?.forgetAccounts&&user$1.wallet.forgetAccounts(),USER.update((e=>(e.wallet=null,e.walletInit=!1,e.assets=null,e.walletBalances={},e.collateralBalances={},e.loanBalances={},e.position={depositedValue:0,borrowedValue:0,colRatio:0,utilizationRate:0},e.transactionLogs=[],e)))},getAssetPubkeys=async()=>{if(null==program||null===user$1.wallet)return;let[e,t]=await findObligationAddress(program,market$1.accountPubkey,user$1.wallet.publicKey),r={sol:new TokenAmount(new bn$1(0),SOL_DECIMALS),obligationPubkey:e,obligationBump:t,tokens:{}};for(const t in market$1.reserves){let n=market$1.reserves[t],i=n.tokenMintPubkey,[o,a]=await findDepositNoteDestAddress(program,n.accountPubkey,user$1.wallet.publicKey),[s,c]=await findDepositNoteAddress(program,n.accountPubkey,user$1.wallet.publicKey),[u,l]=await findLoanNoteAddress(program,n.accountPubkey,e,user$1.wallet.publicKey),[d,f]=await findCollateralAddress(program,n.accountPubkey,e,user$1.wallet.publicKey),h={tokenMintPubkey:i,walletTokenPubkey:await Token.getAssociatedTokenAddress(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,i,user$1.wallet.publicKey),walletTokenExists:!1,walletTokenBalance:TokenAmount.zero(n.decimals),depositNotePubkey:s,depositNoteBump:c,depositNoteExists:!1,depositNoteBalance:TokenAmount.zero(n.decimals),depositBalance:TokenAmount.zero(n.decimals),depositNoteDestPubkey:o,depositNoteDestBump:a,depositNoteDestExists:!1,depositNoteDestBalance:TokenAmount.zero(n.decimals),loanNotePubkey:u,loanNoteBump:l,loanNoteExists:!1,loanNoteBalance:TokenAmount.zero(n.decimals),loanBalance:TokenAmount.zero(n.decimals),collateralNotePubkey:d,collateralNoteBump:f,collateralNoteExists:!1,collateralNoteBalance:TokenAmount.zero(n.decimals),collateralBalance:TokenAmount.zero(n.decimals),maxDepositAmount:0,maxWithdrawAmount:0,maxBorrowAmount:0,maxRepayAmount:0};r.tokens[t]=h,USER.update((e=>(e.assets=r,e)))}},initTransactionLogs=async()=>{user$1.wallet&&(confirmedSignatures=await connection.getSignaturesForAddress(user$1.wallet.publicKey,void 0,"confirmed"),await getTransactionsDetails(16))},getTransactionsDetails=async e=>{USER.update((e=>(e.transactionLogsInit=!1,e)));let t=0,r=[];for(;currentSignaturesIndex<confirmedSignatures.length&&t<e;){const e=confirmedSignatures[currentSignaturesIndex]?.signature;if(!e)return;const n=await connection.getTransaction(e,{commitment:"confirmed"}),i=n?await getLogDetails(n,e):null;i&&(r.push(i),t++),currentSignaturesIndex++}USER.update((e=>(e.transactionLogs=[...e.transactionLogs,...r],e.transactionLogsInit=!0,e)))};let getLogDetails=async(e,t)=>{const r={deposit:[242,35,198,137,82,225,242,182],withdraw:[183,18,70,156,148,109,161,34],borrow:[228,253,131,202,207,116,89,18],repay:[234,103,67,82,208,234,219,166]};for(let n of e.meta.logMessages)if(-1!==n.indexOf(idl.metadata.address))for(let n in r)for(let i of e.transaction.message.instructions){const o=[];for(let e=0;e<8;e++)o.push(bs58.decode(i.data)[e]);if(JSON.stringify(r[n])===JSON.stringify(o)){e.tradeAction=dictionary[user$1.language].transactions[n];for(let t of e.meta.preTokenBalances)for(let r of e.meta.postTokenBalances)if(t.mint===r.mint&&t.uiTokenAmount.amount!==r.uiTokenAmount.amount)for(let i of idl.metadata.reserves)if(i.accounts.tokenMint===t.mint){if("SOL"===i.abbrev&&("withdraw"===n||"borrow"===n)&&"0"===t.uiTokenAmount.amount)break;e.tokenAbbrev=i.abbrev,e.tokenDecimals=i.decimals,e.tokenPrice=i.price,e.tradeAmount=new TokenAmount(new bn$1(r.uiTokenAmount.amount-t.uiTokenAmount.amount),i.decimals)}if(e.signature=t,e.blockDate=new Date(1e3*e.blockTime).toLocaleDateString(),e.explorerUrl=explorerUrl(e.signature),e.tokenAbbrev)return e}}},addTransactionLog=async e=>{const t=user$1.transactionLogs??[];USER.update((e=>(e.transactionLogsInit=!1,e)));let r=null;for(;!r;)r=await connection.getTransaction(e,{commitment:"confirmed"}),timeout(2e3);const n=await getLogDetails(r,e);n&&(t.unshift(n),USER.update((e=>(e.transactionLogs=t,e.transactionLogsInit=!0,e))))};const deposit=async(e,t)=>{if(!user$1.assets||!user$1.wallet||!program)return[TxnResponse.Failed,[]];const[r,n]=await refreshOldReserves();if(r!==TxnResponse.Success)return[r,n];let i,o,a,s,c,u,l,d=market$1.reserves[e],f=user$1.assets.tokens[e],h=f.walletTokenPubkey;if(f.tokenMintPubkey.equals(NATIVE_MINT)){i=Keypair.generate(),h=i.publicKey;const e=await connection.getMinimumBalanceForRentExemption(AccountLayout.span);o=SystemProgram.createAccount({fromPubkey:user$1.wallet.publicKey,newAccountPubkey:h,programId:TOKEN_PROGRAM_ID,space:AccountLayout.span,lamports:parseInt(t.addn(e).toString())}),a=Token.createInitAccountInstruction(TOKEN_PROGRAM_ID,NATIVE_MINT,h,user$1.wallet.publicKey),s=Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID,h,user$1.wallet.publicKey,user$1.wallet.publicKey,[])}f.depositNoteExists||(u=program.instruction.initDepositAccount(f.depositNoteBump,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:d.accountPubkey,depositNoteMint:d.depositNoteMintPubkey,depositor:user$1.wallet.publicKey,depositAccount:f.depositNotePubkey,tokenProgram:TOKEN_PROGRAM_ID,systemProgram:SystemProgram.programId,rent:SYSVAR_RENT_PUBKEY}})),user$1.assets.obligation||(c=buildInitObligationIx());const p=buildRefreshReserveIx(e),m=Amount.tokens(t),g=program.instruction.deposit(f.depositNoteBump,m,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:d.accountPubkey,vault:d.vaultPubkey,depositNoteMint:d.depositNoteMintPubkey,depositor:user$1.wallet.publicKey,depositAccount:f.depositNotePubkey,depositSource:h,tokenProgram:TOKEN_PROGRAM_ID}});f.collateralNoteExists||(l=program.instruction.initCollateralAccount(f.collateralNoteBump,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,obligation:user$1.assets.obligationPubkey,reserve:d.accountPubkey,depositNoteMint:d.depositNoteMintPubkey,owner:user$1.wallet.publicKey,collateralAccount:f.collateralNotePubkey,tokenProgram:TOKEN_PROGRAM_ID,systemProgram:SystemProgram.programId,rent:SYSVAR_RENT_PUBKEY}}));const b={collateralAccount:f.collateralNoteBump,depositAccount:f.depositNoteBump};const y=[o,a,u,c,l,p,g,program.instruction.depositCollateral(b,m,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:d.accountPubkey,obligation:user$1.assets.obligationPubkey,owner:user$1.wallet.publicKey,depositAccount:f.depositNotePubkey,collateralAccount:f.collateralNotePubkey,tokenProgram:TOKEN_PROGRAM_ID}}),s].filter((e=>e)),_=[i].filter((e=>e));try{return await sendTransaction(program.provider,y,_)}catch(e){return console.error(`Deposit error: ${transactionErrorToString(e)}`),rollbar.error(`Deposit error: ${transactionErrorToString(e)}`),[TxnResponse.Failed,[]]}},withdraw=async(e,t)=>{if(!user$1.assets||!user$1.wallet||!program)return[TxnResponse.Failed,[]];const[r,n]=await refreshOldReserves();if(r!==TxnResponse.Success)return[r,n];const i=market$1.reserves[e],o=user$1.assets.tokens[e];let a,s,c,u,l,d=o.walletTokenPubkey;if(o.tokenMintPubkey.equals(NATIVE_MINT)){const e=await Token.getMinBalanceRentForExemptAccount(connection);s=Keypair.generate(),d=s.publicKey,c=SystemProgram.createAccount({fromPubkey:user$1.wallet.publicKey,newAccountPubkey:d,programId:TOKEN_PROGRAM_ID,space:AccountLayout.span,lamports:e}),u=Token.createInitAccountInstruction(TOKEN_PROGRAM_ID,i.tokenMintPubkey,d,user$1.wallet.publicKey)}else o.walletTokenExists||(a=Token.createAssociatedTokenAccountInstruction(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,o.tokenMintPubkey,d,user$1.wallet.publicKey,user$1.wallet.publicKey));const f=buildRefreshReserveIxs(),h={collateralAccount:o.collateralNoteBump,depositAccount:o.depositNoteBump},p=program.instruction.withdrawCollateral(h,t,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:i.accountPubkey,obligation:user$1.assets.obligationPubkey,owner:user$1.wallet.publicKey,depositAccount:o.depositNotePubkey,collateralAccount:o.collateralNotePubkey,tokenProgram:TOKEN_PROGRAM_ID}}),m=program.instruction.withdraw(o.depositNoteBump,t,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:i.accountPubkey,vault:i.vaultPubkey,depositNoteMint:i.depositNoteMintPubkey,depositor:user$1.wallet.publicKey,depositAccount:o.depositNotePubkey,withdrawAccount:d,tokenProgram:TOKEN_PROGRAM_ID}});o.tokenMintPubkey.equals(NATIVE_MINT)&&s&&(l=Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID,d,user$1.wallet.publicKey,user$1.wallet.publicKey,[]));const g=[{ix:[a,c,u].filter((e=>e)),signers:[s].filter((e=>e))},{ix:[...f,p,m,l].filter((e=>e))}];try{const[e,t]=await sendAllTransactions(program.provider,g);return[e,t]}catch(e){return console.error(`Withdraw error: ${transactionErrorToString(e)}`),rollbar.error(`Withdraw error: ${transactionErrorToString(e)}`),[TxnResponse.Failed,[]]}},borrow=async(e,t)=>{if(!user$1.assets||!user$1.wallet||!program)return[TxnResponse.Failed,[]];const[r,n]=await refreshOldReserves();if(r!==TxnResponse.Success)return[r,n];const i=market$1.reserves[e],o=user$1.assets.tokens[e];let a,s,c,u,l,d,f=o.walletTokenPubkey;if(o.tokenMintPubkey.equals(NATIVE_MINT)){const e=await Token.getMinBalanceRentForExemptAccount(connection);c=Keypair.generate(),f=c.publicKey,u=SystemProgram.createAccount({fromPubkey:user$1.wallet.publicKey,newAccountPubkey:c.publicKey,programId:TOKEN_PROGRAM_ID,space:AccountLayout.span,lamports:e}),l=Token.createInitAccountInstruction(TOKEN_PROGRAM_ID,i.tokenMintPubkey,c.publicKey,user$1.wallet.publicKey)}else o.walletTokenExists||(a=Token.createAssociatedTokenAccountInstruction(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,o.tokenMintPubkey,o.walletTokenPubkey,user$1.wallet.publicKey,user$1.wallet.publicKey));o.loanNoteExists||(s=program.instruction.initLoanAccount(o.loanNoteBump,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,obligation:user$1.assets.obligationPubkey,reserve:i.accountPubkey,loanNoteMint:i.loanNoteMintPubkey,owner:user$1.wallet.publicKey,loanAccount:o.loanNotePubkey,tokenProgram:TOKEN_PROGRAM_ID,systemProgram:SystemProgram.programId,rent:SYSVAR_RENT_PUBKEY}}));const h=buildRefreshReserveIxs(),p=program.instruction.borrow(o.loanNoteBump,t,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,obligation:user$1.assets.obligationPubkey,reserve:i.accountPubkey,vault:i.vaultPubkey,loanNoteMint:i.loanNoteMintPubkey,borrower:user$1.wallet.publicKey,loanAccount:o.loanNotePubkey,receiverAccount:f,tokenProgram:TOKEN_PROGRAM_ID}});o.tokenMintPubkey.equals(NATIVE_MINT)&&(d=Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID,f,user$1.wallet.publicKey,user$1.wallet.publicKey,[]));const m=[{ix:[a,u,l,s].filter((e=>e)),signers:[c].filter((e=>e))},{ix:[...h,p,d].filter((e=>e))}];try{const[e,t]=await sendAllTransactions(program.provider,m);return[e,t]}catch(e){return console.error(`Borrow error: ${transactionErrorToString(e)}`),rollbar.error(`Borrow error: ${transactionErrorToString(e)}`),[TxnResponse.Failed,[]]}},repay=async(e,t)=>{if(!user$1.assets||!user$1.wallet||!program)return[TxnResponse.Failed,[]];const[r,n]=await refreshOldReserves();if(r!==TxnResponse.Success)return[r,n];const i=market$1.reserves[e],o=user$1.assets.tokens[e];let a,s,c,u,l=o.walletTokenPubkey;if(o.tokenMintPubkey.equals(NATIVE_MINT)){a=Keypair.generate(),l=a.publicKey;const e=t.units.loanNotes?i.loanNoteExchangeRate.mul(t.value).div(new bn$1(Math.pow(10,15))).muln(1.002):t.value,r=await connection.getMinimumBalanceForRentExemption(AccountLayout.span);s=SystemProgram.createAccount({fromPubkey:user$1.wallet.publicKey,newAccountPubkey:l,programId:TOKEN_PROGRAM_ID,space:AccountLayout.span,lamports:parseInt(e.addn(r).toString())}),c=Token.createInitAccountInstruction(TOKEN_PROGRAM_ID,NATIVE_MINT,l,user$1.wallet.publicKey),u=Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID,l,user$1.wallet.publicKey,user$1.wallet.publicKey,[])}else if(!o.walletTokenExists)return[TxnResponse.Failed,[]];const d=[s,c,buildRefreshReserveIx(e),program.instruction.repay(t,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,obligation:user$1.assets.obligationPubkey,reserve:i.accountPubkey,vault:i.vaultPubkey,loanNoteMint:i.loanNoteMintPubkey,payer:user$1.wallet.publicKey,loanAccount:o.loanNotePubkey,payerAccount:l,tokenProgram:TOKEN_PROGRAM_ID}}),u].filter((e=>e)),f=[a].filter((e=>e));try{return await sendTransaction(program.provider,d,f)}catch(e){return console.error(`Repay error: ${transactionErrorToString(e)}`),rollbar.error(`Repay error: ${transactionErrorToString(e)}`),[TxnResponse.Failed,[]]}},buildInitObligationIx=()=>{if(program&&user$1.assets&&user$1.wallet)return program.instruction.initObligation(user$1.assets.obligationBump,{accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,borrower:user$1.wallet.publicKey,obligation:user$1.assets.obligationPubkey,tokenProgram:TOKEN_PROGRAM_ID,systemProgram:SystemProgram.programId}})},buildRefreshReserveIxs=()=>{const e=[];if(!user$1.assets)return e;for(const t in user$1.assets.tokens){const r=buildRefreshReserveIx(t);r&&e.push(r)}return e},refreshOldReserves=async()=>{if(!program)return[TxnResponse.Failed,[]];let e=TxnResponse.Success,t=[];for(const r in market$1.reserves){let n=market$1.reserves[r].accruedUntil;for(;n.add(MAX_ACCRUAL_SECONDS).lt(new bn$1(Math.floor(Date.now()/1e3)));){const i=[buildRefreshReserveIx(r)].filter((e=>e));try{[e,t]=await sendTransaction(program.provider,i)}catch(e){return console.log(transactionErrorToString(e)),[TxnResponse.Failed,[]]}n=n.add(MAX_ACCRUAL_SECONDS)}}return[e,t]},buildRefreshReserveIx=e=>{if(!program)return;let t=market$1.reserves[e];return program.instruction.refreshReserve({accounts:{market:market$1.accountPubkey,marketAuthority:market$1.authorityPubkey,reserve:t.accountPubkey,feeNoteVault:t.feeNoteVaultPubkey,depositNoteMint:t.depositNoteMintPubkey,pythOraclePrice:t.pythPricePubkey,tokenProgram:TOKEN_PROGRAM_ID}})},airdrop=async(e,t)=>{if(null==program||null==user$1.assets||!user$1.wallet)return[TxnResponse.Failed,[]];let r=market$1.reserves[e];const n=Object.values(user$1.assets.tokens).find((e=>e.tokenMintPubkey.equals(r.tokenMintPubkey)));if(null==n)return[TxnResponse.Failed,[]];let i=[],o=[],a=TxnResponse.Failed,s=[];if(!n.walletTokenExists){const e=Token.createAssociatedTokenAccountInstruction(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,n.tokenMintPubkey,n.walletTokenPubkey,user$1.wallet.publicKey,user$1.wallet.publicKey);i.push(e)}if(r.tokenMintPubkey.equals(NATIVE_MINT))try{const e=new Connection("https://api.devnet.solana.com",Provider.defaultOptions().commitment),r=await e.requestAirdrop(user$1.wallet.publicKey,parseInt(t.toString()));console.log(`Transaction ${explorerUrl(r)}`);const n=await e.confirmTransaction(r);return n.value.err?(console.error(`Airdrop error: ${transactionErrorToString(n.value.err.toString())}`),[TxnResponse.Failed,[]]):[TxnResponse.Success,[r]]}catch(e){return console.error(`Airdrop error: ${transactionErrorToString(e)}`),rollbar.error(`Airdrop error: ${transactionErrorToString(e)}`),[TxnResponse.Failed,[]]}else if(r.faucetPubkey){const e=await buildFaucetAirdropIx(t,r.tokenMintPubkey,n.walletTokenPubkey,r.faucetPubkey);i.push(e),[a,s]=await sendTransaction(program.provider,i,o)}else{const e=Token.createMintToInstruction(TOKEN_PROGRAM_ID,r.tokenMintPubkey,n.walletTokenPubkey,user$1.wallet.publicKey,[],new u64(t.toArray()));i.push(e),[a,s]=await sendTransaction(program.provider,i,o)}return[a,s]},buildFaucetAirdropIx=async(e,t,r,n)=>{const i=[{pubkey:(await PublicKey.findProgramAddress([(new TextEncoder).encode("faucet")],FAUCET_PROGRAM_ID))[0],isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];return new TransactionInstruction({programId:FAUCET_PROGRAM_ID,data:Buffer.from([1,...e.toArray("le",8)]),keys:i})},getErrNameAndMsg=e=>{const t=Number(e);if(t>=100&&t<300)return`This is an Anchor program error code ${t}. Please check here: https://github.com/project-serum/anchor/blob/master/lang/src/error.rs`;for(let r=0;r<customProgramErrors.length;r++){const n=customProgramErrors[r];if(n.code===t)return`\n\nCustom Program Error Code: ${e} \n- ${n.name} \n- ${n.msg}`}return`No matching error code description or translation for ${e}`},getCustomProgramErrorCode=e=>{const t=e.indexOf("custom program error:");return-1==t?[!1,"May not be a custom program error"]:[!0,`${parseInt(e.substring(t+22,t+28).replace(" ",""),16)}`]};function create_fragment$A(e){let t,r,n,i,o,a,s,c;return{c(){t=element("div"),r=element("img"),o=space(),a=element("img"),src_url_equal(r.src,n="img/jet/jet_logomark_gradient.png")||attr(r,"src","img/jet/jet_logomark_gradient.png"),attr(r,"alt","Jet Logomark"),attr(r,"style",i="width: "+e[0]+"px; "+(e[1]?"height: auto; opacity: 1":"height: 0px; opacity: 0; position: absolute;")),attr(r,"class","svelte-15wxjcr"),src_url_equal(a.src,s="img/jet/jet_logo_gradient.png")||attr(a,"src","img/jet/jet_logo_gradient.png"),attr(a,"alt","Jext Logo"),attr(a,"style",c="width: "+e[0]+"px; "+(e[1]?"height: 0px; opacity: 0; position: absolute;":"height: auto; opacity: 1")),attr(a,"class","svelte-15wxjcr"),attr(t,"class","logo flex-centered svelte-15wxjcr")},m(e,n){insert(e,t,n),append(t,r),append(t,o),append(t,a)},p(e,[t]){3&t&&i!==(i="width: "+e[0]+"px; "+(e[1]?"height: auto; opacity: 1":"height: 0px; opacity: 0; position: absolute;"))&&attr(r,"style",i),3&t&&c!==(c="width: "+e[0]+"px; "+(e[1]?"height: 0px; opacity: 0; position: absolute;":"height: auto; opacity: 1"))&&attr(a,"style",c)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function instance$y(e,t,r){let{width:n}=t,{logoMark:i=!1}=t;return e.$$set=e=>{"width"in e&&r(0,n=e.width),"logoMark"in e&&r(1,i=e.logoMark)},[n,i]}class Logo extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$y,create_fragment$A,safe_not_equal,{width:0,logoMark:1})}}function create_if_block$p(e){let t,r;return{c(){t=element("p"),r=text(e[1]),attr(t,"class","text-gradient bicyclette-bold svelte-111x0n3")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){2&t&&set_data(r,e[1])},d(e){e&&detach(t)}}}function create_fragment$z(e){let t,r,n,i,o,a,s,c=e[1]&&create_if_block$p(e);return{c(){t=element("a"),r=element("i"),n=text(e[0]),o=space(),c&&c.c(),attr(r,"class","text-gradient jet-icons svelte-111x0n3"),attr(r,"style",i="✔"===e[0]||"✈"===e[0]?"padding: 0 3px 3px 0;":"padding: 0 0 3px 3px"),attr(t,"class","flex-centered svelte-111x0n3"),attr(t,"href",e[2]),toggle_class(t,"active",e[3]),toggle_class(t,"text",e[1]),toggle_class(t,"justify-start",e[1])},m(e,i){insert(e,t,i),append(t,r),append(r,n),append(t,o),c&&c.m(t,null),a||(s=action_destroyer(link.call(null,t)),a=!0)},p(e,[o]){1&o&&set_data(n,e[0]),1&o&&i!==(i="✔"===e[0]||"✈"===e[0]?"padding: 0 3px 3px 0;":"padding: 0 0 3px 3px")&&attr(r,"style",i),e[1]?c?c.p(e,o):(c=create_if_block$p(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null),4&o&&attr(t,"href",e[2]),8&o&&toggle_class(t,"active",e[3]),2&o&&toggle_class(t,"text",e[1]),2&o&&toggle_class(t,"justify-start",e[1])},i:noop$1,o:noop$1,d(e){e&&detach(t),c&&c.d(),a=!1,s()}}}function instance$x(e,t,r){let{icon:n}=t,{text:i=""}=t,{path:o}=t,{active:a}=t;return e.$$set=e=>{"icon"in e&&r(0,n=e.icon),"text"in e&&r(1,i=e.text),"path"in e&&r(2,o=e.path),"active"in e&&r(3,a=e.active)},[n,i,o,a]}class NavLink extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$x,create_fragment$z,safe_not_equal,{icon:0,text:1,path:2,active:3})}}function create_if_block$o(e){let t,r;return{c(){t=element("img"),src_url_equal(t.src,r=e[1])||attr(t,"src",r),attr(t,"alt",e[0]),attr(t,"class","svelte-1375oph")},m(e,r){insert(e,t,r)},p(e,n){2&n&&!src_url_equal(t.src,r=e[1])&&attr(t,"src",r),1&n&&attr(t,"alt",e[0])},d(e){e&&detach(t)}}}function create_fragment$y(e){let t,r,n,i,o,a=e[1]&&create_if_block$o(e);return{c(){t=element("button"),a&&a.c(),r=space(),n=text(e[0]),attr(t,"class","flex-centered svelte-1375oph"),attr(t,"title",e[0]),toggle_class(t,"bicyclette",e[7]),toggle_class(t,"secondary",e[3]),toggle_class(t,"small",e[4]),toggle_class(t,"disabled",e[2]),toggle_class(t,"error",e[5]),toggle_class(t,"noCaps",e[6])},m(s,c){insert(s,t,c),a&&a.m(t,null),append(t,r),append(t,n),i||(o=listen(t,"click",e[9]),i=!0)},p(e,[i]){e[1]?a?a.p(e,i):(a=create_if_block$o(e),a.c(),a.m(t,r)):a&&(a.d(1),a=null),1&i&&set_data(n,e[0]),1&i&&attr(t,"title",e[0]),128&i&&toggle_class(t,"bicyclette",e[7]),8&i&&toggle_class(t,"secondary",e[3]),16&i&&toggle_class(t,"small",e[4]),4&i&&toggle_class(t,"disabled",e[2]),32&i&&toggle_class(t,"error",e[5]),64&i&&toggle_class(t,"noCaps",e[6])},i:noop$1,o:noop$1,d(e){e&&detach(t),a&&a.d(),i=!1,o()}}}function instance$w(e,t,r){let{text:n}=t,{img:i=""}=t,{disabled:o=!1}=t,{secondary:a=!1}=t,{small:s=!1}=t,{error:c=!1}=t,{noCaps:u=!1}=t,{bicyclette:l=!0}=t,{onClick:d}=t;return e.$$set=e=>{"text"in e&&r(0,n=e.text),"img"in e&&r(1,i=e.img),"disabled"in e&&r(2,o=e.disabled),"secondary"in e&&r(3,a=e.secondary),"small"in e&&r(4,s=e.small),"error"in e&&r(5,c=e.error),"noCaps"in e&&r(6,u=e.noCaps),"bicyclette"in e&&r(7,l=e.bicyclette),"onClick"in e&&r(8,d=e.onClick)},[n,i,o,a,s,c,u,l,d,()=>{o||d()}]}class Button extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$w,create_fragment$y,safe_not_equal,{text:0,img:1,disabled:2,secondary:3,small:4,error:5,noCaps:6,bicyclette:7,onClick:8})}}function create_else_block$f(e){let t,r;return t=new Button({props:{small:!0,secondary:!0,text:dictionary[e[1].language].settings.connect,onClick:e[3]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.text=dictionary[e[1].language].settings.connect),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$n(e){let t,r;return t=new Button({props:{secondary:!0,noCaps:!0,bicyclette:!1,img:"img/wallets/"+e[1].wallet.name.replace(" ","_").toLowerCase()+".png",text:shortenPubkey(e[1].wallet.publicKey.toString(),4)+" "+(e[0]?"":dictionary[e[1].language].settings.connected.toLowerCase()),onClick:e[2]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.img="img/wallets/"+e[1].wallet.name.replace(" ","_").toLowerCase()+".png"),3&r&&(n.text=shortenPubkey(e[1].wallet.publicKey.toString(),4)+" "+(e[0]?"":dictionary[e[1].language].settings.connected.toLowerCase())),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$x(e){let t,r,n,i;const o=[create_if_block$n,create_else_block$f],a=[];function s(e,t){return e[1].wallet?0:1}return r=s(e),n=a[r]=o[r](e),{c(){t=element("div"),n.c(),attr(t,"class","flex-centered")},m(e,n){insert(e,t,n),a[r].m(t,null),i=!0},p(e,[i]){let c=r;r=s(e),r===c?a[r].p(e,i):(group_outros(),transition_out(a[c],1,1,(()=>{a[c]=null})),check_outros(),n=a[r],n?n.p(e,i):(n=a[r]=o[r](e),n.c()),transition_in(n,1),n.m(t,null))},i(e){i||(transition_in(n),i=!0)},o(e){transition_out(n),i=!1},d(e){e&&detach(t),a[r].d()}}}function instance$v(e,t,r){let n;component_subscribe(e,USER,(e=>r(1,n=e)));let{mobile:i=!1}=t;return e.$$set=e=>{"mobile"in e&&r(0,i=e.mobile)},[i,n,()=>disconnectWallet(),()=>USER.update((e=>(e.connectingWallet=!0,e)))]}class ConnectWalletButton extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$v,create_fragment$x,safe_not_equal,{mobile:0})}}function create_else_block$e(e){let t;return{c(){t=text("➪")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_if_block_1$i(e){let t;return{c(){t=text("➧")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_if_block$m(e){let t,r,n=dictionary[e[2].language].nav.collapse.toUpperCase()+"";return{c(){t=element("span"),r=text(n),attr(t,"class","bicyclette-bold text-gradient"),set_style(t,"font-size","10.5px")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){4&t&&n!==(n=dictionary[e[2].language].nav.collapse.toUpperCase()+"")&&set_data(r,n)},d(e){e&&detach(t)}}}function create_fragment$w(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D,U,j;function z(e,t){return e[0]?create_if_block_1$i:create_else_block$e}i=new Logo({props:{width:e[0]?105:50,logoMark:!e[0]}}),a=new NavLink({props:{active:"/"===e[1].pathname,path:"/",icon:"/"===e[1].pathname?"✔":"✈",text:e[0]?dictionary[e[2].language].nav.cockpit:""}}),c=new NavLink({props:{active:"/transactions"===e[1].pathname,path:"/transactions",icon:"/transactions"===e[1].pathname?"➺":"➸",text:e[0]?dictionary[e[2].language].nav.transactions:""}}),l=new NavLink({props:{active:"/settings"===e[1].pathname,path:"/settings",icon:"/settings"===e[1].pathname?"✎":"✀",text:e[0]?dictionary[e[2].language].nav.settings:""}});let F=z(e),K=F(e),H=e[0]&&create_if_block$m(e);return _=new NavLink({props:{active:"/"===e[1].pathname,path:"/",icon:"/"===e[1].pathname?"✔":"✈",text:dictionary[e[2].language].nav.cockpit}}),w=new NavLink({props:{active:"/transactions"===e[1].pathname,path:"/transactions",icon:"/transactions"===e[1].pathname?"➺":"➸",text:dictionary[e[2].language].nav.transactions}}),S=new NavLink({props:{active:"/settings"===e[1].pathname,path:"/settings",icon:"/settings"===e[1].pathname?"✎":"✀",text:dictionary[e[2].language].nav.settings}}),E=new ConnectWalletButton({}),x=new NavLink({props:{active:"/"===e[1].pathname,path:"/",icon:"/"===e[1].pathname?"✔":"✈"}}),M=new NavLink({props:{active:"/transactions"===e[1].pathname,path:"/transactions",icon:"/transactions"===e[1].pathname?"➺":"➸"}}),O=new NavLink({props:{active:"/settings"===e[1].pathname,path:"/settings",icon:"/settings"===e[1].pathname?"✎":"✀"}}),N=new ConnectWalletButton({props:{mobile:!0}}),{c(){t=element("nav"),r=element("div"),n=element("div"),create_component(i.$$.fragment),o=space(),create_component(a.$$.fragment),s=space(),create_component(c.$$.fragment),u=space(),create_component(l.$$.fragment),d=space(),f=element("div"),h=element("div"),p=element("i"),K.c(),m=space(),H&&H.c(),g=space(),b=element("nav"),y=element("div"),create_component(_.$$.fragment),v=space(),create_component(w.$$.fragment),$=space(),create_component(S.$$.fragment),k=space(),A=element("div"),create_component(E.$$.fragment),I=space(),R=element("nav"),T=element("div"),create_component(x.$$.fragment),P=space(),create_component(M.$$.fragment),C=space(),create_component(O.$$.fragment),L=space(),B=element("div"),create_component(N.$$.fragment),attr(n,"class","nav-logo-container flex-centered svelte-1l1gsya"),attr(r,"class","top flex align-center column svelte-1l1gsya"),attr(p,"class","text-gradient jet-icons"),attr(h,"class","bottom-expand flex-centered svelte-1l1gsya"),attr(f,"class","bottom flex align-center justify-end column svelte-1l1gsya"),attr(t,"class","desktop flex flex align-center justify-between column svelte-1l1gsya"),attr(y,"class","top flex align-center justify-evenly svelte-1l1gsya"),attr(A,"class","bottom flex align-center justify-evenly svelte-1l1gsya"),attr(b,"class","tablet flex flex align-center justify-between svelte-1l1gsya"),attr(T,"class","top flex align-center justify-evenly svelte-1l1gsya"),attr(B,"class","bottom flex align-center justify-evenly svelte-1l1gsya"),attr(R,"class","mobile flex flex align-center justify-between svelte-1l1gsya")},m(z,F){insert(z,t,F),append(t,r),append(r,n),mount_component(i,n,null),append(r,o),mount_component(a,r,null),append(r,s),mount_component(c,r,null),append(r,u),mount_component(l,r,null),append(t,d),append(t,f),append(f,h),append(h,p),K.m(p,null),append(h,m),H&&H.m(h,null),insert(z,g,F),insert(z,b,F),append(b,y),mount_component(_,y,null),append(y,v),mount_component(w,y,null),append(y,$),mount_component(S,y,null),append(b,k),append(b,A),mount_component(E,A,null),insert(z,I,F),insert(z,R,F),append(R,T),mount_component(x,T,null),append(T,P),mount_component(M,T,null),append(T,C),mount_component(O,T,null),append(R,L),append(R,B),mount_component(N,B,null),D=!0,U||(j=[listen(n,"click",e[5]),listen(h,"click",e[6])],U=!0)},p(e,[t]){const r={};1&t&&(r.width=e[0]?105:50),1&t&&(r.logoMark=!e[0]),i.$set(r);const n={};2&t&&(n.active="/"===e[1].pathname),2&t&&(n.icon="/"===e[1].pathname?"✔":"✈"),5&t&&(n.text=e[0]?dictionary[e[2].language].nav.cockpit:""),a.$set(n);const o={};2&t&&(o.active="/transactions"===e[1].pathname),2&t&&(o.icon="/transactions"===e[1].pathname?"➺":"➸"),5&t&&(o.text=e[0]?dictionary[e[2].language].nav.transactions:""),c.$set(o);const s={};2&t&&(s.active="/settings"===e[1].pathname),2&t&&(s.icon="/settings"===e[1].pathname?"✎":"✀"),5&t&&(s.text=e[0]?dictionary[e[2].language].nav.settings:""),l.$set(s),F!==(F=z(e))&&(K.d(1),K=F(e),K&&(K.c(),K.m(p,null))),e[0]?H?H.p(e,t):(H=create_if_block$m(e),H.c(),H.m(h,null)):H&&(H.d(1),H=null);const u={};2&t&&(u.active="/"===e[1].pathname),2&t&&(u.icon="/"===e[1].pathname?"✔":"✈"),4&t&&(u.text=dictionary[e[2].language].nav.cockpit),_.$set(u);const d={};2&t&&(d.active="/transactions"===e[1].pathname),2&t&&(d.icon="/transactions"===e[1].pathname?"➺":"➸"),4&t&&(d.text=dictionary[e[2].language].nav.transactions),w.$set(d);const f={};2&t&&(f.active="/settings"===e[1].pathname),2&t&&(f.icon="/settings"===e[1].pathname?"✎":"✀"),4&t&&(f.text=dictionary[e[2].language].nav.settings),S.$set(f);const m={};2&t&&(m.active="/"===e[1].pathname),2&t&&(m.icon="/"===e[1].pathname?"✔":"✈"),x.$set(m);const g={};2&t&&(g.active="/transactions"===e[1].pathname),2&t&&(g.icon="/transactions"===e[1].pathname?"➺":"➸"),M.$set(g);const b={};2&t&&(b.active="/settings"===e[1].pathname),2&t&&(b.icon="/settings"===e[1].pathname?"✎":"✀"),O.$set(b)},i(e){D||(transition_in(i.$$.fragment,e),transition_in(a.$$.fragment,e),transition_in(c.$$.fragment,e),transition_in(l.$$.fragment,e),transition_in(_.$$.fragment,e),transition_in(w.$$.fragment,e),transition_in(S.$$.fragment,e),transition_in(E.$$.fragment,e),transition_in(x.$$.fragment,e),transition_in(M.$$.fragment,e),transition_in(O.$$.fragment,e),transition_in(N.$$.fragment,e),D=!0)},o(e){transition_out(i.$$.fragment,e),transition_out(a.$$.fragment,e),transition_out(c.$$.fragment,e),transition_out(l.$$.fragment,e),transition_out(_.$$.fragment,e),transition_out(w.$$.fragment,e),transition_out(S.$$.fragment,e),transition_out(E.$$.fragment,e),transition_out(x.$$.fragment,e),transition_out(M.$$.fragment,e),transition_out(O.$$.fragment,e),transition_out(N.$$.fragment,e),D=!1},d(e){e&&detach(t),destroy_component(i),destroy_component(a),destroy_component(c),destroy_component(l),K.d(),H&&H.d(),e&&detach(g),e&&detach(b),destroy_component(_),destroy_component(w),destroy_component(S),destroy_component(E),e&&detach(I),e&&detach(R),destroy_component(x),destroy_component(M),destroy_component(O),destroy_component(N),U=!1,run_all(j)}}}function instance$u(e,t,r){let n,i;component_subscribe(e,USER,(e=>r(2,i=e)));let o=!1;const a=useLocation();component_subscribe(e,a,(e=>r(1,n=e)));const s=()=>{o?document.documentElement.style.setProperty("--nav-width","60px"):document.documentElement.style.setProperty("--nav-width","120px"),r(0,o=!o),localStorage.setItem("jetNavExpanded",JSON.stringify(o))};onMount((()=>{"true"===localStorage.getItem("jetNavExpanded")&&s()}));return[o,n,i,a,s,()=>window.open("https://jetprotocol.io/","_blank"),()=>s()]}class Nav extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$u,create_fragment$w,safe_not_equal,{})}}let market,user;MARKET.subscribe((e=>market=e)),USER.subscribe((e=>user=e));const checkTradeWarning=(e,t,r)=>{"deposit"===user.tradeAction&&"SOL"===market.currentReserve?.abbrev&&e>=user.walletBalances[market.currentReserve.abbrev]-.02?COPILOT.set({suggestion:{good:!1,detail:dictionary[user.language].cockpit.insufficientLamports}}):"borrow"===user.tradeAction&&t<=market.minColRatio+.02?(t>=market.minColRatio&&COPILOT.set({suggestion:{good:!1,detail:dictionary[user.language].cockpit.subjectToLiquidation.replaceAll("{{NEW-C-RATIO}}",currencyFormatter(100*t,!1,1)),action:{text:dictionary[user.language].cockpit.confirm,onClick:()=>r()}}}),t<market.minColRatio&&t<user.position.colRatio&&COPILOT.set({suggestion:{good:!1,detail:dictionary[user.language].cockpit.rejectTrade.replaceAll("{{NEW-C-RATIO}}",currencyFormatter(100*t,!1,1)).replaceAll("{{JET MIN C-RATIO}}",100*market.minColRatio)}})):"withdraw"===user.tradeAction&&t>0&&t<=market.programMinColRatio+.05?COPILOT.set({suggestion:{good:!1,detail:dictionary[user.language].cockpit.subjectToLiquidation.replaceAll("{{NEW-C-RATIO}}",currencyFormatter(100*t,!1,1)).replaceAll("borrow","withdraw"),action:{text:dictionary[user.language].cockpit.confirm,onClick:()=>r()}}}):r()},generateCopilotSuggestion=()=>{if(!market||!user.assets)return void COPILOT.set(null);let e=market.reserves.SOL;if(market.reserves)for(let t in market.reserves)market.reserves[t].depositRate>e.depositRate&&(e=market.reserves[t]);user.position.borrowedValue&&user.position.colRatio<market?.minColRatio?COPILOT.set({suggestion:{good:!1,overview:dictionary[user.language].copilot.suggestions.unhealthy.overview,detail:dictionary[user.language].copilot.suggestions.unhealthy.detail.replaceAll("{{C-RATIO}}",currencyFormatter(100*user.position.colRatio,!1,1)).replaceAll("{{RATIO BELOW AMOUNT}}",Math.abs(Number(currencyFormatter(100*(market.minColRatio-user.position.colRatio),!1,1)))).replaceAll("{{JET MIN C-RATIO}}",100*market.minColRatio),solution:dictionary[user.language].copilot.suggestions.unhealthy.solution}}):e?.depositRate&&!user.assets.tokens[e.abbrev].walletTokenBalance?.isZero()?(MARKET.update((t=>(t.currentReserve=e,t))),COPILOT.set({suggestion:{good:!0,overview:dictionary[user.language].copilot.suggestions.deposit.overview.replaceAll("{{BEST DEPOSIT RATE NAME}}",e.name),detail:dictionary[user.language].copilot.suggestions.deposit.detail.replaceAll("{{BEST DEPOSIT RATE ABBREV}}",e.abbrev).replaceAll("{{DEPOSIT RATE}}",(100*e.depositRate).toFixed(2)).replaceAll("{{USER BALANCE}}",currencyFormatter(user.assets.tokens[e.abbrev].walletTokenBalance.uiAmountFloat,!1,2))}})):user.position.borrowedValue&&user.position.colRatio>market?.minColRatio&&user.position.colRatio<=market?.minColRatio+10?COPILOT.set({suggestion:{good:!1,overview:dictionary[user.language].copilot.warning.tenPercent.overview,detail:dictionary[user.language].copilot.warning.tenPercent.detail.replaceAll("{{C-RATIO}}",currencyFormatter(100*user.position.colRatio,!1,1)).replaceAll("{{JET MIN C-RATIO}}",100*market.minColRatio)}}):user.position.borrowedValue&&user.position.colRatio>=market?.minColRatio+10&&user.position.colRatio<=market?.minColRatio+20?COPILOT.set({suggestion:{good:!1,overview:dictionary[user.language].copilot.warning.twentyPercent.overview,detail:dictionary[user.language].copilot.warning.twentyPercent.detail.replaceAll("{{C-RATIO}}",currencyFormatter(100*user.position.colRatio,!1,1)).replaceAll("{{JET MIN C-RATIO}}",100*market.minColRatio)}}):COPILOT.set({suggestion:{good:!0,overview:dictionary[user.language].copilot.suggestions.healthy.overview,detail:dictionary[user.language].copilot.suggestions.healthy.detail}})};function create_fragment$v(e){let t;return{c(){t=element("div"),t.innerHTML='<div class="outer-circle svelte-4tqzrw"><div class="inner-circle svelte-4tqzrw"><img src="img/jet/jet_logomark_gradient.png" alt="Jet Logomark" class="svelte-4tqzrw"/></div></div>',attr(t,"class","loader flex-centered column svelte-4tqzrw"),toggle_class(t,"button",e[0]),toggle_class(t,"fullview",e[1]),toggle_class(t,"fullscreen",e[2])},m(e,r){insert(e,t,r)},p(e,[r]){1&r&&toggle_class(t,"button",e[0]),2&r&&toggle_class(t,"fullview",e[1]),4&r&&toggle_class(t,"fullscreen",e[2])},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function instance$t(e,t,r){let{button:n=!1}=t,{fullview:i=!1}=t,{fullscreen:o=!1}=t;return e.$$set=e=>{"button"in e&&r(0,n=e.button),"fullview"in e&&r(1,i=e.fullview),"fullscreen"in e&&r(2,o=e.fullscreen)},[n,i,o]}class Loader extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$t,create_fragment$v,safe_not_equal,{button:0,fullview:1,fullscreen:2})}}function cubicOut(e){const t=e-1;return t*t*t+1}function fade(e,{delay:t=0,duration:r=400,easing:n=identity}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:e=>"opacity: "+e*i}}function fly(e,{delay:t=0,duration:r=400,easing:n=cubicOut,x:i=0,y:o=0,opacity:a=0}={}){const s=getComputedStyle(e),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:t,duration:r,easing:n,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*i}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-l*t}`}}function create_fragment$u(e){let t,r,n;return{c(){t=element("i"),attr(t,"class","info fas fa-info-circle svelte-1fjayiy"),attr(t,"style",e[1])},m(i,o){insert(i,t,o),r||(n=listen(t,"click",e[3]),r=!0)},p(e,[r]){2&r&&attr(t,"style",e[1])},i:noop$1,o:noop$1,d(e){e&&detach(t),r=!1,n()}}}function instance$s(e,t,r){let n;component_subscribe(e,USER,(e=>r(2,n=e)));let{term:i}=t,{style:o=""}=t;return e.$$set=e=>{"term"in e&&r(0,i=e.term),"style"in e&&r(1,o=e.style)},[i,o,n,()=>COPILOT.set({definition:definitions[n.language][i]})]}class Info extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$s,create_fragment$u,safe_not_equal,{term:0,style:1})}}function create_if_block$l(e){let t,r,n,i,o=e[2]&&create_if_block_1$h(e);return{c(){t=element("span"),r=text(e[1]),n=space(),o&&o.c(),attr(t,"class","svelte-4difi6")},m(e,a){insert(e,t,a),append(t,r),append(t,n),o&&o.m(t,null),i=!0},p(e,n){(!i||2&n)&&set_data(r,e[1]),e[2]?o?(o.p(e,n),4&n&&transition_in(o,1)):(o=create_if_block_1$h(e),o.c(),transition_in(o,1),o.m(t,null)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros())},i(e){i||(transition_in(o),i=!0)},o(e){transition_out(o),i=!1},d(e){e&&detach(t),o&&o.d()}}}function create_if_block_1$h(e){let t,r;return t=new Info({props:{term:e[2]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};4&r&&(n.term=e[2]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$t(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m=(e[0]>1?Math.floor(e[0]):Math.ceil(e[0]))+"",g=e[1]&&create_if_block$l(e);return{c(){t=element("div"),r=svg_element("svg"),n=svg_element("path"),i=svg_element("path"),a=space(),s=element("div"),c=space(),u=element("div"),l=element("h2"),d=text(m),f=text("%"),h=space(),g&&g.c(),attr(n,"d","M18 2.0845\n        a 15.9155 15.9155 0 0 1 0 31.831\n        a 15.9155 15.9155 0 0 1 0 -31.831"),attr(n,"class","svelte-4difi6"),attr(i,"stroke-dasharray",o=e[3]+", 100"),attr(i,"d","M18 2.0845\n        a 15.9155 15.9155 0 0 1 0 31.831\n        a 15.9155 15.9155 0 0 1 0 -31.831"),attr(i,"class","svelte-4difi6"),attr(r,"viewBox","0 0 36 36"),attr(r,"class","svelte-4difi6"),attr(s,"class","inset-chart-shadow svelte-4difi6"),attr(l,"class","modal-header"),attr(u,"class","chart-info flex-centered column svelte-4difi6"),attr(t,"class","chart svelte-4difi6")},m(e,o){insert(e,t,o),append(t,r),append(r,n),append(r,i),append(t,a),append(t,s),append(t,c),append(t,u),append(u,l),append(l,d),append(l,f),append(u,h),g&&g.m(u,null),p=!0},p(e,[t]){(!p||8&t&&o!==(o=e[3]+", 100"))&&attr(i,"stroke-dasharray",o),(!p||1&t)&&m!==(m=(e[0]>1?Math.floor(e[0]):Math.ceil(e[0]))+"")&&set_data(d,m),e[1]?g?(g.p(e,t),2&t&&transition_in(g,1)):(g=create_if_block$l(e),g.c(),transition_in(g,1),g.m(u,null)):g&&(group_outros(),transition_out(g,1,1,(()=>{g=null})),check_outros())},i(e){p||(transition_in(g),p=!0)},o(e){transition_out(g),p=!1},d(e){e&&detach(t),g&&g.d()}}}function instance$r(e,t,r){let{percentage:n}=t,{text:i=""}=t,{term:o}=t,a=0;return onMount((()=>{(async()=>{for(r(3,a=0);a<(n>1?Math.floor(n):Math.ceil(n));)await timeout(7),r(3,a++,a)})()})),e.$$set=e=>{"percentage"in e&&r(0,n=e.percentage),"text"in e&&r(1,i=e.text),"term"in e&&r(2,o=e.term)},[n,i,o,a]}class PercentageChart extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$r,create_fragment$t,safe_not_equal,{percentage:0,text:1,term:2})}}function create_else_block$d(e){let t,r,n,i,o=e[1]&&create_if_block_1$g(e);return{c(){t=element("div"),r=element("i"),n=text(e[0]),i=space(),o&&o.c(),attr(r,"class","jet-icons svelte-ixl935"),toggle_class(r,"text-gradient",e[3]),attr(t,"class","toggle flex-centered svelte-ixl935")},m(e,a){insert(e,t,a),append(t,r),append(r,n),append(t,i),o&&o.m(t,null)},p(e,i){1&i&&set_data(n,e[0]),8&i&&toggle_class(r,"text-gradient",e[3]),e[1]?o?o.p(e,i):(o=create_if_block_1$g(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&detach(t),o&&o.d()}}}function create_if_block$k(e){let t,r,n;return{c(){t=element("div"),t.innerHTML='<i class="jet-icons svelte-ixl935">❍</i>',r=space(),n=element("div"),n.innerHTML='<i class="jet-icons svelte-ixl935">❏</i>',attr(t,"class","crypto flex-centered svelte-ixl935"),toggle_class(t,"active",!e[3]),attr(n,"class","usd flex-centered svelte-ixl935"),toggle_class(n,"active",e[3])},m(e,i){insert(e,t,i),insert(e,r,i),insert(e,n,i)},p(e,r){8&r&&toggle_class(t,"active",!e[3]),8&r&&toggle_class(n,"active",e[3])},d(e){e&&detach(t),e&&detach(r),e&&detach(n)}}}function create_if_block_1$g(e){let t,r;return{c(){t=element("p"),r=text(e[1]),attr(t,"class","bicyclette svelte-ixl935"),toggle_class(t,"text-gradient",e[3])},m(e,n){insert(e,t,n),append(t,r)},p(e,n){2&n&&set_data(r,e[1]),8&n&&toggle_class(t,"text-gradient",e[3])},d(e){e&&detach(t)}}}function create_fragment$s(e){let t,r,n,i;function o(e,t){return e[4]?create_if_block$k:create_else_block$d}let a=o(e),s=a(e);return{c(){t=element("div"),s.c(),attr(t,"class","outside flex align-center justify-start svelte-ixl935"),attr(t,"style",r=e[2]?`max-width: ${e[2]}`:""),toggle_class(t,"active",e[3]),toggle_class(t,"native",e[4]),toggle_class(t,"justify-end",e[3])},m(r,o){insert(r,t,o),s.m(t,null),n||(i=listen(t,"click",e[6]),n=!0)},p(e,[n]){a===(a=o(e))&&s?s.p(e,n):(s.d(1),s=a(e),s&&(s.c(),s.m(t,null))),4&n&&r!==(r=e[2]?`max-width: ${e[2]}`:"")&&attr(t,"style",r),8&n&&toggle_class(t,"active",e[3]),16&n&&toggle_class(t,"native",e[4]),8&n&&toggle_class(t,"justify-end",e[3])},i:noop$1,o:noop$1,d(e){e&&detach(t),s.d(),n=!1,i()}}}function instance$q(e,t,r){let{icon:n=""}=t,{text:i=""}=t,{maxWidth:o=""}=t,{active:a=!1}=t,{native:s=!1}=t,{onClick:c}=t;return e.$$set=e=>{"icon"in e&&r(0,n=e.icon),"text"in e&&r(1,i=e.text),"maxWidth"in e&&r(2,o=e.maxWidth),"active"in e&&r(3,a=e.active),"native"in e&&r(4,s=e.native),"onClick"in e&&r(5,c=e.onClick)},[n,i,o,a,s,c,()=>c()]}class Toggle extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$q,create_fragment$s,safe_not_equal,{icon:0,text:1,maxWidth:2,active:3,native:4,onClick:5})}}function create_if_block$j(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D,U,j,z,F,K,H,q,W,V,Y,G,Z,J,X,Q,ee,te,re,ne,ie,oe,ae,se,ce,ue,le,de,fe,he,pe,me,ge,be,ye,_e,ve,we,$e,Se,ke,Ae,Ee,Ie,Re,Te,xe,Pe,Me,Ce,Oe,Le,Be,Ne,De,Ue,je,ze,Fe,Ke,He=e[0].name.toUpperCase()+"",qe=e[0].abbrev+"",We=currencyFormatter(e[0].price,!0,2)+"",Ve=dictionary[e[3].language].reserveDetail.reserveSize.toUpperCase()+"",Ye=currencyFormatter(e[2].nativeValues?e[0].marketSize.uiAmountFloat:e[0].marketSize.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"",Ge=dictionary[e[3].language].reserveDetail.totalBorrowed.toUpperCase()+"",Ze=currencyFormatter(e[2].nativeValues?e[0].outstandingDebt.uiAmountFloat:e[0].outstandingDebt.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"",Je=dictionary[e[3].language].reserveDetail.availableLiquidity.toUpperCase()+"",Xe=currencyFormatter(e[2].nativeValues?e[0].availableLiquidity.uiAmountFloat:e[0].availableLiquidity.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"",Qe=dictionary[e[3].language].reserveDetail.minimumCollateralizationRatio.toUpperCase()+"",et=e[0].maximumLTV/100+"",tt=dictionary[e[3].language].reserveDetail.liquidationPremium.toUpperCase()+"",rt=e[0].liquidationPremium/100+"";k=new Toggle({props:{onClick:e[5],active:!e[2].nativeValues,native:!0}}),B=new PercentageChart({props:{percentage:100*e[0].utilizationRate,text:dictionary[e[3].language].reserveDetail.utilisationRate.toUpperCase(),term:"utilisationRate"}});let nt=e[2].nativeValues&&create_if_block_3$7(e),it=e[2].nativeValues&&create_if_block_2$b(e);ge=new Info({props:{term:"collateralizationRatio",style:"margin: unset;"}}),Ee=new Info({props:{term:"liquidationPremium",style:"margin: unset;"}});const ot=[create_if_block_1$f,create_else_block$c],at=[];function st(e,t){return e[3].wallet?0:1}return Le=st(e),Be=at[Le]=ot[Le](e),{c(){t=element("div"),n=space(),i=element("div"),o=element("div"),a=element("div"),s=element("img"),l=space(),d=element("h1"),f=text(He),h=space(),p=element("span"),m=text("1 "),g=text(qe),b=text(" ≈ "),y=text(We),_=space(),v=element("div"),w=element("div"),$=space(),S=element("div"),create_component(k.$$.fragment),A=space(),E=element("div"),I=element("span"),R=text(Ve),T=space(),x=element("h2"),P=text(Ye),M=space(),C=element("div"),O=space(),L=element("div"),create_component(B.$$.fragment),N=space(),D=element("div"),U=element("div"),j=element("div"),z=space(),F=element("span"),K=text(Ge),H=space(),q=element("br"),W=space(),V=element("p"),Y=text(Ze),G=space(),nt&&nt.c(),Z=space(),J=element("div"),X=element("div"),Q=space(),ee=element("span"),te=text(Je),re=space(),ne=element("br"),ie=space(),oe=element("p"),ae=text(Xe),se=space(),it&&it.c(),ce=space(),ue=element("div"),le=space(),de=element("div"),fe=element("div"),he=element("span"),pe=text(Qe),me=space(),create_component(ge.$$.fragment),be=space(),ye=element("p"),_e=text(et),ve=text("%"),we=space(),$e=element("div"),Se=element("span"),ke=text(tt),Ae=space(),create_component(Ee.$$.fragment),Ie=space(),Re=element("p"),Te=text(rt),xe=text("%"),Pe=space(),Me=element("div"),Ce=space(),Oe=element("div"),Be.c(),Ne=space(),De=element("i"),De.textContent="✕",attr(t,"class","modal-bg flex-centered svelte-1px3jbr"),src_url_equal(s.src,c="img/cryptos/"+e[0].abbrev+".png")||attr(s,"src",c),attr(s,"alt",u=e[0].abbrev+" Logo"),attr(s,"class","svelte-1px3jbr"),attr(d,"class","modal-header"),attr(a,"class","flex align-center-justify-center"),attr(o,"class","modal-section flex-centered column"),attr(w,"class","divider svelte-1px3jbr"),attr(S,"class","toggler svelte-1px3jbr"),attr(v,"class","native-toggle svelte-1px3jbr"),attr(I,"class","flex-centered"),attr(x,"class","modal-subheader text-gradient"),attr(E,"class","modal-section flex-centered column"),attr(C,"class","divider svelte-1px3jbr"),attr(j,"class","asset-info-color svelte-1px3jbr"),set_style(j,"background","var(--failure)"),set_style(j,"box-shadow","var(--neu-shadow-inset-failure)"),set_style(F,"text-align","start"),attr(U,"class","flex align-start justify-center"),set_style(U,"margin","var(--spacing-sm)"),attr(X,"class","asset-info-color svelte-1px3jbr"),set_style(X,"background","var(--success)"),set_style(X,"box-shadow","var(--neu-shadow-inset-success)"),set_style(ee,"text-align","start"),attr(J,"class","flex align-start justify-center"),set_style(J,"margin","var(--spacing-sm)"),attr(D,"class","flex align-start justify-center column"),attr(L,"class","modal-section flex align-center justify-evenly"),attr(ue,"class","divider svelte-1px3jbr"),attr(fe,"class","modal-detail flex-centered column"),attr($e,"class","modal-detail flex-centered column"),attr(de,"class","modal-section flex-centered"),attr(Me,"class","divider svelte-1px3jbr"),attr(Oe,"class","modal-section flex-centered"),attr(De,"class","jet-icons close"),attr(i,"class","reserve-detail modal flex-centered column svelte-1px3jbr")},m(r,c){insert(r,t,c),insert(r,n,c),insert(r,i,c),append(i,o),append(o,a),append(a,s),append(a,l),append(a,d),append(d,f),append(o,h),append(o,p),append(p,m),append(p,g),append(p,b),append(p,y),append(i,_),append(i,v),append(v,w),append(v,$),append(v,S),mount_component(k,S,null),append(i,A),append(i,E),append(E,I),append(I,R),append(E,T),append(E,x),append(x,P),append(i,M),append(i,C),append(i,O),append(i,L),mount_component(B,L,null),append(L,N),append(L,D),append(D,U),append(U,j),append(U,z),append(U,F),append(F,K),append(F,H),append(F,q),append(F,W),append(F,V),append(V,Y),append(V,G),nt&&nt.m(V,null),append(D,Z),append(D,J),append(J,X),append(J,Q),append(J,ee),append(ee,te),append(ee,re),append(ee,ne),append(ee,ie),append(ee,oe),append(oe,ae),append(oe,se),it&&it.m(oe,null),append(i,ce),append(i,ue),append(i,le),append(i,de),append(de,fe),append(fe,he),append(he,pe),append(he,me),mount_component(ge,he,null),append(fe,be),append(fe,ye),append(ye,_e),append(ye,ve),append(de,we),append(de,$e),append($e,Se),append(Se,ke),append(Se,Ae),mount_component(Ee,Se,null),append($e,Ie),append($e,Re),append(Re,Te),append(Re,xe),append(i,Pe),append(i,Me),append(i,Ce),append(i,Oe),at[Le].m(Oe,null),append(i,Ne),append(i,De),ze=!0,Fe||(Ke=[listen(t,"click",e[4]),listen(De,"click",e[8])],Fe=!0)},p(e,t){(!ze||1&t&&!src_url_equal(s.src,c="img/cryptos/"+e[0].abbrev+".png"))&&attr(s,"src",c),(!ze||1&t&&u!==(u=e[0].abbrev+" Logo"))&&attr(s,"alt",u),(!ze||1&t)&&He!==(He=e[0].name.toUpperCase()+"")&&set_data(f,He),(!ze||1&t)&&qe!==(qe=e[0].abbrev+"")&&set_data(g,qe),(!ze||1&t)&&We!==(We=currencyFormatter(e[0].price,!0,2)+"")&&set_data(y,We);const r={};4&t&&(r.active=!e[2].nativeValues),k.$set(r),(!ze||8&t)&&Ve!==(Ve=dictionary[e[3].language].reserveDetail.reserveSize.toUpperCase()+"")&&set_data(R,Ve),(!ze||5&t)&&Ye!==(Ye=currencyFormatter(e[2].nativeValues?e[0].marketSize.uiAmountFloat:e[0].marketSize.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"")&&set_data(P,Ye);const n={};1&t&&(n.percentage=100*e[0].utilizationRate),8&t&&(n.text=dictionary[e[3].language].reserveDetail.utilisationRate.toUpperCase()),B.$set(n),(!ze||8&t)&&Ge!==(Ge=dictionary[e[3].language].reserveDetail.totalBorrowed.toUpperCase()+"")&&set_data(K,Ge),(!ze||5&t)&&Ze!==(Ze=currencyFormatter(e[2].nativeValues?e[0].outstandingDebt.uiAmountFloat:e[0].outstandingDebt.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"")&&set_data(Y,Ze),e[2].nativeValues?nt?nt.p(e,t):(nt=create_if_block_3$7(e),nt.c(),nt.m(V,null)):nt&&(nt.d(1),nt=null),(!ze||8&t)&&Je!==(Je=dictionary[e[3].language].reserveDetail.availableLiquidity.toUpperCase()+"")&&set_data(te,Je),(!ze||5&t)&&Xe!==(Xe=currencyFormatter(e[2].nativeValues?e[0].availableLiquidity.uiAmountFloat:e[0].availableLiquidity.muln(e[0].price).uiAmountFloat,!e[2].nativeValues,2)+"")&&set_data(ae,Xe),e[2].nativeValues?it?it.p(e,t):(it=create_if_block_2$b(e),it.c(),it.m(oe,null)):it&&(it.d(1),it=null),(!ze||8&t)&&Qe!==(Qe=dictionary[e[3].language].reserveDetail.minimumCollateralizationRatio.toUpperCase()+"")&&set_data(pe,Qe),(!ze||1&t)&&et!==(et=e[0].maximumLTV/100+"")&&set_data(_e,et),(!ze||8&t)&&tt!==(tt=dictionary[e[3].language].reserveDetail.liquidationPremium.toUpperCase()+"")&&set_data(ke,tt),(!ze||1&t)&&rt!==(rt=e[0].liquidationPremium/100+"")&&set_data(Te,rt);let i=Le;Le=st(e),Le===i?at[Le].p(e,t):(group_outros(),transition_out(at[i],1,1,(()=>{at[i]=null})),check_outros(),Be=at[Le],Be?Be.p(e,t):(Be=at[Le]=ot[Le](e),Be.c()),transition_in(Be,1),Be.m(Oe,null))},i(e){ze||(add_render_callback((()=>{r||(r=create_bidirectional_transition(t,fade,{duration:50},!0)),r.run(1)})),transition_in(k.$$.fragment,e),transition_in(B.$$.fragment,e),transition_in(ge.$$.fragment,e),transition_in(Ee.$$.fragment,e),transition_in(Be),add_render_callback((()=>{je&&je.end(1),Ue=create_in_transition(i,fly,{y:25,duration:500}),Ue.start()})),ze=!0)},o(e){r||(r=create_bidirectional_transition(t,fade,{duration:50},!1)),r.run(0),transition_out(k.$$.fragment,e),transition_out(B.$$.fragment,e),transition_out(ge.$$.fragment,e),transition_out(Ee.$$.fragment,e),transition_out(Be),Ue&&Ue.invalidate(),je=create_out_transition(i,fade,{duration:50}),ze=!1},d(e){e&&detach(t),e&&r&&r.end(),e&&detach(n),e&&detach(i),destroy_component(k),destroy_component(B),nt&&nt.d(),it&&it.d(),destroy_component(ge),destroy_component(Ee),at[Le].d(),e&&je&&je.end(),Fe=!1,run_all(Ke)}}}function create_if_block_3$7(e){let t,r=e[0].abbrev+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){1&n&&r!==(r=e[0].abbrev+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_2$b(e){let t,r=e[0].abbrev+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){1&n&&r!==(r=e[0].abbrev+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_else_block$c(e){let t,r;return t=new Button({props:{text:dictionary[e[3].language].settings.connect,onClick:e[7]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};8&r&&(n.text=dictionary[e[3].language].settings.connect),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$f(e){let t,r;return t=new Button({props:{text:dictionary[e[3].language].reserveDetail.tradeAsset.replace("{{ASSET}}",e[0].abbrev),onClick:e[6]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};9&r&&(n.text=dictionary[e[3].language].reserveDetail.tradeAsset.replace("{{ASSET}}",e[0].abbrev)),2&r&&(n.onClick=e[6]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$r(e){let t,r,n=e[0]&&create_if_block$j(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[0]?n?(n.p(e,r),1&r&&transition_in(n,1)):(n=create_if_block$j(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$p(e,t,r){let n,i;component_subscribe(e,MARKET,(e=>r(2,n=e))),component_subscribe(e,USER,(e=>r(3,i=e)));let{reserveDetail:o}=t,{closeModal:a}=t;onMount((()=>{document.addEventListener("keypress",(e=>{"Escape"!==e.code&&"Enter"!==e.code||a()}))}));return e.$$set=e=>{"reserveDetail"in e&&r(0,o=e.reserveDetail),"closeModal"in e&&r(1,a=e.closeModal)},[o,a,n,i,()=>a(),()=>MARKET.update((e=>(e.nativeValues=!e.nativeValues,e))),()=>{a()},()=>USER.update((e=>(e.connectingWallet=!0,e))),()=>a()]}class ReserveDetail extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$p,create_fragment$r,safe_not_equal,{reserveDetail:0,closeModal:1})}}function create_else_block$b(e){let t,r,n=dictionary[e[0].language].cockpit.noMarket+"";return{c(){t=element("span"),r=text(n),attr(t,"class","svelte-jdgpxy")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){1&t&&n!==(n=dictionary[e[0].language].cockpit.noMarket+"")&&set_data(r,n)},d(e){e&&detach(t)}}}function create_if_block_1$e(e){let t,r,n=dictionary[e[0].language].cockpit.geobanned+"";return{c(){t=element("span"),r=text(n),attr(t,"class","svelte-jdgpxy")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){1&t&&n!==(n=dictionary[e[0].language].cockpit.geobanned+"")&&set_data(r,n)},d(e){e&&detach(t)}}}function create_if_block$i(e){let t,r,n,i,o,a,s,c=e[0].rpcNode+"";return a=new Button({props:{small:!0,text:dictionary[e[0].language].settings.reset,onClick:e[1]}}),{c(){t=element("p"),r=element("i"),n=space(),i=text(c),o=space(),create_component(a.$$.fragment),attr(r,"class","fas fa-wifi svelte-jdgpxy"),attr(t,"class","svelte-jdgpxy")},m(e,c){insert(e,t,c),append(t,r),append(t,n),append(t,i),insert(e,o,c),mount_component(a,e,c),s=!0},p(e,t){(!s||1&t)&&c!==(c=e[0].rpcNode+"")&&set_data(i,c);const r={};1&t&&(r.text=dictionary[e[0].language].settings.reset),a.$set(r)},i(e){s||(transition_in(a.$$.fragment,e),s=!0)},o(e){transition_out(a.$$.fragment,e),s=!1},d(e){e&&detach(t),e&&detach(o),destroy_component(a,e)}}}function create_fragment$q(e){let t,r,n,i,o,a,s,c,u,l=dictionary[e[0].language].copilot.alert.failed+"";function d(e,t){return e[0].geobanned?create_if_block_1$e:create_else_block$b}let f=d(e),h=f(e),p=e[0].rpcNode&&create_if_block$i(e);return{c(){t=element("div"),r=element("img"),i=space(),o=element("h1"),a=text(l),s=space(),h.c(),c=space(),p&&p.c(),src_url_equal(r.src,n="img/ui/failed_init.gif")||attr(r,"src","img/ui/failed_init.gif"),attr(r,"alt","Failed To Init App"),attr(r,"class","svelte-jdgpxy"),attr(o,"class","bicyclette svelte-jdgpxy"),attr(t,"class","view-container flex-centered column svelte-jdgpxy")},m(e,n){insert(e,t,n),append(t,r),append(t,i),append(t,o),append(o,a),append(t,s),h.m(t,null),append(t,c),p&&p.m(t,null),u=!0},p(e,[r]){(!u||1&r)&&l!==(l=dictionary[e[0].language].copilot.alert.failed+"")&&set_data(a,l),f===(f=d(e))&&h?h.p(e,r):(h.d(1),h=f(e),h&&(h.c(),h.m(t,c))),e[0].rpcNode?p?(p.p(e,r),1&r&&transition_in(p,1)):(p=create_if_block$i(e),p.c(),transition_in(p,1),p.m(t,null)):p&&(group_outros(),transition_out(p,1,1,(()=>{p=null})),check_outros())},i(e){u||(transition_in(p),u=!0)},o(e){transition_out(p),u=!1},d(e){e&&detach(t),h.d(),p&&p.d()}}}function instance$o(e,t,r){let n;component_subscribe(e,USER,(e=>r(0,n=e)));return[n,async()=>{localStorage.removeItem("jetPreferredNode"),USER.update((e=>(e.rpcPing=0,e))),await getIDLAndAnchorAndMarketPubkeys()}]}class InitFailed extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$o,create_fragment$q,safe_not_equal,{})}}function is_date(e){return"[object Date]"===Object.prototype.toString.call(e)}function tick_spring(e,t,r,n){if("number"==typeof r||is_date(r)){const i=n-r,o=(r-t)/(e.dt||1/60),a=(o+(e.opts.stiffness*i-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(i)<e.opts.precision?n:(e.settled=!1,is_date(r)?new Date(r.getTime()+a):r+a)}if(Array.isArray(r))return r.map(((i,o)=>tick_spring(e,t[o],r[o],n[o])));if("object"==typeof r){const i={};for(const o in r)i[o]=tick_spring(e,t[o],r[o],n[o]);return i}throw new Error(`Cannot spring ${typeof r} values`)}function spring(e,t={}){const r=writable(e),{stiffness:n=.15,damping:i=.8,precision:o=.01}=t;let a,s,c,u=e,l=e,d=1,f=0,h=!1;function p(t,n={}){l=t;const i=c={};if(null==e||n.hard||m.stiffness>=1&&m.damping>=1)return h=!0,a=now(),u=t,r.set(e=l),Promise.resolve();if(n.soft){const e=!0===n.soft?.5:+n.soft;f=1/(60*e),d=0}return s||(a=now(),h=!1,s=loop((t=>{if(h)return h=!1,s=null,!1;d=Math.min(d+f,1);const n={inv_mass:d,opts:m,settled:!0,dt:60*(t-a)/1e3},i=tick_spring(n,u,e,l);return a=t,u=e,r.set(e=i),n.settled&&(s=null),!n.settled}))),new Promise((e=>{s.promise.then((()=>{i===c&&e()}))}))}const m={set:p,update:(t,r)=>p(t(l,e),r),subscribe:r.subscribe,stiffness:n,damping:i,precision:o};return m}function get_each_context$c(e,t,r){const n=e.slice();return n[21]=t[r],n[23]=r,n}function create_if_block_9$4(e){let t,r,n=("label"===e[3]||"label"===e[4])&&create_if_block_10$3(e);return{c(){t=element("span"),n&&n.c(),attr(t,"class","pip first"),attr(t,"style",r=(e[2]?"top":"left")+": 0%;"),toggle_class(t,"selected",e[13](e[0])),toggle_class(t,"in-range",e[12](e[0]))},m(e,r){insert(e,t,r),n&&n.m(t,null)},p(e,i){"label"===e[3]||"label"===e[4]?n?n.p(e,i):(n=create_if_block_10$3(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null),4&i&&r!==(r=(e[2]?"top":"left")+": 0%;")&&attr(t,"style",r),8193&i&&toggle_class(t,"selected",e[13](e[0])),4097&i&&toggle_class(t,"in-range",e[12](e[0]))},d(e){e&&detach(t),n&&n.d()}}}function create_if_block_10$3(e){let t,r,n=e[9](e[0],0)+"",i=e[7]&&create_if_block_12$1(e),o=e[8]&&create_if_block_11$1(e);return{c(){t=element("span"),i&&i.c(),r=text(n),o&&o.c(),attr(t,"class","pipVal")},m(e,n){insert(e,t,n),i&&i.m(t,null),append(t,r),o&&o.m(t,null)},p(e,a){e[7]?i?i.p(e,a):(i=create_if_block_12$1(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),513&a&&n!==(n=e[9](e[0],0)+"")&&set_data(r,n),e[8]?o?o.p(e,a):(o=create_if_block_11$1(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&detach(t),i&&i.d(),o&&o.d()}}}function create_if_block_12$1(e){let t,r;return{c(){t=element("span"),r=text(e[7]),attr(t,"class","pipVal-prefix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){128&t&&set_data(r,e[7])},d(e){e&&detach(t)}}}function create_if_block_11$1(e){let t,r;return{c(){t=element("span"),r=text(e[8]),attr(t,"class","pipVal-suffix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){256&t&&set_data(r,e[8])},d(e){e&&detach(t)}}}function create_if_block_4$6(e){let t,r=Array(e[15]+1),n=[];for(let t=0;t<r.length;t+=1)n[t]=create_each_block$c(get_each_context$c(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=empty()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);insert(e,t,r)},p(e,i){if(64463&i){let o;for(r=Array(e[15]+1),o=0;o<r.length;o+=1){const a=get_each_context$c(e,r,o);n[o]?n[o].p(a,i):(n[o]=create_each_block$c(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){destroy_each(n,e),e&&detach(t)}}}function create_if_block_5$4(e){let t,r,n,i=("label"===e[3]||"label"===e[6])&&create_if_block_6$4(e);return{c(){t=element("span"),i&&i.c(),r=space(),attr(t,"class","pip"),attr(t,"style",n=(e[2]?"top":"left")+": "+e[11](e[14](e[23]))+"%;"),toggle_class(t,"selected",e[13](e[14](e[23]))),toggle_class(t,"in-range",e[12](e[14](e[23])))},m(e,n){insert(e,t,n),i&&i.m(t,null),append(t,r)},p(e,o){"label"===e[3]||"label"===e[6]?i?i.p(e,o):(i=create_if_block_6$4(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),18436&o&&n!==(n=(e[2]?"top":"left")+": "+e[11](e[14](e[23]))+"%;")&&attr(t,"style",n),24576&o&&toggle_class(t,"selected",e[13](e[14](e[23]))),20480&o&&toggle_class(t,"in-range",e[12](e[14](e[23])))},d(e){e&&detach(t),i&&i.d()}}}function create_if_block_6$4(e){let t,r,n=e[9](e[14](e[23]),e[23])+"",i=e[7]&&create_if_block_8$4(e),o=e[8]&&create_if_block_7$4(e);return{c(){t=element("span"),i&&i.c(),r=text(n),o&&o.c(),attr(t,"class","pipVal")},m(e,n){insert(e,t,n),i&&i.m(t,null),append(t,r),o&&o.m(t,null)},p(e,a){e[7]?i?i.p(e,a):(i=create_if_block_8$4(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),16896&a&&n!==(n=e[9](e[14](e[23]),e[23])+"")&&set_data(r,n),e[8]?o?o.p(e,a):(o=create_if_block_7$4(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&detach(t),i&&i.d(),o&&o.d()}}}function create_if_block_8$4(e){let t,r;return{c(){t=element("span"),r=text(e[7]),attr(t,"class","pipVal-prefix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){128&t&&set_data(r,e[7])},d(e){e&&detach(t)}}}function create_if_block_7$4(e){let t,r;return{c(){t=element("span"),r=text(e[8]),attr(t,"class","pipVal-suffix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){256&t&&set_data(r,e[8])},d(e){e&&detach(t)}}}function create_each_block$c(e){let t,r=e[14](e[23])!==e[0]&&e[14](e[23])!==e[1],n=r&&create_if_block_5$4(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,i){16387&i&&(r=e[14](e[23])!==e[0]&&e[14](e[23])!==e[1]),r?n?n.p(e,i):(n=create_if_block_5$4(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&detach(t)}}}function create_if_block$h(e){let t,r,n=("label"===e[3]||"label"===e[5])&&create_if_block_1$d(e);return{c(){t=element("span"),n&&n.c(),attr(t,"class","pip last"),attr(t,"style",r=(e[2]?"top":"left")+": 100%;"),toggle_class(t,"selected",e[13](e[1])),toggle_class(t,"in-range",e[12](e[1]))},m(e,r){insert(e,t,r),n&&n.m(t,null)},p(e,i){"label"===e[3]||"label"===e[5]?n?n.p(e,i):(n=create_if_block_1$d(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null),4&i&&r!==(r=(e[2]?"top":"left")+": 100%;")&&attr(t,"style",r),8194&i&&toggle_class(t,"selected",e[13](e[1])),4098&i&&toggle_class(t,"in-range",e[12](e[1]))},d(e){e&&detach(t),n&&n.d()}}}function create_if_block_1$d(e){let t,r,n=e[9](e[1],e[15])+"",i=e[7]&&create_if_block_3$6(e),o=e[8]&&create_if_block_2$a(e);return{c(){t=element("span"),i&&i.c(),r=text(n),o&&o.c(),attr(t,"class","pipVal")},m(e,n){insert(e,t,n),i&&i.m(t,null),append(t,r),o&&o.m(t,null)},p(e,a){e[7]?i?i.p(e,a):(i=create_if_block_3$6(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),33282&a&&n!==(n=e[9](e[1],e[15])+"")&&set_data(r,n),e[8]?o?o.p(e,a):(o=create_if_block_2$a(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&detach(t),i&&i.d(),o&&o.d()}}}function create_if_block_3$6(e){let t,r;return{c(){t=element("span"),r=text(e[7]),attr(t,"class","pipVal-prefix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){128&t&&set_data(r,e[7])},d(e){e&&detach(t)}}}function create_if_block_2$a(e){let t,r;return{c(){t=element("span"),r=text(e[8]),attr(t,"class","pipVal-suffix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){256&t&&set_data(r,e[8])},d(e){e&&detach(t)}}}function create_fragment$p(e){let t,r,n,i=(e[3]&&!1!==e[4]||e[4])&&create_if_block_9$4(e),o=(e[3]&&!1!==e[6]||e[6])&&create_if_block_4$6(e),a=(e[3]&&!1!==e[5]||e[5])&&create_if_block$h(e);return{c(){t=element("div"),i&&i.c(),r=space(),o&&o.c(),n=space(),a&&a.c(),attr(t,"class","rangePips"),toggle_class(t,"focus",e[10]),toggle_class(t,"vertical",e[2])},m(e,s){insert(e,t,s),i&&i.m(t,null),append(t,r),o&&o.m(t,null),append(t,n),a&&a.m(t,null)},p(e,[s]){e[3]&&!1!==e[4]||e[4]?i?i.p(e,s):(i=create_if_block_9$4(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),e[3]&&!1!==e[6]||e[6]?o?o.p(e,s):(o=create_if_block_4$6(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),e[3]&&!1!==e[5]||e[5]?a?a.p(e,s):(a=create_if_block$h(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),1024&s&&toggle_class(t,"focus",e[10]),4&s&&toggle_class(t,"vertical",e[2])},i:noop$1,o:noop$1,d(e){e&&detach(t),i&&i.d(),o&&o.d(),a&&a.d()}}}function instance$n(e,t,r){let n,i,o,a,s,{range:c=!1}=t,{min:u=0}=t,{max:l=100}=t,{step:d=1}=t,{values:f=[(l+u)/2]}=t,{vertical:h=!1}=t,{pipstep:p}=t,{all:m=!0}=t,{first:g}=t,{last:b}=t,{rest:y}=t,{prefix:_=""}=t,{suffix:v=""}=t,{formatter:w=((e,t)=>e)}=t,{focus:$}=t,{percentOf:S}=t;return e.$$set=e=>{"range"in e&&r(16,c=e.range),"min"in e&&r(0,u=e.min),"max"in e&&r(1,l=e.max),"step"in e&&r(17,d=e.step),"values"in e&&r(18,f=e.values),"vertical"in e&&r(2,h=e.vertical),"pipstep"in e&&r(19,p=e.pipstep),"all"in e&&r(3,m=e.all),"first"in e&&r(4,g=e.first),"last"in e&&r(5,b=e.last),"rest"in e&&r(6,y=e.rest),"prefix"in e&&r(7,_=e.prefix),"suffix"in e&&r(8,v=e.suffix),"formatter"in e&&r(9,w=e.formatter),"focus"in e&&r(10,$=e.focus),"percentOf"in e&&r(11,S=e.percentOf)},e.$$.update=()=>{655367&e.$$.dirty&&r(20,n=p||((l-u)/d>=(h?50:100)?(l-u)/(h?10:20):1)),1179651&e.$$.dirty&&r(15,i=parseInt((l-u)/(d*n),10)),1179649&e.$$.dirty&&r(14,o=function(e){return u+e*d*n}),262144&e.$$.dirty&&r(13,a=function(e){return f.some((t=>t===e))}),327680&e.$$.dirty&&r(12,s=function(e){return"min"===c?f[0]>e:"max"===c?f[0]<e:c?f[0]<e&&f[1]>e:void 0})},[u,l,h,m,g,b,y,_,v,w,$,S,s,a,o,i,c,d,f,p,n]}class RangePips extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$n,create_fragment$p,safe_not_equal,{range:16,min:0,max:1,step:17,values:18,vertical:2,pipstep:19,all:3,first:4,last:5,rest:6,prefix:7,suffix:8,formatter:9,focus:10,percentOf:11})}}function get_each_context$b(e,t,r){const n=e.slice();return n[60]=t[r],n[62]=r,n}function create_if_block_2$9(e){let t,r,n=e[19](e[60],e[62])+"",i=e[16]&&create_if_block_4$5(e),o=e[17]&&create_if_block_3$5(e);return{c(){t=element("span"),i&&i.c(),r=text(n),o&&o.c(),attr(t,"class","rangeFloat")},m(e,n){insert(e,t,n),i&&i.m(t,null),append(t,r),o&&o.m(t,null)},p(e,a){e[16]?i?i.p(e,a):(i=create_if_block_4$5(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),524289&a[0]&&n!==(n=e[19](e[60],e[62])+"")&&set_data(r,n),e[17]?o?o.p(e,a):(o=create_if_block_3$5(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&detach(t),i&&i.d(),o&&o.d()}}}function create_if_block_4$5(e){let t,r;return{c(){t=element("span"),r=text(e[16]),attr(t,"class","rangeFloat-prefix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){65536&t[0]&&set_data(r,e[16])},d(e){e&&detach(t)}}}function create_if_block_3$5(e){let t,r;return{c(){t=element("span"),r=text(e[17]),attr(t,"class","rangeFloat-suffix")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){131072&t[0]&&set_data(r,e[17])},d(e){e&&detach(t)}}}function create_each_block$b(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p=e[6]&&create_if_block_2$9(e);return{c(){t=element("span"),r=element("span"),n=space(),p&&p.c(),attr(r,"class","rangeNub"),attr(t,"role","slider"),attr(t,"class","rangeHandle"),attr(t,"data-handle",i=e[62]),attr(t,"style",o=(e[5]?"top":"left")+": "+e[26][e[62]]+"%; z-index: "+(e[25]===e[62]?3:2)+";"),attr(t,"aria-valuemin",a=!0===e[1]&&1===e[62]?e[0][0]:e[2]),attr(t,"aria-valuemax",s=!0===e[1]&&0===e[62]?e[0][1]:e[3]),attr(t,"aria-valuenow",c=e[60]),attr(t,"aria-valuetext",u=""+(e[16]+e[19](e[60],e[62])+e[17])),attr(t,"aria-orientation",l=e[5]?"vertical":"horizontal"),attr(t,"aria-disabled",e[8]),attr(t,"disabled",e[8]),attr(t,"tabindex",d=e[8]?-1:0),toggle_class(t,"hoverable",e[7]&&!e[8]),toggle_class(t,"active",e[23]&&e[25]===e[62]),toggle_class(t,"press",e[24]&&e[25]===e[62])},m(i,o){insert(i,t,o),append(t,r),append(t,n),p&&p.m(t,null),f||(h=[listen(t,"blur",e[29]),listen(t,"focus",e[30]),listen(t,"keydown",e[31])],f=!0)},p(e,r){e[6]?p?p.p(e,r):(p=create_if_block_2$9(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),100663328&r[0]&&o!==(o=(e[5]?"top":"left")+": "+e[26][e[62]]+"%; z-index: "+(e[25]===e[62]?3:2)+";")&&attr(t,"style",o),7&r[0]&&a!==(a=!0===e[1]&&1===e[62]?e[0][0]:e[2])&&attr(t,"aria-valuemin",a),11&r[0]&&s!==(s=!0===e[1]&&0===e[62]?e[0][1]:e[3])&&attr(t,"aria-valuemax",s),1&r[0]&&c!==(c=e[60])&&attr(t,"aria-valuenow",c),720897&r[0]&&u!==(u=""+(e[16]+e[19](e[60],e[62])+e[17]))&&attr(t,"aria-valuetext",u),32&r[0]&&l!==(l=e[5]?"vertical":"horizontal")&&attr(t,"aria-orientation",l),256&r[0]&&attr(t,"aria-disabled",e[8]),256&r[0]&&attr(t,"disabled",e[8]),256&r[0]&&d!==(d=e[8]?-1:0)&&attr(t,"tabindex",d),384&r[0]&&toggle_class(t,"hoverable",e[7]&&!e[8]),41943040&r[0]&&toggle_class(t,"active",e[23]&&e[25]===e[62]),50331648&r[0]&&toggle_class(t,"press",e[24]&&e[25]===e[62])},d(e){e&&detach(t),p&&p.d(),f=!1,run_all(h)}}}function create_if_block_1$c(e){let t,r;return{c(){t=element("span"),attr(t,"class","rangeBar"),attr(t,"style",r=(e[5]?"top":"left")+": "+e[27](e[26])+"%; "+(e[5]?"bottom":"right")+": "+e[28](e[26])+"%;")},m(e,r){insert(e,t,r)},p(e,n){67108896&n[0]&&r!==(r=(e[5]?"top":"left")+": "+e[27](e[26])+"%; "+(e[5]?"bottom":"right")+": "+e[28](e[26])+"%;")&&attr(t,"style",r)},d(e){e&&detach(t)}}}function create_if_block$g(e){let t,r;return t=new RangePips({props:{values:e[0],min:e[2],max:e[3],step:e[4],range:e[1],vertical:e[5],all:e[11],first:e[12],last:e[13],rest:e[14],pipstep:e[10],prefix:e[16],suffix:e[17],formatter:e[18],focus:e[23],percentOf:e[21]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r[0]&&(n.values=e[0]),4&r[0]&&(n.min=e[2]),8&r[0]&&(n.max=e[3]),16&r[0]&&(n.step=e[4]),2&r[0]&&(n.range=e[1]),32&r[0]&&(n.vertical=e[5]),2048&r[0]&&(n.all=e[11]),4096&r[0]&&(n.first=e[12]),8192&r[0]&&(n.last=e[13]),16384&r[0]&&(n.rest=e[14]),1024&r[0]&&(n.pipstep=e[10]),65536&r[0]&&(n.prefix=e[16]),131072&r[0]&&(n.suffix=e[17]),262144&r[0]&&(n.formatter=e[18]),8388608&r[0]&&(n.focus=e[23]),2097152&r[0]&&(n.percentOf=e[21]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$o(e){let t,r,n,i,o,a,s=e[0],c=[];for(let t=0;t<s.length;t+=1)c[t]=create_each_block$b(get_each_context$b(e,s,t));let u=e[1]&&create_if_block_1$c(e),l=e[9]&&create_if_block$g(e);return{c(){t=element("div");for(let e=0;e<c.length;e+=1)c[e].c();r=space(),u&&u.c(),n=space(),l&&l.c(),attr(t,"id",e[15]),attr(t,"class","rangeSlider"),toggle_class(t,"range",e[1]),toggle_class(t,"disabled",e[8]),toggle_class(t,"vertical",e[5]),toggle_class(t,"focus",e[23]),toggle_class(t,"min","min"===e[1]),toggle_class(t,"max","max"===e[1]),toggle_class(t,"pips",e[9]),toggle_class(t,"pip-labels","label"===e[11]||"label"===e[12]||"label"===e[13]||"label"===e[14])},m(s,d){insert(s,t,d);for(let e=0;e<c.length;e+=1)c[e].m(t,null);append(t,r),u&&u.m(t,null),append(t,n),l&&l.m(t,null),e[45](t),i=!0,o||(a=[listen(window,"mousedown",e[34]),listen(window,"touchstart",e[34]),listen(window,"mousemove",e[35]),listen(window,"touchmove",e[35]),listen(window,"mouseup",e[36]),listen(window,"touchend",e[37]),listen(window,"keydown",e[38]),listen(t,"mousedown",e[32]),listen(t,"mouseup",e[33]),listen(t,"touchstart",prevent_default(e[32])),listen(t,"touchend",prevent_default(e[33]))],o=!0)},p(e,o){if(1737163247&o[0]|1&o[1]){let n;for(s=e[0],n=0;n<s.length;n+=1){const i=get_each_context$b(e,s,n);c[n]?c[n].p(i,o):(c[n]=create_each_block$b(i),c[n].c(),c[n].m(t,r))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}e[1]?u?u.p(e,o):(u=create_if_block_1$c(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),e[9]?l?(l.p(e,o),512&o[0]&&transition_in(l,1)):(l=create_if_block$g(e),l.c(),transition_in(l,1),l.m(t,null)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros()),(!i||32768&o[0])&&attr(t,"id",e[15]),2&o[0]&&toggle_class(t,"range",e[1]),256&o[0]&&toggle_class(t,"disabled",e[8]),32&o[0]&&toggle_class(t,"vertical",e[5]),8388608&o[0]&&toggle_class(t,"focus",e[23]),2&o[0]&&toggle_class(t,"min","min"===e[1]),2&o[0]&&toggle_class(t,"max","max"===e[1]),512&o[0]&&toggle_class(t,"pips",e[9]),30720&o[0]&&toggle_class(t,"pip-labels","label"===e[11]||"label"===e[12]||"label"===e[13]||"label"===e[14])},i(e){i||(transition_in(l),i=!0)},o(e){transition_out(l),i=!1},d(r){r&&detach(t),destroy_each(c,r),u&&u.d(),l&&l.d(),e[45](null),o=!1,run_all(a)}}}function index(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function normalisedClient(e){return e.type.includes("touch")?e.touches[0]:e}function instance$m(e,t,r){let n,i,o,a,s=noop$1;e.$$.on_destroy.push((()=>s()));let{range:c=!1}=t,{pushy:u=!1}=t,{min:l=0}=t,{max:d=100}=t,{step:f=1}=t,{values:h=[(d+l)/2]}=t,{vertical:p=!1}=t,{float:m=!1}=t,{hover:g=!0}=t,{disabled:b=!1}=t,{pips:y=!1}=t,{pipstep:_}=t,{all:v}=t,{first:w}=t,{last:$}=t,{rest:S}=t,{id:k}=t,{prefix:A=""}=t,{suffix:E=""}=t,{formatter:I=((e,t)=>e)}=t,{handleFormatter:R=I}=t,{precision:T=2}=t,{springValues:x={stiffness:.15,damping:.4}}=t;const P=createEventDispatcher();let M,C,O,L,B=0,N=!1,D=!1,U=!1,j=!1,z=h.length-1;function F(){return M.getBoundingClientRect()}function K(e){const t=F();let r=0,n=0,i=0;p?(r=e.clientY-t.top,n=r/t.height*100,i=(d-l)/100*n+l):(r=e.clientX-t.left,n=r/t.width*100,i=(d-l)/100*n+l),H(z,i)}function H(e,t){t=o(t),c&&(0===e&&t>h[1]?u?r(0,h[1]=t,h):t=h[1]:1===e&&t<h[0]&&(u?r(0,h[0]=t,h):t=h[0])),h[e]!==t&&r(0,h[e]=t,h),O!==t&&(!b&&P("change",{activeHandle:z,startValue:C,previousValue:void 0===O?C:O,value:h[z],values:h.map((e=>o(e)))}),O=t)}function q(){!b&&P("stop",{activeHandle:z,startValue:C,value:h[z],values:h.map((e=>o(e)))})}return e.$$set=e=>{"range"in e&&r(1,c=e.range),"pushy"in e&&r(39,u=e.pushy),"min"in e&&r(2,l=e.min),"max"in e&&r(3,d=e.max),"step"in e&&r(4,f=e.step),"values"in e&&r(0,h=e.values),"vertical"in e&&r(5,p=e.vertical),"float"in e&&r(6,m=e.float),"hover"in e&&r(7,g=e.hover),"disabled"in e&&r(8,b=e.disabled),"pips"in e&&r(9,y=e.pips),"pipstep"in e&&r(10,_=e.pipstep),"all"in e&&r(11,v=e.all),"first"in e&&r(12,w=e.first),"last"in e&&r(13,$=e.last),"rest"in e&&r(14,S=e.rest),"id"in e&&r(15,k=e.id),"prefix"in e&&r(16,A=e.prefix),"suffix"in e&&r(17,E=e.suffix),"formatter"in e&&r(18,I=e.formatter),"handleFormatter"in e&&r(19,R=e.handleFormatter),"precision"in e&&r(40,T=e.precision),"springValues"in e&&r(41,x=e.springValues)},e.$$.update=()=>{12&e.$$.dirty[0]&&r(44,i=function(e){return e<=l?l:e>=d?d:e}),28&e.$$.dirty[0]|8704&e.$$.dirty[1]&&r(43,o=function(e){if(e<=l)return l;if(e>=d)return d;let t=(e-l)%f,r=e-t;return 2*Math.abs(t)>=f&&(r+=t>0?f:-f),r=i(r),parseFloat(r.toFixed(T))}),12&e.$$.dirty[0]|512&e.$$.dirty[1]&&r(21,n=function(e){let t=(e-l)/(d-l)*100;return isNaN(t)||t<=0?0:t>=100?100:parseFloat(t.toFixed(T))}),3145741&e.$$.dirty[0]|7168&e.$$.dirty[1]&&(Array.isArray(h)||(r(0,h=[(d+l)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),r(0,h=function(e){return"min"===c||"max"===c?e.slice(0,1):c?e.slice(0,2):e}(h.map((e=>o(e))))),B!==h.length?(r(20,L=spring(h.map((e=>n(e))),x)),s(),s=subscribe(L,(e=>r(26,a=e)))):L.set(h.map((e=>n(e)))),r(42,B=h.length))},[h,c,l,d,f,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,L,n,M,N,U,z,a,function(e){return"min"===c?0:e[0]},function(e){return"max"===c?0:"min"===c?100-e[0]:100-e[1]},function(e){j&&(r(23,N=!1),D=!1,r(24,U=!1))},function(e){b||(r(25,z=index(e.target)),r(23,N=!0))},function(e){if(!b){const t=index(e.target);let r=e.ctrlKey||e.metaKey||e.shiftKey?10*f:f,n=!1;switch(e.key){case"PageDown":r*=10;case"ArrowRight":case"ArrowUp":H(t,h[t]+r),n=!0;break;case"PageUp":r*=10;case"ArrowLeft":case"ArrowDown":H(t,h[t]-r),n=!0;break;case"Home":H(t,l),n=!0;break;case"End":H(t,d),n=!0}n&&(e.preventDefault(),e.stopPropagation())}},function(e){if(!b){const t=normalisedClient(e);r(23,N=!0),D=!0,r(24,U=!0),r(25,z=function(e){const t=F();let r,n=0,i=0,o=0;return p?(n=e.clientY-t.top,i=n/t.height*100,o=(d-l)/100*i+l):(n=e.clientX-t.left,i=n/t.width*100,o=(d-l)/100*i+l),!0===c&&h[0]===h[1]?o>h[1]?1:0:(r=h.indexOf([...h].sort(((e,t)=>Math.abs(o-e)-Math.abs(o-t)))[0]),r)}(t)),C=O=o(h[z]),!b&&P("start",{activeHandle:z,value:C,values:h.map((e=>o(e)))}),"touchstart"===e.type&&K(t)}},function(e){"touchend"===e.type&&q(),r(24,U=!1)},function(e){j=!1,N&&e.target!==M&&!M.contains(e.target)&&r(23,N=!1)},function(e){b||D&&K(normalisedClient(e))},function(e){if(!b){const t=e.target;D&&((t===M||M.contains(t))&&(r(23,N=!0),function(e){const t=M.querySelectorAll(".handle"),r=Array.prototype.includes.call(t,e),n=Array.prototype.some.call(t,(t=>t.contains(e)));return r||n}(t)||K(normalisedClient(e))),q())}D=!1,r(24,U=!1)},function(e){D=!1,r(24,U=!1)},function(e){b||(e.target===M||M.contains(e.target))&&(j=!0)},u,T,x,B,o,i,function(e){binding_callbacks[e?"unshift":"push"]((()=>{M=e,r(22,M)}))}]}class RangeSlider extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$m,create_fragment$o,safe_not_equal,{range:1,pushy:39,min:2,max:3,step:4,values:0,vertical:5,float:6,hover:7,disabled:8,pips:9,pipstep:10,all:11,first:12,last:13,rest:14,id:15,prefix:16,suffix:17,formatter:18,handleFormatter:19,precision:40,springValues:41},null,[-1,-1,-1])}}function create_if_block_1$b(e){let t,r,n,i,o,a,s,c,u,l,d,f=e[8].currentReserve?.abbrev+"",h=currencyFormatter((Number(e[0])??0)*e[8].currentReserve.price,!0,2)+"";return{c(){t=element("img"),i=space(),o=element("div"),a=element("span"),s=text(f),c=space(),u=element("span"),l=text("≈ "),d=text(h),src_url_equal(t.src,r="img/cryptos/"+e[8].currentReserve?.abbrev+".png")||attr(t,"src",r),attr(t,"alt",n=e[8].currentReserve?.name+" Logo"),attr(t,"class","svelte-14aqiov"),attr(a,"class","svelte-14aqiov"),attr(u,"class","svelte-14aqiov"),attr(o,"class","asset-abbrev-usd flex align-end justify-center column svelte-14aqiov")},m(e,r){insert(e,t,r),insert(e,i,r),insert(e,o,r),append(o,a),append(a,s),append(o,c),append(o,u),append(u,l),append(u,d)},p(e,i){256&i&&!src_url_equal(t.src,r="img/cryptos/"+e[8].currentReserve?.abbrev+".png")&&attr(t,"src",r),256&i&&n!==(n=e[8].currentReserve?.name+" Logo")&&attr(t,"alt",n),256&i&&f!==(f=e[8].currentReserve?.abbrev+"")&&set_data(s,f),257&i&&h!==(h=currencyFormatter((Number(e[0])??0)*e[8].currentReserve.price,!0,2)+"")&&set_data(d,h)},d(e){e&&detach(t),e&&detach(i),e&&detach(o)}}}function create_else_block$a(e){let t;return{c(){t=element("i"),t.textContent="➜",attr(t,"class","jet-icons svelte-14aqiov"),attr(t,"title","Save")},m(e,r){insert(e,t,r)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function create_if_block$f(e){let t,r;return t=new Loader({props:{button:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$n(e){let t,r,n,i,o,a,s,c,u,l,d,f,h=e[3]&&create_if_block_1$b(e);const p=[create_if_block$f,create_else_block$a],m=[];function g(e,t){return e[5]?0:1}return c=g(e),u=m[c]=p[c](e),{c(){t=element("div"),r=element("div"),n=element("input"),o=space(),h&&h.c(),a=space(),s=element("div"),u.c(),n.disabled=e[4],attr(n,"placeholder",i=e[1]??e[2]),attr(n,"class","svelte-14aqiov"),toggle_class(n,"error",e[1]),attr(r,"class","flex-centered svelte-14aqiov"),toggle_class(r,"currency",e[3]),attr(s,"class","input-btn flex-centered svelte-14aqiov"),toggle_class(s,"loading",e[5]),attr(t,"class","flex-centered svelte-14aqiov"),toggle_class(t,"disabled",e[4])},m(i,u){insert(i,t,u),append(t,r),append(r,n),set_input_value(n,e[0]),append(r,o),h&&h.m(r,null),append(t,a),append(t,s),m[c].m(s,null),l=!0,d||(f=[listen(n,"input",e[13]),action_destroyer(e[10].call(null,n)),listen(n,"keyup",e[14]),listen(n,"keypress",e[15]),listen(n,"click",e[16]),listen(s,"click",e[17])],d=!0)},p(e,[o]){(!l||16&o)&&(n.disabled=e[4]),(!l||6&o&&i!==(i=e[1]??e[2]))&&attr(n,"placeholder",i),1&o&&n.value!==e[0]&&set_input_value(n,e[0]),2&o&&toggle_class(n,"error",e[1]),e[3]?h?h.p(e,o):(h=create_if_block_1$b(e),h.c(),h.m(r,null)):h&&(h.d(1),h=null),8&o&&toggle_class(r,"currency",e[3]);let a=c;c=g(e),c!==a&&(group_outros(),transition_out(m[a],1,1,(()=>{m[a]=null})),check_outros(),u=m[c],u||(u=m[c]=p[c](e),u.c()),transition_in(u,1),u.m(s,null)),32&o&&toggle_class(s,"loading",e[5]),16&o&&toggle_class(t,"disabled",e[4])},i(e){l||(transition_in(u),l=!0)},o(e){transition_out(u),l=!1},d(e){e&&detach(t),h&&h.d(),m[c].d(),d=!1,run_all(f)}}}function instance$l(e,t,r){let n;component_subscribe(e,MARKET,(e=>r(8,n=e)));let{type:i}=t,{value:o}=t,{placeholder:a=""}=t,{currency:s=!1}=t,{maxInput:c=null}=t,{error:u=null}=t,{disabled:l=!1}=t,{loading:d=!1}=t,{keyUp:f=(()=>null)}=t,{submit:h}=t;const p=e=>{"Enter"!==e.code||l||h()};return e.$$set=e=>{"type"in e&&r(11,i=e.type),"value"in e&&r(0,o=e.value),"placeholder"in e&&r(2,a=e.placeholder),"currency"in e&&r(3,s=e.currency),"maxInput"in e&&r(12,c=e.maxInput),"error"in e&&r(1,u=e.error),"disabled"in e&&r(4,l=e.disabled),"loading"in e&&r(5,d=e.loading),"keyUp"in e&&r(6,f=e.keyUp),"submit"in e&&r(7,h=e.submit)},[o,u,a,s,l,d,f,h,n,p,e=>{e.type=i,"number"===i&&(e.max=c)},i,c,function(){o=this.value,r(0,o)},()=>f(),e=>p(e),()=>{r(1,u=null)},()=>{l||h()}]}class Input extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$l,create_fragment$n,safe_not_equal,{type:11,value:0,placeholder:2,currency:3,maxInput:12,error:1,disabled:4,loading:5,keyUp:6,submit:7})}}function get_each_context$a(e,t,r){const n=e.slice();return n[21]=t[r],n}function create_if_block$e(e){let t,r,n,i,o,a,s,c,u,l,d,f,h=["deposit","withdraw","borrow","repay"],p=[];for(let t=0;t<4;t+=1)p[t]=create_each_block$a(get_each_context$a(e,h,t));const m=[create_if_block_1$a,create_else_block$9],g=[];function b(e,t){return e[5]?0:1}function y(t){e[18](t)}i=b(e),o=g[i]=m[i](e);let _={type:"number",currency:!0,maxInput:e[3],disabled:e[4],error:e[6],loading:e[8],keyUp:e[16],submit:e[17]};return void 0!==e[2]&&(_.value=e[2]),c=new Input({props:_}),binding_callbacks.push((()=>bind(c,"value",y))),d=new RangeSlider({props:{pips:!0,all:"label",range:"min",values:[e[2]?e[2]/e[3]*100:0],min:0,max:100,step:25,suffix:"%",disabled:e[4],springValues:{stiffness:.4,damping:1}}}),d.$on("change",e[11]),{c(){t=element("div"),r=element("div");for(let e=0;e<4;e+=1)p[e].c();n=space(),o.c(),a=space(),s=element("div"),create_component(c.$$.fragment),l=space(),create_component(d.$$.fragment),attr(r,"class","trade-select-container flex align-center justify-between svelte-1hjkjuc"),attr(s,"class","trade-section flex-centered column svelte-1hjkjuc"),attr(t,"class","trade flex align-center justify-start svelte-1hjkjuc")},m(e,o){insert(e,t,o),append(t,r);for(let e=0;e<4;e+=1)p[e].m(r,null);append(t,n),g[i].m(t,null),append(t,a),append(t,s),mount_component(c,s,null),append(s,l),mount_component(d,s,null),f=!0},p(e,n){if(770&n){let t;for(h=["deposit","withdraw","borrow","repay"],t=0;t<4;t+=1){const i=get_each_context$a(e,h,t);p[t]?p[t].p(i,n):(p[t]=create_each_block$a(i),p[t].c(),p[t].m(r,null))}for(;t<4;t+=1)p[t].d(1)}let s=i;i=b(e),i===s?g[i].p(e,n):(group_outros(),transition_out(g[s],1,1,(()=>{g[s]=null})),check_outros(),o=g[i],o?o.p(e,n):(o=g[i]=m[i](e),o.c()),transition_in(o,1),o.m(t,a));const l={};8&n&&(l.maxInput=e[3]),16&n&&(l.disabled=e[4]),64&n&&(l.error=e[6]),256&n&&(l.loading=e[8]),4&n&&(l.keyUp=e[16]),198&n&&(l.submit=e[17]),!u&&4&n&&(u=!0,l.value=e[2],add_flush_callback((()=>u=!1))),c.$set(l);const f={};12&n&&(f.values=[e[2]?e[2]/e[3]*100:0]),16&n&&(f.disabled=e[4]),d.$set(f)},i(e){f||(transition_in(o),transition_in(c.$$.fragment,e),transition_in(d.$$.fragment,e),f=!0)},o(e){transition_out(o),transition_out(c.$$.fragment,e),transition_out(d.$$.fragment,e),f=!1},d(e){e&&detach(t),destroy_each(p,e),g[i].d(),destroy_component(c),destroy_component(d)}}}function create_each_block$a(e){let t,r,n,i,o,a,s=dictionary[e[1].language].cockpit[e[21]].toUpperCase()+"";function c(){return e[15](e[21])}return{c(){t=element("div"),r=element("p"),n=text(s),i=space(),attr(r,"class","bicyclette-bold text-gradient svelte-1hjkjuc"),attr(t,"class","trade-select flex justify-center align-center svelte-1hjkjuc"),toggle_class(t,"active",e[1].tradeAction===e[21])},m(e,s){insert(e,t,s),append(t,r),append(r,n),append(t,i),o||(a=listen(t,"click",c),o=!0)},p(r,i){e=r,2&i&&s!==(s=dictionary[e[1].language].cockpit[e[21]].toUpperCase()+"")&&set_data(n,s),2&i&&toggle_class(t,"active",e[1].tradeAction===e[21])},d(e){e&&detach(t),o=!1,a()}}}function create_else_block$9(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m=dictionary[e[1].language].cockpit.adjustedCollateralization.toUpperCase()+"";function g(e,t){return"deposit"===e[1].tradeAction?create_if_block_6$3:"withdraw"===e[1].tradeAction?create_if_block_7$3:"borrow"===e[1].tradeAction?create_if_block_8$3:"repay"===e[1].tradeAction?create_if_block_9$3:void 0}let b=g(e),y=b&&b(e);function _(e,t){return e[1].walletInit?create_if_block_5$3:create_else_block_3$1}let v=_(e),w=v(e);function $(e,t){return e[1].walletInit?create_if_block_2$8:create_else_block_2$3}d=new Info({props:{term:"adjustedCollateralizationRatio",style:"color: var(--white); font-size: 9px;"}});let S=$(e),k=S(e);return{c(){t=element("div"),r=element("span"),y&&y.c(),n=space(),i=element("div"),w.c(),o=space(),a=element("div"),s=element("div"),c=element("span"),u=text(m),l=space(),create_component(d.$$.fragment),f=space(),h=element("p"),k.c(),attr(r,"class","svelte-1hjkjuc"),attr(i,"class","flex-centered"),attr(t,"class","trade-section flex-centered column svelte-1hjkjuc"),toggle_class(t,"disabled",e[4]),attr(c,"class","svelte-1hjkjuc"),attr(s,"class","flex-centered"),attr(h,"class","bicyclette svelte-1hjkjuc"),attr(a,"class","trade-section flex-centered column svelte-1hjkjuc"),toggle_class(a,"disabled",e[4])},m(e,m){insert(e,t,m),append(t,r),y&&y.m(r,null),append(t,n),append(t,i),w.m(i,null),insert(e,o,m),insert(e,a,m),append(a,s),append(s,c),append(c,u),append(s,l),mount_component(d,s,null),append(a,f),append(a,h),k.m(h,null),p=!0},p(e,n){b===(b=g(e))&&y?y.p(e,n):(y&&y.d(1),y=b&&b(e),y&&(y.c(),y.m(r,null))),v===(v=_(e))&&w?w.p(e,n):(w.d(1),w=v(e),w&&(w.c(),w.m(i,null))),16&n&&toggle_class(t,"disabled",e[4]),(!p||2&n)&&m!==(m=dictionary[e[1].language].cockpit.adjustedCollateralization.toUpperCase()+"")&&set_data(u,m),S===(S=$(e))&&k?k.p(e,n):(k.d(1),k=S(e),k&&(k.c(),k.m(h,null))),16&n&&toggle_class(a,"disabled",e[4])},i(e){p||(transition_in(d.$$.fragment,e),p=!0)},o(e){transition_out(d.$$.fragment,e),p=!1},d(e){e&&detach(t),y&&y.d(),w.d(),e&&detach(o),e&&detach(a),destroy_component(d),k.d()}}}function create_if_block_1$a(e){let t,r,n;return{c(){t=element("div"),r=element("span"),n=text(e[5]),attr(r,"class","svelte-1hjkjuc"),attr(t,"class","trade-section trade-disabled-message flex-centered column svelte-1hjkjuc")},m(e,i){insert(e,t,i),append(t,r),append(r,n)},p(e,t){32&t&&set_data(n,e[5])},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function create_if_block_9$3(e){let t,r=dictionary[e[1].language].cockpit.amountOwed.toUpperCase()+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){2&n&&r!==(r=dictionary[e[1].language].cockpit.amountOwed.toUpperCase()+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_8$3(e){let t,r=dictionary[e[1].language].cockpit.maxBorrowAmount.toUpperCase()+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){2&n&&r!==(r=dictionary[e[1].language].cockpit.maxBorrowAmount.toUpperCase()+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_7$3(e){let t,r=dictionary[e[1].language].cockpit.availableFunds.toUpperCase()+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){2&n&&r!==(r=dictionary[e[1].language].cockpit.availableFunds.toUpperCase()+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_6$3(e){let t,r=dictionary[e[1].language].cockpit.walletBalance.toUpperCase()+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){2&n&&r!==(r=dictionary[e[1].language].cockpit.walletBalance.toUpperCase()+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_else_block_3$1(e){let t;return{c(){t=element("p"),t.textContent="--",attr(t,"class","svelte-1hjkjuc")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_5$3(e){let t,r,n,i,o=currencyFormatter(e[3],!1,e[0].currentReserve.decimals)+"",a=e[0].currentReserve.abbrev+"";return{c(){t=element("p"),r=text(o),n=space(),i=text(a),attr(t,"class","svelte-1hjkjuc")},m(e,o){insert(e,t,o),append(t,r),append(t,n),append(t,i)},p(e,t){9&t&&o!==(o=currencyFormatter(e[3],!1,e[0].currentReserve.decimals)+"")&&set_data(r,o),1&t&&a!==(a=e[0].currentReserve.abbrev+"")&&set_data(i,a)},d(e){e&&detach(t)}}}function create_else_block_2$3(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_2$8(e){let t;function r(e,t){return(e[1].position.borrowedValue||"borrow"===e[1].tradeAction&&e[2])&&e[7]>10?create_if_block_3$4:(e[1].position.borrowedValue||"borrow"===e[1].tradeAction&&e[2])&&e[7]<10?create_if_block_4$4:create_else_block_1$4}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&detach(t)}}}function create_else_block_1$4(e){let t;return{c(){t=text("∞")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_4$4(e){let t,r=currencyFormatter(100*e[7],!1,1)+"%";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){128&n&&r!==(r=currencyFormatter(100*e[7],!1,1)+"%")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_3$4(e){let t;return{c(){t=text("> 1000%")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_fragment$m(e){let t,r,n=e[0]&&create_if_block$e(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[0]?n?(n.p(e,r),1&r&&transition_in(n,1)):(n=create_if_block$e(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$k(e,t,r){let n,i;component_subscribe(e,MARKET,(e=>r(0,n=e))),component_subscribe(e,USER,(e=>r(1,i=e)));let o,a,s,c=null,u=0,l=!0,d="";const f=()=>{r(6,o=""),r(2,c=null),h(),p(),m()},h=()=>{r(5,d=""),r(4,l=!0),i.assets&&n.currentReserve&&("deposit"===i.tradeAction?i.walletBalances[n.currentReserve.abbrev]?r(4,l=!1):r(5,d=dictionary[i.language].cockpit.noBalanceForDeposit.replaceAll("{{ASSET}}",n.currentReserve.abbrev)):"withdraw"===i.tradeAction?i.collateralBalances[n.currentReserve.abbrev]?i.position.borrowedValue&&i.position.colRatio<=n.programMinColRatio?r(5,d=dictionary[i.language].cockpit.belowMinCRatio):r(4,l=!1):r(5,d=dictionary[i.language].cockpit.noDepositsForWithdraw.replaceAll("{{ASSET}}",n.currentReserve.abbrev)):"borrow"===i.tradeAction?i.position.depositedValue?i.position.borrowedValue&&i.position.colRatio<=n.minColRatio?r(5,d=dictionary[i.language].cockpit.belowMinCRatio):n.currentReserve.availableLiquidity.amount.isZero()?r(5,d=dictionary[i.language].cockpit.noLiquidity):r(4,l=!1):r(5,d=dictionary[i.language].cockpit.noDepositsForBorrow):"repay"===i.tradeAction&&(i.loanBalances[n.currentReserve.abbrev]?r(4,l=!1):r(5,d=dictionary[i.language].cockpit.noDebtForRepay.replaceAll("{{ASSET}}",n.currentReserve.abbrev))))},p=()=>{let e=0;i.assets&&("deposit"===i.tradeAction?e=i.assets.tokens[n.currentReserve.abbrev].maxDepositAmount:"withdraw"===i.tradeAction?e=i.assets.tokens[n.currentReserve.abbrev].maxWithdrawAmount:"borrow"===i.tradeAction?e=i.assets.tokens[n.currentReserve.abbrev].maxBorrowAmount:"repay"===i.tradeAction&&(e=i.assets.tokens[n.currentReserve.abbrev].maxRepayAmount)),r(3,u=e)},m=()=>{n.currentReserve&&i.assets&&("deposit"===i.tradeAction?r(7,a=(i.position.depositedValue+(c??0)*n.currentReserve.price)/(i.position.borrowedValue>0?i.position.borrowedValue:1)):"withdraw"===i.tradeAction?r(7,a=(i.position.depositedValue-(c??0)*n.currentReserve.price)/(i.position.borrowedValue>0?i.position.borrowedValue:1)):"borrow"===i.tradeAction?r(7,a=i.position.depositedValue/(i.position.borrowedValue+(c??0)*n.currentReserve.price>0?i.position.borrowedValue+(c??0)*n.currentReserve.price:1)):"repay"===i.tradeAction&&r(7,a=i.position.depositedValue/(i.position.borrowedValue-(c??0)*n.currentReserve.price>0?i.position.borrowedValue-(c??0)*n.currentReserve.price:1)))},g=async()=>{if(!n.currentReserve||!i.assets||!c)return;let e=i.tradeAction,t=TokenAmount.tokens(c.toString(),n.currentReserve.decimals),a=TxnResponse.Cancelled,u=[];if(r(8,s=!0),"deposit"===e)if(t.uiAmountFloat>i.walletBalances[n.currentReserve.abbrev])r(6,o=dictionary[i.language].cockpit.notEnoughAsset.replaceAll("{{ASSET}}",n.currentReserve.abbrev));else{const e=t.amount;[a,u]=await deposit(n.currentReserve.abbrev,e)}else if("withdraw"===e)if(t.gt(n.currentReserve.availableLiquidity))r(6,o=dictionary[i.language].cockpit.noLiquidity);else if(t.uiAmountFloat>i.collateralBalances[n.currentReserve.abbrev])r(6,o=dictionary[i.language].cockpit.lessFunds);else if(i.position.borrowedValue&&i.position.colRatio<=n.programMinColRatio)r(6,o=dictionary[i.language].cockpit.belowMinCRatio);else{const e=t.uiAmountFloat===i.collateralBalances[n.currentReserve.abbrev]?Amount.depositNotes(i.assets.tokens[n.currentReserve.abbrev].collateralNoteBalance.amount):Amount.tokens(t.amount);[a,u]=await withdraw(n.currentReserve.abbrev,e)}else if("borrow"===e)if(t.gt(n.currentReserve.availableLiquidity))r(6,o=dictionary[i.language].cockpit.noLiquidity);else if(i.position.borrowedValue&&i.position.colRatio<=n.minColRatio)r(6,o=dictionary[i.language].cockpit.belowMinCRatio);else{const e=Amount.tokens(t.amount);[a,u]=await borrow(n.currentReserve.abbrev,e)}else if("repay"===e)if(t.uiAmountFloat>i.loanBalances[n.currentReserve.abbrev])r(6,o=dictionary[i.language].cockpit.oweLess);else if(t.uiAmountFloat>i.walletBalances[n.currentReserve.abbrev])r(6,o=dictionary[i.language].cockpit.notEnoughAsset.replaceAll("{{ASSET}}",n.currentReserve.abbrev));else{const e=t.uiAmountFloat===i.loanBalances[n.currentReserve.abbrev]?Amount.loanNotes(i.assets.tokens[n.currentReserve.abbrev].loanNoteBalance.amount):Amount.tokens(t.amount);[a,u]=await repay(n.currentReserve.abbrev,e)}if(o)return r(2,c=null),void r(8,s=!1);if(a===TxnResponse.Success){i.addNotification({success:!0,text:dictionary[i.language].cockpit.txSuccess.replaceAll("{{TRADE ACTION}}",e).replaceAll("{{AMOUNT AND ASSET}}",`${t.uiAmountFloat} ${n.currentReserve.abbrev}`)});const r=u[u.length-1];addTransactionLog(r)}else a===TxnResponse.Failed?i.addNotification({success:!1,text:dictionary[i.language].cockpit.txFailed}):a===TxnResponse.Cancelled&&i.addNotification({success:!1,text:dictionary[i.language].cockpit.txCancelled});f(),r(8,s=!1)};let b=!1,y=n.currentReserve;return e.$$.update=()=>{8194&e.$$.dirty&&i.walletInit&&!b&&(f(),r(13,b=!0)),16385&e.$$.dirty&&y!==n.currentReserve&&(f(),r(14,y=n.currentReserve))},[n,i,c,u,l,d,o,a,s,f,m,e=>{r(2,c=u*(e.detail.value/100)),m()},g,b,y,e=>{s||(USER.update((t=>(t.tradeAction=e,t))),f())},()=>{c&&c<0&&r(2,c=0),m()},()=>{if(!c||c<=0)return r(6,o=dictionary[i.language].cockpit.noInputAmount),void r(2,c=null);checkTradeWarning(c,a,g)},function(e){c=e,r(2,c)}]}class TradePanel extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$k,create_fragment$m,safe_not_equal,{})}}function get_each_context$9(e,t,r){const n=e.slice();return n[15]=t[r],n}function create_else_block_16(e){let t,r;return t=new Loader({props:{fullview:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p:noop$1,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$9(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D,U,j,z,F,K,H,q,W,V,Y,G,Z,J,X,Q,ee,te,re,ne,ie,oe,ae,se,ce,ue,le,de,fe,he,pe,me,ge,be,ye,_e,ve,we,$e,Se,ke,Ae,Ee,Ie,Re,Te,xe,Pe,Me,Ce,Oe=dictionary[e[4].language].cockpit.title+"",Le=dictionary[e[4].language].cockpit.totalValueLocked+"",Be=dictionary[e[4].language].cockpit.yourRatio+"",Ne=dictionary[e[4].language].cockpit.totalDepositedValue+"",De=dictionary[e[4].language].cockpit.totalBorrowedValue+"",Ue=dictionary[e[4].language].cockpit.asset+"",je=dictionary[e[4].language].cockpit.availableLiquidity+"",ze=dictionary[e[4].language].cockpit.depositRate+"",Fe=dictionary[e[4].language].cockpit.borrowRate+"",Ke=dictionary[e[4].language].cockpit.walletBalance+"",He=dictionary[e[4].language].cockpit.amountDeposited+"",qe=dictionary[e[4].language].cockpit.amountBorrowed+"";function We(e,t){return e[1].marketInit?create_if_block_23:create_else_block_15}a=new ConnectWalletButton({});let Ve=We(e),Ye=Ve(e);function Ge(e,t){return e[4].walletInit&&e[1].marketInit?create_if_block_19:create_else_block_14}S=new Info({props:{term:"collateralizationRatio"}});let Ze=Ge(e),Je=Ze(e);function Xe(e,t){return e[4].walletInit?create_if_block_18:create_else_block_12}let Qe=Xe(e),et=Qe(e);function tt(e,t){return e[4].walletInit?create_if_block_17:create_else_block_11}let rt=tt(e),nt=rt(e);N=new TradePanel({}),ee=new Toggle({props:{onClick:e[9],active:!e[1].nativeValues,native:!0}}),ce=new Info({props:{term:"depositRate"}}),he=new Info({props:{term:"borrowRate"}});let it=e[3],ot=[];for(let t=0;t<it.length;t+=1)ot[t]=create_each_block$9(get_each_context$9(e,it,t));let at=e[2]&&create_if_block_2$7(e);return{c(){t=element("div"),r=element("h1"),n=text(Oe),i=space(),o=element("div"),create_component(a.$$.fragment),s=space(),c=element("div"),u=element("div"),l=element("div"),d=space(),f=element("h2"),h=text(Le),p=space(),m=element("h1"),Ye.c(),g=space(),b=element("div"),y=element("div"),_=element("div"),v=element("h2"),w=text(Be),$=space(),create_component(S.$$.fragment),k=space(),Je.c(),A=space(),E=element("div"),I=element("div"),R=element("h2"),T=text(Ne),x=space(),et.c(),P=space(),M=element("div"),C=element("h2"),O=text(De),L=space(),nt.c(),B=space(),create_component(N.$$.fragment),D=space(),U=element("div"),j=element("div"),z=element("input"),K=space(),H=element("i"),q=space(),W=element("div"),V=element("table"),Y=element("thead"),G=element("tr"),Z=element("th"),J=text(Ue),X=space(),Q=element("th"),create_component(ee.$$.fragment),te=space(),re=element("th"),ne=text(je),ie=space(),oe=element("th"),ae=text(ze),se=space(),create_component(ce.$$.fragment),ue=space(),le=element("th"),de=text(Fe),fe=space(),create_component(he.$$.fragment),pe=space(),me=element("th"),ge=text(Ke),be=space(),ye=element("th"),_e=text(He),ve=space(),we=element("th"),$e=text(qe),Se=space(),ke=element("th"),Ae=space(),Ee=element("div"),Ie=space(),Re=element("tbody");for(let e=0;e<ot.length;e+=1)ot[e].c();Te=space(),at&&at.c(),xe=empty(),attr(r,"class","view-title text-gradient"),attr(o,"class","connect-wallet-btn svelte-1wo08qy"),attr(l,"class","divider svelte-1wo08qy"),attr(f,"class","view-subheader"),attr(m,"class","view-header text-gradient"),attr(u,"class","trade-market-tvl flex align-start justify-center column svelte-1wo08qy"),attr(v,"class","view-subheader"),attr(_,"class","flex-centered"),attr(y,"class","trade-position-ratio flex align-start justify-center column svelte-1wo08qy"),attr(R,"class","view-subheader"),attr(I,"class","trade-position-value flex-centered column svelte-1wo08qy"),attr(C,"class","view-subheader"),attr(M,"class","trade-position-value flex-centered column svelte-1wo08qy"),attr(E,"class","flex-centered column"),attr(b,"class","trade-position-snapshot flex-centered svelte-1wo08qy"),attr(c,"class","cockpit-top flex align-center justify-between svelte-1wo08qy"),attr(z,"type","text"),attr(z,"placeholder",F=dictionary[e[4].language].cockpit.search),attr(H,"class","text-gradient fas fa-search"),attr(j,"class","table-search"),attr(Q,"class","native-toggle"),attr(le,"class","datatable-border-right"),attr(Ee,"class","table-divider"),attr(W,"class","table-container"),attr(U,"class","market-table"),attr(t,"class","view-container flex justify-center column svelte-1wo08qy")},m(F,Oe){insert(F,t,Oe),append(t,r),append(r,n),append(t,i),append(t,o),mount_component(a,o,null),append(t,s),append(t,c),append(c,u),append(u,l),append(u,d),append(u,f),append(f,h),append(u,p),append(u,m),Ye.m(m,null),append(c,g),append(c,b),append(b,y),append(y,_),append(_,v),append(v,w),append(_,$),mount_component(S,_,null),append(y,k),Je.m(y,null),append(b,A),append(b,E),append(E,I),append(I,R),append(R,T),append(I,x),et.m(I,null),append(E,P),append(E,M),append(M,C),append(C,O),append(M,L),nt.m(M,null),append(t,B),mount_component(N,t,null),append(t,D),append(t,U),append(U,j),append(j,z),set_input_value(z,e[0]),append(j,K),append(j,H),append(U,q),append(U,W),append(W,V),append(V,Y),append(Y,G),append(G,Z),append(Z,J),append(G,X),append(G,Q),mount_component(ee,Q,null),append(G,te),append(G,re),append(re,ne),append(G,ie),append(G,oe),append(oe,ae),append(oe,se),mount_component(ce,oe,null),append(G,ue),append(G,le),append(le,de),append(le,fe),mount_component(he,le,null),append(G,pe),append(G,me),append(me,ge),append(G,be),append(G,ye),append(ye,_e),append(G,ve),append(G,we),append(we,$e),append(G,Se),append(G,ke),append(V,Ae),append(V,Ee),append(V,Ie),append(V,Re);for(let e=0;e<ot.length;e+=1)ot[e].m(Re,null);insert(F,Te,Oe),at&&at.m(F,Oe),insert(F,xe,Oe),Pe=!0,Me||(Ce=[listen(z,"input",e[7]),listen(z,"keyup",e[8])],Me=!0)},p(e,t){(!Pe||16&t)&&Oe!==(Oe=dictionary[e[4].language].cockpit.title+"")&&set_data(n,Oe),(!Pe||16&t)&&Le!==(Le=dictionary[e[4].language].cockpit.totalValueLocked+"")&&set_data(h,Le),Ve===(Ve=We(e))&&Ye?Ye.p(e,t):(Ye.d(1),Ye=Ve(e),Ye&&(Ye.c(),Ye.m(m,null))),(!Pe||16&t)&&Be!==(Be=dictionary[e[4].language].cockpit.yourRatio+"")&&set_data(w,Be),Ze===(Ze=Ge(e))&&Je?Je.p(e,t):(Je.d(1),Je=Ze(e),Je&&(Je.c(),Je.m(y,null))),(!Pe||16&t)&&Ne!==(Ne=dictionary[e[4].language].cockpit.totalDepositedValue+"")&&set_data(T,Ne),Qe===(Qe=Xe(e))&&et?et.p(e,t):(et.d(1),et=Qe(e),et&&(et.c(),et.m(I,null))),(!Pe||16&t)&&De!==(De=dictionary[e[4].language].cockpit.totalBorrowedValue+"")&&set_data(O,De),rt===(rt=tt(e))&&nt?nt.p(e,t):(nt.d(1),nt=rt(e),nt&&(nt.c(),nt.m(M,null))),(!Pe||16&t&&F!==(F=dictionary[e[4].language].cockpit.search))&&attr(z,"placeholder",F),1&t&&z.value!==e[0]&&set_input_value(z,e[0]),(!Pe||16&t)&&Ue!==(Ue=dictionary[e[4].language].cockpit.asset+"")&&set_data(J,Ue);const r={};if(2&t&&(r.active=!e[1].nativeValues),ee.$set(r),(!Pe||16&t)&&je!==(je=dictionary[e[4].language].cockpit.availableLiquidity+"")&&set_data(ne,je),(!Pe||16&t)&&ze!==(ze=dictionary[e[4].language].cockpit.depositRate+"")&&set_data(ae,ze),(!Pe||16&t)&&Fe!==(Fe=dictionary[e[4].language].cockpit.borrowRate+"")&&set_data(de,Fe),(!Pe||16&t)&&Ke!==(Ke=dictionary[e[4].language].cockpit.walletBalance+"")&&set_data(ge,Ke),(!Pe||16&t)&&He!==(He=dictionary[e[4].language].cockpit.amountDeposited+"")&&set_data(_e,He),(!Pe||16&t)&&qe!==(qe=dictionary[e[4].language].cockpit.amountBorrowed+"")&&set_data($e,qe),94&t){let r;for(it=e[3],r=0;r<it.length;r+=1){const n=get_each_context$9(e,it,r);ot[r]?ot[r].p(n,t):(ot[r]=create_each_block$9(n),ot[r].c(),ot[r].m(Re,null))}for(;r<ot.length;r+=1)ot[r].d(1);ot.length=it.length}e[2]?at?(at.p(e,t),4&t&&transition_in(at,1)):(at=create_if_block_2$7(e),at.c(),transition_in(at,1),at.m(xe.parentNode,xe)):at&&(group_outros(),transition_out(at,1,1,(()=>{at=null})),check_outros())},i(e){Pe||(transition_in(a.$$.fragment,e),transition_in(S.$$.fragment,e),transition_in(N.$$.fragment,e),transition_in(ee.$$.fragment,e),transition_in(ce.$$.fragment,e),transition_in(he.$$.fragment,e),transition_in(at),Pe=!0)},o(e){transition_out(a.$$.fragment,e),transition_out(S.$$.fragment,e),transition_out(N.$$.fragment,e),transition_out(ee.$$.fragment,e),transition_out(ce.$$.fragment,e),transition_out(he.$$.fragment,e),transition_out(at),Pe=!1},d(e){e&&detach(t),destroy_component(a),Ye.d(),destroy_component(S),Je.d(),et.d(),nt.d(),destroy_component(N),destroy_component(ee),destroy_component(ce),destroy_component(he),destroy_each(ot,e),e&&detach(Te),at&&at.d(e),e&&detach(xe),Me=!1,run_all(Ce)}}}function create_if_block$d(e){let t,r;return t=new InitFailed({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p:noop$1,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_else_block_15(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_23(e){let t,r=totalAbbrev(e[1].totalValueLocked)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){2&n&&r!==(r=totalAbbrev(e[1].totalValueLocked)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_else_block_14(e){let t;return{c(){t=element("p"),t.textContent="--",attr(t,"class","svelte-1wo08qy")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_19(e){let t,r,n;function i(e,t){return e[4].position.borrowedValue&&e[4].position.colRatio>10?create_if_block_21:e[4].position.borrowedValue&&e[4].position.colRatio<10?create_if_block_22:create_else_block_13}let o=i(e),a=o(e),s=e[4].position.borrowedValue&&create_if_block_20();return{c(){t=element("h1"),a.c(),r=space(),s&&s.c(),attr(t,"class","view-header svelte-1wo08qy"),attr(t,"style",n="margin-bottom: -20px; "+(e[4].wallet?e[4].position.borrowedValue&&Math.floor(e[4].position.colRatio)<=e[1].minColRatio?"color: var(--failure);":"color: var(--success);":""))},m(e,n){insert(e,t,n),a.m(t,null),append(t,r),s&&s.m(t,null)},p(e,c){o===(o=i(e))&&a?a.p(e,c):(a.d(1),a=o(e),a&&(a.c(),a.m(t,r))),e[4].position.borrowedValue?s||(s=create_if_block_20(),s.c(),s.m(t,null)):s&&(s.d(1),s=null),18&c&&n!==(n="margin-bottom: -20px; "+(e[4].wallet?e[4].position.borrowedValue&&Math.floor(e[4].position.colRatio)<=e[1].minColRatio?"color: var(--failure);":"color: var(--success);":""))&&attr(t,"style",n)},d(e){e&&detach(t),a.d(),s&&s.d()}}}function create_else_block_13(e){let t;return{c(){t=text("∞")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_22(e){let t,r=currencyFormatter(100*e[4].position.colRatio,!1,1)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){16&n&&r!==(r=currencyFormatter(100*e[4].position.colRatio,!1,1)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_21(e){let t;return{c(){t=text(">1000")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_20(e){let t;return{c(){t=element("span"),t.textContent="%",set_style(t,"color","inherit"),set_style(t,"padding-left","2px")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_else_block_12(e){let t;return{c(){t=element("p"),t.textContent="--",attr(t,"class","bicyclette svelte-1wo08qy")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_18(e){let t,r,n=currencyFormatter(e[4].position.depositedValue??0,!0)+"";return{c(){t=element("p"),r=text(n),attr(t,"class","bicyclette text-gradient svelte-1wo08qy")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){16&t&&n!==(n=currencyFormatter(e[4].position.depositedValue??0,!0)+"")&&set_data(r,n)},d(e){e&&detach(t)}}}function create_else_block_11(e){let t;return{c(){t=element("p"),t.textContent="--",attr(t,"class","bicyclette svelte-1wo08qy")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_17(e){let t,r,n=currencyFormatter(e[4].position.borrowedValue??0,!0)+"";return{c(){t=element("p"),r=text(n),attr(t,"class","bicyclette text-gradient svelte-1wo08qy")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){16&t&&n!==(n=currencyFormatter(e[4].position.borrowedValue??0,!0)+"")&&set_data(r,n)},d(e){e&&detach(t)}}}function create_else_block_10(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_16(e){let t,r=currencyFormatter(e[15].price,!0,2)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){8&n&&r!==(r=currencyFormatter(e[15].price,!0,2)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_else_block_9(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_15(e){let t,r=totalAbbrev(e[15].availableLiquidity.uiAmountFloat,e[15].price,e[1].nativeValues,2)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){10&n&&r!==(r=totalAbbrev(e[15].availableLiquidity.uiAmountFloat,e[15].price,e[1].nativeValues,2)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_else_block_8(e){let t;return{c(){t=text("--%")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_14(e){let t,r,n=(e[15].depositRate?(100*e[15].depositRate).toFixed(2):0)+"";return{c(){t=text(n),r=text("%")},m(e,n){insert(e,t,n),insert(e,r,n)},p(e,r){8&r&&n!==(n=(e[15].depositRate?(100*e[15].depositRate).toFixed(2):0)+"")&&set_data(t,n)},d(e){e&&detach(t),e&&detach(r)}}}function create_else_block_7(e){let t;return{c(){t=text("--%")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_13(e){let t,r,n=(e[15].borrowRate?(100*e[15].borrowRate).toFixed(2):0)+"";return{c(){t=text(n),r=text("%")},m(e,n){insert(e,t,n),insert(e,r,n)},p(e,r){8&r&&n!==(n=(e[15].borrowRate?(100*e[15].borrowRate).toFixed(2):0)+"")&&set_data(t,n)},d(e){e&&detach(t),e&&detach(r)}}}function create_else_block_6(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_10$2(e){let t;function r(e,t){return e[4].walletBalances[e[15].abbrev]>0&&e[4].walletBalances[e[15].abbrev]<5e-4?create_if_block_11:e[1].marketInit?create_if_block_12:create_else_block_5}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&detach(t)}}}function create_else_block_5(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_12(e){let t,r=totalAbbrev(e[4].walletBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){26&n&&r!==(r=totalAbbrev(e[4].walletBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_11(e){let t;return{c(){t=text("~0")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_else_block_4(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_7$2(e){let t;function r(e,t){return e[4].collateralBalances[e[15].abbrev]>0&&e[4].collateralBalances[e[15].abbrev]<5e-4?create_if_block_8$2:e[1].marketInit?create_if_block_9$2:create_else_block_3}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&detach(t)}}}function create_else_block_3(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_9$2(e){let t,r=totalAbbrev(e[4].collateralBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){26&n&&r!==(r=totalAbbrev(e[4].collateralBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_8$2(e){let t;return{c(){t=text("~0")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_else_block_2$2(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_4$3(e){let t;function r(e,t){return e[4].loanBalances[e[15].abbrev]>0&&e[4].loanBalances[e[15].abbrev]<5e-4?create_if_block_5$2:e[1].marketInit?create_if_block_6$2:create_else_block_1$3}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&detach(t)}}}function create_else_block_1$3(e){let t;return{c(){t=text("--")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_6$2(e){let t,r=totalAbbrev(e[4].loanBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"";return{c(){t=text(r)},m(e,r){insert(e,t,r)},p(e,n){26&n&&r!==(r=totalAbbrev(e[4].loanBalances[e[15].abbrev]??0,e[15].price,e[1].nativeValues,3)+"")&&set_data(t,r)},d(e){e&&detach(t)}}}function create_if_block_5$2(e){let t;return{c(){t=text("~0")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_else_block$8(e){let t;return{c(){t=element("td"),t.innerHTML='<i class="text-gradient jet-icons">➜</i>'},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_3$3(e){let t,r,n,i,o;function a(){return e[11](e[15])}return{c(){t=element("td"),r=element("i"),attr(r,"class","text-gradient fas fa-parachute-box"),attr(r,"title",n="Airdrop "+e[15].abbrev),set_style(r,"margin-right","var(--spacing-lg)"),set_style(r,"font-size","18px",1),attr(t,"class","faucet")},m(e,n){insert(e,t,n),append(t,r),i||(o=listen(t,"click",a),i=!0)},p(t,i){e=t,8&i&&n!==(n="Airdrop "+e[15].abbrev)&&attr(r,"title",n)},d(e){e&&detach(t),i=!1,o()}}}function create_each_block$9(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D=e[15].name+"",U=e[15].abbrev+"",j=dictionary[e[4].language].cockpit.detail+"";function z(e,t){return e[1].marketInit?create_if_block_16:create_else_block_10}let F=z(e),K=F(e);function H(){return e[10](e[15])}function q(e,t){return e[1].marketInit?create_if_block_15:create_else_block_9}let W=q(e),V=W(e);function Y(e,t){return e[1].marketInit?create_if_block_14:create_else_block_8}let G=Y(e),Z=G(e);function J(e,t){return e[1].marketInit?create_if_block_13:create_else_block_7}let X=J(e),Q=X(e);function ee(e,t){return e[4].walletInit?create_if_block_10$2:create_else_block_6}let te=ee(e),re=te(e);function ne(e,t){return e[4].walletInit?create_if_block_7$2:create_else_block_4}let ie=ne(e),oe=ie(e);function ae(e,t){return e[4].walletInit?create_if_block_4$3:create_else_block_2$2}let se=ae(e),ce=se(e);let ue=(inDevelopment?create_if_block_3$3:create_else_block$8)(e);function le(){return e[12](e[15])}return{c(){t=element("tr"),t.innerHTML="<td></td>",r=space(),n=element("tr"),i=element("td"),o=element("img"),c=space(),u=element("span"),l=text(D),d=space(),f=element("span"),h=text("≈ \n                    "),K.c(),p=space(),m=element("td"),g=text(U),b=space(),y=text(j),_=space(),v=element("td"),V.c(),w=space(),$=element("td"),Z.c(),S=space(),k=element("td"),Q.c(),A=space(),E=element("td"),re.c(),I=space(),R=element("td"),oe.c(),x=space(),P=element("td"),ce.c(),C=space(),ue.c(),O=space(),L=element("tr"),L.innerHTML="<td></td> \n              ",attr(t,"class","table-spacer"),src_url_equal(o.src,a="img/cryptos/"+e[15].abbrev+".png")||attr(o,"src",a),attr(o,"alt",s=e[15].abbrev+" Icon"),attr(i,"class","market-table-asset"),attr(m,"class","reserve-detail text-gradient"),attr(k,"class","datatable-border-right"),toggle_class(E,"bold-text",e[4].walletBalances[e[15].abbrev]),toggle_class(E,"text-gradient",e[4].walletBalances[e[15].abbrev]),attr(R,"style",T=e[4].collateralBalances[e[15].abbrev]?"color: var(--jet-green) !important;":""),toggle_class(R,"bold-text",e[4].collateralBalances[e[15].abbrev]),attr(P,"style",M=e[4].loanBalances[e[15].abbrev]?"color: var(--jet-blue) !important;":""),toggle_class(P,"bold-text",e[4].loanBalances[e[15].abbrev]),toggle_class(n,"active",e[1].currentReserve.abbrev===e[15].abbrev),attr(L,"class","table-spacer")},m(e,a){insert(e,t,a),insert(e,r,a),insert(e,n,a),append(n,i),append(i,o),append(i,c),append(i,u),append(u,l),append(i,d),append(i,f),append(f,h),K.m(f,null),append(n,p),append(n,m),append(m,g),append(m,b),append(m,y),append(n,_),append(n,v),V.m(v,null),append(n,w),append(n,$),Z.m($,null),append(n,S),append(n,k),Q.m(k,null),append(n,A),append(n,E),re.m(E,null),append(n,I),append(n,R),oe.m(R,null),append(n,x),append(n,P),ce.m(P,null),append(n,C),ue.m(n,null),insert(e,O,a),insert(e,L,a),B||(N=[listen(m,"click",H),listen(n,"click",le)],B=!0)},p(t,r){e=t,8&r&&!src_url_equal(o.src,a="img/cryptos/"+e[15].abbrev+".png")&&attr(o,"src",a),8&r&&s!==(s=e[15].abbrev+" Icon")&&attr(o,"alt",s),8&r&&D!==(D=e[15].name+"")&&set_data(l,D),F===(F=z(e))&&K?K.p(e,r):(K.d(1),K=F(e),K&&(K.c(),K.m(f,null))),8&r&&U!==(U=e[15].abbrev+"")&&set_data(g,U),16&r&&j!==(j=dictionary[e[4].language].cockpit.detail+"")&&set_data(y,j),W===(W=q(e))&&V?V.p(e,r):(V.d(1),V=W(e),V&&(V.c(),V.m(v,null))),G===(G=Y(e))&&Z?Z.p(e,r):(Z.d(1),Z=G(e),Z&&(Z.c(),Z.m($,null))),X===(X=J(e))&&Q?Q.p(e,r):(Q.d(1),Q=X(e),Q&&(Q.c(),Q.m(k,null))),te===(te=ee(e))&&re?re.p(e,r):(re.d(1),re=te(e),re&&(re.c(),re.m(E,null))),24&r&&toggle_class(E,"bold-text",e[4].walletBalances[e[15].abbrev]),24&r&&toggle_class(E,"text-gradient",e[4].walletBalances[e[15].abbrev]),ie===(ie=ne(e))&&oe?oe.p(e,r):(oe.d(1),oe=ie(e),oe&&(oe.c(),oe.m(R,null))),24&r&&T!==(T=e[4].collateralBalances[e[15].abbrev]?"color: var(--jet-green) !important;":"")&&attr(R,"style",T),24&r&&toggle_class(R,"bold-text",e[4].collateralBalances[e[15].abbrev]),se===(se=ae(e))&&ce?ce.p(e,r):(ce.d(1),ce=se(e),ce&&(ce.c(),ce.m(P,null))),24&r&&M!==(M=e[4].loanBalances[e[15].abbrev]?"color: var(--jet-blue) !important;":"")&&attr(P,"style",M),24&r&&toggle_class(P,"bold-text",e[4].loanBalances[e[15].abbrev]),ue.p(e,r),10&r&&toggle_class(n,"active",e[1].currentReserve.abbrev===e[15].abbrev)},d(e){e&&detach(t),e&&detach(r),e&&detach(n),K.d(),V.d(),Z.d(),Q.d(),re.d(),oe.d(),ce.d(),ue.d(),e&&detach(O),e&&detach(L),B=!1,run_all(N)}}}function create_if_block_2$7(e){let t,r;return t=new ReserveDetail({props:{reserveDetail:e[2],closeModal:e[13]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};4&r&&(n.reserveDetail=e[2]),4&r&&(n.closeModal=e[13]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$l(e){let t,r,n,i,o,a;document.title=t="Jet Protocol | "+dictionary[e[4].language].cockpit.title;const s=[create_if_block$d,create_if_block_1$9,create_else_block_16],c=[];function u(e,t){return e[5]||e[4].geobanned?0:e[1]&&e[4]?1:2}return n=u(e),i=c[n]=s[n](e),{c(){r=space(),i.c(),o=empty()},m(e,t){insert(e,r,t),c[n].m(e,t),insert(e,o,t),a=!0},p(e,[r]){(!a||16&r)&&t!==(t="Jet Protocol | "+dictionary[e[4].language].cockpit.title)&&(document.title=t);let l=n;n=u(e),n===l?c[n].p(e,r):(group_outros(),transition_out(c[l],1,1,(()=>{c[l]=null})),check_outros(),i=c[n],i?i.p(e,r):(i=c[n]=s[n](e),i.c()),transition_in(i,1),i.m(o.parentNode,o))},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(r),c[n].d(e),e&&detach(o)}}}function instance$j(e,t,r){let n,i,o;component_subscribe(e,MARKET,(e=>r(1,n=e))),component_subscribe(e,USER,(e=>r(4,i=e))),component_subscribe(e,INIT_FAILED,(e=>r(5,o=e)));let a=null,s=[],c="";dictionary[i.language].cockpit.search;const u=async e=>{let t=TokenAmount.tokens("100",e.decimals);e.tokenMintPubkey.equals(NATIVE_MINT)&&(t=TokenAmount.tokens("1",e.decimals));const[r,n]=await airdrop(e.abbrev,t.amount);r===TxnResponse.Success?i.addNotification({success:!0,text:dictionary[i.language].copilot.alert.airdropSuccess.replaceAll("{{UI AMOUNT}}",t.uiAmount).replaceAll("{{RESERVE ABBREV}}",e.abbrev)}):r===TxnResponse.Failed&&i.addNotification({success:!1,text:dictionary[i.language].cockpit.txFailed})};onMount((()=>{i.position.borrowedValue&&i.position.colRatio<=n.minColRatio&&generateCopilotSuggestion()}));return e.$$.update=()=>{3&e.$$.dirty&&n.reservesArray.length&&!c.length&&r(3,s=n.reservesArray)},[c,n,a,s,i,o,u,function(){c=this.value,r(0,c)},()=>{let e=[];for(let t of n.reservesArray)(t.name.toLowerCase().includes(c)||t.abbrev.toLowerCase().includes(c))&&e.push(t);r(3,s=e)},()=>MARKET.update((e=>(e.nativeValues=!e.nativeValues,e))),e=>r(2,a=e),e=>u(e),e=>MARKET.update((t=>(t.currentReserve=e,t))),()=>r(2,a=null)]}class Cockpit extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$j,create_fragment$l,safe_not_equal,{})}}const key={};function create_fragment$k(e){let t,r,n,i,o;return{c(){t=element("input"),attr(t,"class",r=null_to_empty(e[1])+" svelte-1mpljnc"),attr(t,"type","text"),attr(t,"placeholder",n=e[2].labels.search),attr(t,"ref",e[0]),toggle_class(t,"css",e[2].css)},m(r,n){insert(r,t,n),i||(o=listen(t,"input",e[5]),i=!0)},p(e,[i]){2&i&&r!==(r=null_to_empty(e[1])+" svelte-1mpljnc")&&attr(t,"class",r),4&i&&n!==(n=e[2].labels.search)&&attr(t,"placeholder",n),1&i&&attr(t,"ref",e[0]),6&i&&toggle_class(t,"css",e[2].css)},i:noop$1,o:noop$1,d(e){e&&detach(t),i=!1,o()}}}function instance$i(e,t,r){let n,{ref:i=""}=t,{classList:o=""}=t;const{options:a,pageNumber:s,columns:c,globalFilters:u}=getContext(key);component_subscribe(e,a,(e=>r(2,n=e)));const l=e=>{s.set(1),u.set(e),c.redraw()};return e.$$set=e=>{"ref"in e&&r(0,i=e.ref),"classList"in e&&r(1,o=e.classList)},[i,o,n,a,l,e=>l(e.target.value)]}class SearchInput extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$i,create_fragment$k,safe_not_equal,{ref:0,classList:1})}}function create_fragment$j(e){let t,r,n;return r=new SearchInput({}),{c(){t=element("section"),create_component(r.$$.fragment),attr(t,"class","dt-search svelte-16n96wa"),toggle_class(t,"css",e[0].css)},m(e,i){insert(e,t,i),mount_component(r,t,null),n=!0},p:noop$1,i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),destroy_component(r)}}}function instance$h(e){const{options:t}=getContext(key);return[t]}class Search extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$h,create_fragment$j,safe_not_equal,{})}}function create_else_block_1$2(e){let t,r,n=`<b>${e[2]}</b>-<b>${e[1]}</b>/<b>${e[0]}</b>`;return{c(){t=new HtmlTag,r=empty(),t.a=r},m(e,i){t.m(n,e,i),insert(e,r,i)},p(e,r){7&r&&n!==(n=`<b>${e[2]}</b>-<b>${e[1]}</b>/<b>${e[0]}</b>`)&&t.p(n)},d(e){e&&detach(r),e&&t.d()}}}function create_if_block$c(e){let t;function r(e,t){return e[0]>0?create_if_block_1$8:create_else_block$7}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&detach(t)}}}function create_else_block$7(e){let t,r,n=e[3].labels.noRows+"";return{c(){t=new HtmlTag,r=empty(),t.a=r},m(e,i){t.m(n,e,i),insert(e,r,i)},p(e,r){8&r&&n!==(n=e[3].labels.noRows+"")&&t.p(n)},d(e){e&&detach(r),e&&t.d()}}}function create_if_block_1$8(e){let t,r;return{c(){t=new HtmlTag,r=empty(),t.a=r},m(n,i){t.m(e[4],n,i),insert(n,r,i)},p(e,r){16&r&&t.p(e[4])},d(e){e&&detach(r),e&&t.d()}}}function create_fragment$i(e){let t;function r(e,t){return e[5]>600?create_if_block$c:create_else_block_1$2}let n=r(e),i=n(e);return{c(){t=element("aside"),i.c(),attr(t,"class","dt-pagination-rowcount svelte-bzwyk1"),toggle_class(t,"css",e[3].css)},m(e,r){insert(e,t,r),i.m(t,null)},p(e,[o]){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t,null))),8&o&&toggle_class(t,"css",e[3].css)},i:noop$1,o:noop$1,d(e){e&&detach(t),i.d()}}}function instance$g(e,t,r){let n,i,o,a,s,c,u,l;const{options:d,pageNumber:f,rowCount:h,datatableWidth:p}=getContext(key);return component_subscribe(e,d,(e=>r(3,s=e))),component_subscribe(e,f,(e=>r(11,u=e))),component_subscribe(e,h,(e=>r(10,c=e))),component_subscribe(e,p,(e=>r(5,l=e))),e.$$.update=()=>{2056&e.$$.dirty&&r(2,n=u*s.rowsPerPage-s.rowsPerPage+1),3080&e.$$.dirty&&r(1,i=Math.min(u*s.rowsPerPage,c)),1024&e.$$.dirty&&r(0,o=c),15&e.$$.dirty&&r(4,a=s.labels.info.replace("{start}",`<b>${n}</b>`).replace("{end}",`<b>${i}</b>`).replace("{rows}",`<b>${o}</b>`))},[o,i,n,s,a,l,d,f,h,p,c,u]}class PaginationRowCount extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$g,create_fragment$i,safe_not_equal,{})}}function get_each_context$8(e,t,r){const n=e.slice();return n[24]=t[r],n}function create_else_block$6(e){let t,r,n,i,o,a,s,c,u,l,d;return{c(){t=element("section"),r=element("button"),r.textContent="❬❬",n=space(),i=element("button"),i.textContent="❮",o=space(),a=element("button"),a.textContent="❯",s=space(),c=element("button"),c.textContent="❭❭",attr(r,"class","svelte-1nr9gki"),toggle_class(r,"disabled",1===e[3]),attr(i,"class","svelte-1nr9gki"),toggle_class(i,"disabled",1===e[3]),attr(a,"class","svelte-1nr9gki"),toggle_class(a,"disabled",e[3]===e[2].length),attr(c,"class","svelte-1nr9gki"),toggle_class(c,"disabled",e[3]===e[2].length),attr(t,"class",u="dt-pagination-buttons mobile "+e[1]+" svelte-1nr9gki"),toggle_class(t,"css",e[4].css)},m(u,f){insert(u,t,f),append(t,r),append(t,n),append(t,i),append(t,o),append(t,a),append(t,s),append(t,c),l||(d=[listen(r,"click",e[18]),listen(i,"click",e[19]),listen(a,"click",e[20]),listen(c,"click",e[21])],l=!0)},p(e,n){8&n&&toggle_class(r,"disabled",1===e[3]),8&n&&toggle_class(i,"disabled",1===e[3]),12&n&&toggle_class(a,"disabled",e[3]===e[2].length),12&n&&toggle_class(c,"disabled",e[3]===e[2].length),2&n&&u!==(u="dt-pagination-buttons mobile "+e[1]+" svelte-1nr9gki")&&attr(t,"class",u),18&n&&toggle_class(t,"css",e[4].css)},d(e){e&&detach(t),l=!1,run_all(d)}}}function create_if_block$b(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p=e[4].labels.previous+"",m=e[4].labels.next+"",g=e[2].length>6&&e[3]>=5&&create_if_block_4$2(),b=e[5],y=[];for(let t=0;t<b.length;t+=1)y[t]=create_each_block$8(get_each_context$8(e,b,t));let _=e[2].length>6&&e[3]<=e[2].length-3&&create_if_block_2$6(),v=e[2].length>1&&create_if_block_1$7(e);return{c(){t=element("section"),r=element("button"),n=space(),i=element("button"),i.textContent="1",o=space(),g&&g.c(),a=space();for(let e=0;e<y.length;e+=1)y[e].c();s=space(),_&&_.c(),c=space(),v&&v.c(),u=space(),l=element("button"),attr(r,"class","text svelte-1nr9gki"),toggle_class(r,"disabled",1===e[3]),attr(i,"class","svelte-1nr9gki"),toggle_class(i,"active",1===e[3]),attr(l,"class","text svelte-1nr9gki"),toggle_class(l,"disabled",e[3]===e[2].length),attr(t,"class",d="dt-pagination-buttons "+e[1]+" svelte-1nr9gki"),attr(t,"ref",e[0]),toggle_class(t,"css",e[4].css)},m(d,b){insert(d,t,b),append(t,r),r.innerHTML=p,append(t,n),append(t,i),append(t,o),g&&g.m(t,null),append(t,a);for(let e=0;e<y.length;e+=1)y[e].m(t,null);append(t,s),_&&_.m(t,null),append(t,c),v&&v.m(t,null),append(t,u),append(t,l),l.innerHTML=m,f||(h=[listen(r,"click",e[13]),listen(i,"click",e[14]),listen(l,"click",e[17])],f=!0)},p(e,n){if(16&n&&p!==(p=e[4].labels.previous+"")&&(r.innerHTML=p),8&n&&toggle_class(r,"disabled",1===e[3]),8&n&&toggle_class(i,"active",1===e[3]),e[2].length>6&&e[3]>=5?g||(g=create_if_block_4$2(),g.c(),g.m(t,a)):g&&(g.d(1),g=null),2092&n){let r;for(b=e[5],r=0;r<b.length;r+=1){const i=get_each_context$8(e,b,r);y[r]?y[r].p(i,n):(y[r]=create_each_block$8(i),y[r].c(),y[r].m(t,s))}for(;r<y.length;r+=1)y[r].d(1);y.length=b.length}e[2].length>6&&e[3]<=e[2].length-3?_||(_=create_if_block_2$6(),_.c(),_.m(t,c)):_&&(_.d(1),_=null),e[2].length>1?v?v.p(e,n):(v=create_if_block_1$7(e),v.c(),v.m(t,u)):v&&(v.d(1),v=null),16&n&&m!==(m=e[4].labels.next+"")&&(l.innerHTML=m),12&n&&toggle_class(l,"disabled",e[3]===e[2].length),2&n&&d!==(d="dt-pagination-buttons "+e[1]+" svelte-1nr9gki")&&attr(t,"class",d),1&n&&attr(t,"ref",e[0]),18&n&&toggle_class(t,"css",e[4].css)},d(e){e&&detach(t),g&&g.d(),destroy_each(y,e),_&&_.d(),v&&v.d(),f=!1,run_all(h)}}}function create_if_block_4$2(e){let t;return{c(){t=element("button"),t.textContent="...",attr(t,"class","ellipse svelte-1nr9gki")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_if_block_3$2(e){let t,r,n,i,o=e[24]+1+"";function a(){return e[15](e[24])}return{c(){t=element("button"),r=text(o),attr(t,"class","svelte-1nr9gki"),toggle_class(t,"active",e[3]===e[24]+1)},m(e,o){insert(e,t,o),append(t,r),n||(i=listen(t,"click",a),n=!0)},p(n,i){e=n,32&i&&o!==(o=e[24]+1+"")&&set_data(r,o),40&i&&toggle_class(t,"active",e[3]===e[24]+1)},d(e){e&&detach(t),n=!1,i()}}}function create_each_block$8(e){let t,r=e[24]>0&&e[24]<e[2].length-1&&create_if_block_3$2(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,n){e[24]>0&&e[24]<e[2].length-1?r?r.p(e,n):(r=create_if_block_3$2(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detach(t)}}}function create_if_block_2$6(e){let t;return{c(){t=element("button"),t.textContent="...",attr(t,"class","ellipse svelte-1nr9gki")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_if_block_1$7(e){let t,r,n,i,o=e[2].length+"";return{c(){t=element("button"),r=text(o),attr(t,"class","svelte-1nr9gki"),toggle_class(t,"active",e[3]===e[2].length)},m(o,a){insert(o,t,a),append(t,r),n||(i=listen(t,"click",e[16]),n=!0)},p(e,n){4&n&&o!==(o=e[2].length+"")&&set_data(r,o),12&n&&toggle_class(t,"active",e[3]===e[2].length)},d(e){e&&detach(t),n=!1,i()}}}function create_fragment$h(e){let t;function r(e,t){return e[6]>600?create_if_block$b:create_else_block$6}let n=r(e),i=n(e);return{c(){i.c(),t=empty()},m(e,r){i.m(e,r),insert(e,t,r)},p(e,[o]){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},i:noop$1,o:noop$1,d(e){i.d(e),e&&detach(t)}}}function instance$f(e,t,r){let n,i,o,a,s,c;const{options:u,rowCount:l,pageNumber:d,datatableWidth:f,columns:h}=getContext(key);component_subscribe(e,u,(e=>r(4,a=e))),component_subscribe(e,l,(e=>r(12,s=e))),component_subscribe(e,d,(e=>r(3,o=e))),component_subscribe(e,f,(e=>r(6,c=e)));let{ref:p=""}=t,{classList:m=""}=t;const g=e=>{d.set(e),h.redraw()};return e.$$set=e=>{"ref"in e&&r(0,p=e.ref),"classList"in e&&r(1,m=e.classList)},e.$$.update=()=>{var t,c;4112&e.$$.dirty&&r(2,n=Array.from(Array(Math.ceil(s/a.rowsPerPage)).keys())),12&e.$$.dirty&&r(5,(t=n,i=(c=o)<5?t.slice(0,5):c>t.length-4?t.slice(t.length-5,t.length):t.slice(c-2,c+1)))},[p,m,n,o,a,i,c,u,l,d,f,g,s,()=>g(o-1),()=>g(1),e=>g(e+1),()=>g(n.length),()=>g(o+1),()=>g(1),()=>g(o-1),()=>g(o+1),()=>g(n.length)]}class PaginationButtons extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$f,create_fragment$h,safe_not_equal,{ref:0,classList:1})}}function create_if_block$a(e){let t,r,n,i,o;const a=[create_if_block_2$5,create_else_block$5],s=[];function c(e,t){return e[0].blocks.paginationRowCount?0:1}r=c(e),n=s[r]=a[r](e);let u=e[0].blocks.paginationButtons&&create_if_block_1$6();return{c(){t=element("section"),n.c(),i=space(),u&&u.c(),attr(t,"class","dt-pagination svelte-1thvc3t"),toggle_class(t,"css",e[0].css)},m(e,n){insert(e,t,n),s[r].m(t,null),append(t,i),u&&u.m(t,null),o=!0},p(e,o){let l=r;r=c(e),r!==l&&(group_outros(),transition_out(s[l],1,1,(()=>{s[l]=null})),check_outros(),n=s[r],n||(n=s[r]=a[r](e),n.c()),transition_in(n,1),n.m(t,i)),e[0].blocks.paginationButtons?u?1&o&&transition_in(u,1):(u=create_if_block_1$6(),u.c(),transition_in(u,1),u.m(t,null)):u&&(group_outros(),transition_out(u,1,1,(()=>{u=null})),check_outros()),1&o&&toggle_class(t,"css",e[0].css)},i(e){o||(transition_in(n),transition_in(u),o=!0)},o(e){transition_out(n),transition_out(u),o=!1},d(e){e&&detach(t),s[r].d(),u&&u.d()}}}function create_else_block$5(e){let t;return{c(){t=element("div")},m(e,r){insert(e,t,r)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function create_if_block_2$5(e){let t,r;return t=new PaginationRowCount({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$6(e){let t,r;return t=new PaginationButtons({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$g(e){let t,r,n=e[0].pagination&&(e[0].blocks.paginationRowCount||e[0].blocks.paginationButtons)&&create_if_block$a(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[0].pagination&&(e[0].blocks.paginationRowCount||e[0].blocks.paginationButtons)?n?(n.p(e,r),1&r&&transition_in(n,1)):(n=create_if_block$a(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$e(e,t,r){let n;const{options:i}=getContext(key);return component_subscribe(e,i,(e=>r(0,n=e))),[n,i]}class Pagination extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$e,create_fragment$g,safe_not_equal,{})}}const header={removeOriginalThead:e=>{setTimeout((()=>{const t=document.querySelector(`#${e} table thead`),r=t.getBoundingClientRect().height;t.parentNode.style.marginTop="-"+r+"px",t.style.visibility="hidden"}),50)},getOrginalTHeadClassList:e=>document.querySelector(`#${e} table thead`).classList};function get_each_context$7(e,t,r){const n=e.slice();return n[8]=t[r],n}function get_each_context_1(e,t,r){const n=e.slice();return n[8]=t[r],n}function create_each_block_1(e){let t,r,n,i,o,a,s,c=e[8].html+"";function u(...t){return e[5](e[8],...t)}return{c(){t=element("th"),r=new HtmlTag,n=element("span"),i=space(),r.a=n,attr(n,"class","svelte-1x5myu9"),attr(t,"nowrap",""),set_style(t,"min-width",e[8].minWidth+"px"),attr(t,"class",o=null_to_empty(e[8].classList)+" svelte-1x5myu9"),toggle_class(t,"sortable",e[8].key&&!0===e[1].sortable)},m(e,o){insert(e,t,o),r.m(c,t),append(t,n),append(t,i),a||(s=listen(t,"click",u),a=!0)},p(n,i){e=n,4&i&&c!==(c=e[8].html+"")&&r.p(c),4&i&&set_style(t,"min-width",e[8].minWidth+"px"),4&i&&o!==(o=null_to_empty(e[8].classList)+" svelte-1x5myu9")&&attr(t,"class",o),6&i&&toggle_class(t,"sortable",e[8].key&&!0===e[1].sortable)},d(e){e&&detach(t),a=!1,s()}}}function create_if_block$9(e){let t,r=e[2],n=[];for(let t=0;t<r.length;t+=1)n[t]=create_each_block$7(get_each_context$7(e,r,t));return{c(){t=element("tr");for(let e=0;e<n.length;e+=1)n[e].c()},m(e,r){insert(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,i){if(22&i){let o;for(r=e[2],o=0;o<r.length;o+=1){const a=get_each_context$7(e,r,o);n[o]?n[o].p(a,i):(n[o]=create_each_block$7(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){e&&detach(t),destroy_each(n,e)}}}function create_if_block_1$5(e){let t,r,n,i;function o(...t){return e[6](e[8],...t)}return{c(){t=element("input"),attr(t,"type","text"),attr(t,"placeholder",r=e[1].labels.filter),attr(t,"class","browser-default svelte-1x5myu9")},m(e,r){insert(e,t,r),n||(i=listen(t,"input",o),n=!0)},p(n,i){e=n,2&i&&r!==(r=e[1].labels.filter)&&attr(t,"placeholder",r)},d(e){e&&detach(t),n=!1,i()}}}function create_each_block$7(e){let t,r,n=e[8].key&&create_if_block_1$5(e);return{c(){t=element("th"),n&&n.c(),r=space(),attr(t,"class","filter svelte-1x5myu9"),set_style(t,"width",e[8].width),set_style(t,"height","25px")},m(e,i){insert(e,t,i),n&&n.m(t,null),append(t,r)},p(e,i){e[8].key?n?n.p(e,i):(n=create_if_block_1$5(e),n.c(),n.m(t,r)):n&&(n.d(1),n=null),4&i&&set_style(t,"width",e[8].width)},d(e){e&&detach(t),n&&n.d()}}}function create_fragment$f(e){let t,r,n,i,o,a=e[2],s=[];for(let t=0;t<a.length;t+=1)s[t]=create_each_block_1(get_each_context_1(e,a,t));let c=!0===e[1].columnFilter&&create_if_block$9(e);return{c(){t=element("section"),r=element("thead"),n=element("tr");for(let e=0;e<s.length;e+=1)s[e].c();i=space(),c&&c.c(),attr(r,"class",o=null_to_empty(e[0])+" svelte-1x5myu9"),attr(t,"class","dt-header svelte-1x5myu9"),toggle_class(t,"sortable",!0===e[1].sortable),toggle_class(t,"css",e[1].css)},m(e,o){insert(e,t,o),append(t,r),append(r,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);append(r,i),c&&c.m(r,null)},p(e,[i]){if(22&i){let t;for(a=e[2],t=0;t<a.length;t+=1){const r=get_each_context_1(e,a,t);s[t]?s[t].p(r,i):(s[t]=create_each_block_1(r),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}!0===e[1].columnFilter?c?c.p(e,i):(c=create_if_block$9(e),c.c(),c.m(r,null)):c&&(c.d(1),c=null),1&i&&o!==(o=null_to_empty(e[0])+" svelte-1x5myu9")&&attr(r,"class",o),2&i&&toggle_class(t,"sortable",!0===e[1].sortable),2&i&&toggle_class(t,"css",e[1].css)},i:noop$1,o:noop$1,d(e){e&&detach(t),destroy_each(s,e),c&&c.d()}}}function instance$d(e,t,r){let n,i;const{id:o,options:a,columns:s}=getContext(key);let c;component_subscribe(e,a,(e=>r(1,n=e))),component_subscribe(e,s,(e=>r(2,i=e))),onMount((()=>{s.draw(),header.removeOriginalThead(o.get()),r(0,c=header.getOrginalTHeadClassList(o.get()))}));return[c,n,i,a,s,(e,t)=>s.sort(t.target,e.key),(e,t)=>s.filter(e.key,t.target.value)]}class StickyHeader extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$d,create_fragment$f,safe_not_equal,{})}}const createLocalFilters=()=>{const{subscribe:e,update:t}=writable([]);return{subscribe:e,update:t,add:(e,r)=>t((t=>{const n={key:e,value:r};return(t=t.filter((t=>t.key!==e&&t.value.length>0))).push(n),t})),remove:()=>t((e=>[]))}},createGlobalFilters=()=>{const{subscribe:e,update:t}=writable(null);return{subscribe:e,set:e=>t((t=>e.length>0?e:null)),remove:()=>t((e=>null))}};function getFilters(){return{localFilters:createLocalFilters(),globalFilters:createGlobalFilters()}}function init_module$4(){const e=getContext(key),{localFilters:t,globalFilters:r}=getFilters();setContext(key,{...e,localFilters:t,globalFilters:r})}const getOptions=()=>{const e=(()=>{const{subscribe:t,set:r}=writable({sortable:!0,pagination:!0,rowsPerPage:50,columnFilter:!1,scrollY:!0,css:!0,labels:{search:"Search...",filter:"Filter",noRows:"No entries to found",info:"Showing {start} to {end} of {rows} entries",previous:"Previous",next:"Next"},blocks:{searchInput:!0,paginationButtons:!0,paginationRowCount:!0}});return{subscribe:t,set:r,get:()=>{let t;return e.subscribe((e=>t=e)),t},update:t=>{t.labels=t.labels?t.labels:{};const r={search:"string"==typeof t.labels.search?t.labels.search:"Search...",filter:"string"==typeof t.labels.filter?t.labels.filter:"Filter",noRows:"string"==typeof t.labels.noRows?t.labels.noRows:"No entries to found",info:"string"==typeof t.labels.info?t.labels.info:"Showing {start} to {end} of {rows} entries",previous:"string"==typeof t.labels.previous?t.labels.previous:"Previous",next:"string"==typeof t.labels.next?t.labels.next:"Next"};t.blocks=t.blocks?t.blocks:{};const n={searchInput:"boolean"!=typeof t.blocks.searchInput||t.blocks.searchInput,paginationButtons:"boolean"!=typeof t.blocks.paginationButtons||t.blocks.paginationButtons,paginationRowCount:"boolean"!=typeof t.blocks.paginationRowCount||t.blocks.paginationRowCount},i={sortable:"boolean"!=typeof t.sortable||t.sortable,pagination:"boolean"!=typeof t.pagination||t.pagination,rowsPerPage:"number"==typeof t.rowsPerPage?t.rowsPerPage:50,columnFilter:"boolean"==typeof t.columnFilter&&t.columnFilter,scrollY:"boolean"!=typeof t.scrollY||t.scrollY,css:"boolean"!=typeof t.css||t.css,labels:r,blocks:n};e.set(i)}}})();return e},init_module$3=()=>{const e=getContext(key),t=getOptions();setContext(key,{...e,options:t})},createPageNumber=()=>{const{id:e,options:t,rowCount:r}=getContext(key),{subscribe:n,update:i}=writable(1);return{subscribe:n,update:i,set:(n,o)=>i((i=>{let o,a;return r.subscribe((e=>a=e)),t.subscribe((e=>o=e.rowsPerPage)),n>=1&&n<=Math.ceil(a/o)&&(i=parseInt(n)),document.querySelector(`#${e.get()} .dt-table`).scrollTop=0,i}))}};function getId(){const e=(()=>{const{subscribe:t}=readable("ssd-"+(Math.random()+1).toString(36).substring(5));return{subscribe:t,get:()=>{let t;return e.subscribe((e=>t=e)),t}}})();return{id:e}}function getRowCount(){return{rowCount:writable(0)}}function getState(){return{pageNumber:createPageNumber(),datatableWidth:writable(null)}}function init_module$2(){let e=getContext(key);const{id:t}=getId();setContext(key,{...e,id:t}),e=getContext(key);const{rowCount:r}=getRowCount();setContext(key,{...e,rowCount:r}),e=getContext(key);const{pageNumber:n,datatableWidth:i}=getState();setContext(key,{...e,pageNumber:n,datatableWidth:i})}const createData=()=>{const{subscribe:e,set:t,update:r}=writable([]);return{subscribe:e,set:t,sortAsc:e=>r((t=>{try{return t.sort(((t,r)=>"boolean"==typeof e(r)?e(t)?1:-1:e(r).localeCompare(e(t)))),t}catch(r){return t.sort(((t,r)=>parseFloat(e(r))-parseFloat(e(t))))}})),sortDesc:e=>r((t=>{try{return t.sort(((t,r)=>"boolean"==typeof e(r)?e(t)?-1:1:e(t).localeCompare(e(r)))),t}catch(r){return t.sort(((t,r)=>parseFloat(e(t))-parseFloat(e(r))))}}))}};function getData(){const{options:e,pageNumber:t,rowCount:r,globalFilters:n,localFilters:i}=getContext(key),o=createData(),a=derived([o,n,i],(([e,t,n])=>(t&&(e=e.filter((e=>Object.keys(e).some((r=>e[r].toString().toLowerCase().indexOf(t.toString().toLowerCase())>-1))))),n.length>0&&n.forEach((t=>e=e.filter((e=>t.key(e).toString().toLowerCase().indexOf(t.value.toString().toLowerCase())>-1)))),r.set(e.length),e)));return{data:o,filtered:a,rows:derived([a,e,t],(([e,t,r])=>t.pagination?e.slice((r-1)*t.rowsPerPage,r*t.rowsPerPage):e))}}function init_module$1(){const e=getContext(key),{data:t,filtered:r,rows:n}=getData();setContext(key,{...e,data:t,filtered:r,rows:n})}const getColumns=()=>{const{id:e,options:t,data:r,pageNumber:n,localFilters:i}=getContext(key),o=(()=>{const{subscribe:a,set:s,update:c}=writable([]);return{subscribe:a,set:s,update:c,get:()=>{let e;return o.subscribe((t=>e=t)),e},sort:(e,i,a)=>{!0===t.get().sortable&&void 0!==i&&(e.classList.contains("sortable")&&e.classList.contains("asc")?(Array.from(e.parentNode.children).forEach((e=>e.classList.remove("asc","desc"))),e.classList.add("desc"),r.sortDesc(i),n.set(1,a)):(Array.from(e.parentNode.children).forEach((e=>e.classList.remove("desc","asc"))),e.classList.add("asc"),r.sortAsc(i),n.set(1,a)),o.redraw(a))},filter:(e,t,r)=>{n.set(1,r),i.add(e,t),o.redraw(r)},draw:()=>{setTimeout((()=>{const t=document.querySelector(`#${e.get()} table tbody tr`);if(null===t)return;const r=document.querySelectorAll(`#${e.get()} .dt-header thead tr`),n=o.get();r[0].children[0],Array.from(t.children)[0],r.forEach((e=>{let r=0;Array.from(t.children).forEach((t=>{let i=e.children[r],o=i.getBoundingClientRect().width,a=t.getBoundingClientRect().width;a>o?(i.style.minWidth=a+"px",i.style.maxWidth=a+"px",n[r].minWidth=a):(t.style.minWidth=o+"px",t.style.maxWidth=o+"px",n[r].minWidth=o),r++}))}))}),50)},redraw:()=>{!1!==t.get().scrollY&&setTimeout((()=>{const t=document.querySelector(`#${e.get()} table tbody tr`);if(null===t)return;const r=document.querySelectorAll(`#${e.get()} .dt-header thead tr`),n=o.get();r.forEach((e=>{let r=0;Array.from(t.children).forEach((t=>{let i=e.children[r],o=i.getBoundingClientRect().width,a=t.getBoundingClientRect().width;a>o?(i.style.minWidth=a+"px",i.style.maxWidth=a+"px",n[r].minWidth=a):(t.style.minWidth=o+"px",t.style.maxWidth=o+"px",n[r].minWidth=o),r++}))}))}),50)}}})();return o},init_module=()=>{const e=getContext(key),t=getColumns();setContext(key,{...e,columns:t})};function initContext(){init_module$4(),init_module$3(),init_module$2(),init_module$1(),init_module()}function getDataTable(){const{data:e,id:t,options:r,columns:n,datatableWidth:i,pageNumber:o,globalFilters:a,localFilters:s}=getContext(key),c={init:()=>{c.getColumns(),c.resize(),c.addEventScrollX(),new ResizeObserver((e=>{c.resize()})).observe(document.querySelector(`#${t.get()}`).parentElement)},reset:()=>{o.update((e=>1)),a.remove(),s.remove(),n.set([])},setRows:t=>{t.forEach((e=>{Object.keys(e).forEach((t=>{null===e[t]&&(e[t]="")}))})),e.set(t)},getSize:()=>{const e=document.querySelector(`#${t.get()}`).parentNode,r=getComputedStyle(e),n=e.getBoundingClientRect(),i=e=>parseFloat(e.replace("px",""));return{parentWidth:n.width,parentHeight:n.height,width:(n.width-i(r.paddingLeft)-i(r.paddingRight)-i(r.borderLeftWidth)-i(r.borderRightWidth))/n.width,height:(n.height-i(r.paddingTop)-i(r.paddingBottom)-i(r.borderTopWidth)-i(r.borderBottomWidth))/n.height,top:r.paddingTop,right:r.paddingRight,bottom:r.paddingBottom,left:r.paddingLeft}},resize:()=>{if(!document.querySelector(`#${t.get()}`))return;const e=c.getSize(),o=document.querySelector(`#${t.get()} .dt-table`);r.get().scrollY&&(o.style.height=c.getTableContainerHeight(e.parentHeight*e.height)+"px",n.redraw()),i.set(e.parentWidth*e.width),e.parentWidth*e.width<document.querySelector(`#${t.get()} table`).offsetWidth&&(o.style.overflowX="auto")},getTableContainerHeight:e=>{let n;r.get().pagination&&(r.get().blocks.paginationButtons||r.get().blocks.paginationRowCount)&&(n=!0);const i=[r.get().blocks.searchInput?document.querySelector(`#${t.get()} .dt-search`).getBoundingClientRect().height:0,n?document.querySelector(`#${t.get()} .dt-pagination`).getBoundingClientRect().height:0];document.querySelector(`#${t.get()} .dt-table`).style.height=e-i.reduce(((e,t)=>e+t))+"px"},addEventScrollX:()=>{r.get().scrollY&&document.querySelector(`#${t.get()} .dt-table`).addEventListener("scroll",(e=>{document.querySelector(`#${t.get()} .dt-header`).style.left=-1*e.target.scrollLeft+"px"}))},getColumns:()=>{setTimeout((()=>{const e=[];let r=0;document.querySelectorAll(`#${t.get()} table thead th`).forEach((t=>{e.push({index:r,html:t.innerHTML,key:c.getKey(t.dataset.key),sort:null,classList:t.classList,minWidth:t.getBoundingClientRect().width}),t.addEventListener("click",(e=>{n.sort(e.target,c.getKey(t.dataset.key))}),!0),r++})),n.set(e)}),25)},getKey:e=>{if(e)return e&&e.indexOf("=>")>0?new Function(`'use strict';return (${e})`)():t=>t[e]}};return c}function create_if_block_2$4(e){let t,r;return t=new Search({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$4(e){let t,r;return t=new StickyHeader({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$8(e){let t,r;return t=new Pagination({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$e(e){let t,r,n,i,o,a,s,c,u=!0===e[2].blocks.searchInput&&create_if_block_2$4(),l=e[2].scrollY&&create_if_block_1$4();const d=e[9].default,f=create_slot(d,e,e[8],null);let h=(!0===e[2].blocks.paginationRowCount||!0===e[2].blocks.paginationButtons)&&create_if_block$8();return{c(){t=element("section"),u&&u.c(),r=space(),n=element("article"),l&&l.c(),i=space(),o=element("table"),f&&f.c(),a=space(),h&&h.c(),attr(o,"class","svelte-z0nhq"),attr(n,"class","dt-table svelte-z0nhq"),attr(t,"id",e[1]),attr(t,"class",s="datatable "+e[0]+" svelte-z0nhq"),toggle_class(t,"scroll-y",e[2].scrollY),toggle_class(t,"css",e[2].css)},m(e,s){insert(e,t,s),u&&u.m(t,null),append(t,r),append(t,n),l&&l.m(n,null),append(n,i),append(n,o),f&&f.m(o,null),append(t,a),h&&h.m(t,null),c=!0},p(e,[o]){!0===e[2].blocks.searchInput?u?4&o&&transition_in(u,1):(u=create_if_block_2$4(),u.c(),transition_in(u,1),u.m(t,r)):u&&(group_outros(),transition_out(u,1,1,(()=>{u=null})),check_outros()),e[2].scrollY?l?4&o&&transition_in(l,1):(l=create_if_block_1$4(),l.c(),transition_in(l,1),l.m(n,i)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros()),f&&f.p&&(!c||256&o)&&update_slot_base(f,d,e,e[8],c?get_slot_changes(d,e[8],o,null):get_all_dirty_from_scope(e[8]),null),!0===e[2].blocks.paginationRowCount||!0===e[2].blocks.paginationButtons?h?4&o&&transition_in(h,1):(h=create_if_block$8(),h.c(),transition_in(h,1),h.m(t,null)):h&&(group_outros(),transition_out(h,1,1,(()=>{h=null})),check_outros()),(!c||2&o)&&attr(t,"id",e[1]),(!c||1&o&&s!==(s="datatable "+e[0]+" svelte-z0nhq"))&&attr(t,"class",s),5&o&&toggle_class(t,"scroll-y",e[2].scrollY),5&o&&toggle_class(t,"css",e[2].css)},i(e){c||(transition_in(u),transition_in(l),transition_in(f,e),transition_in(h),c=!0)},o(e){transition_out(u),transition_out(l),transition_out(f,e),transition_out(h),c=!1},d(e){e&&detach(t),u&&u.d(),l&&l.d(),f&&f.d(e),h&&h.d()}}}function instance$c(e,t,r){let n,i,{$$slots:o={},$$scope:a}=t,{data:s=[]}=t,{settings:c={}}=t,{classList:u=""}=t;setContext(key,{}),initContext();const{rows:l}=getContext(key),d=l,f=getDataTable(),{id:h,options:p}=getContext(key);return component_subscribe(e,h,(e=>r(1,n=e))),component_subscribe(e,p,(e=>r(2,i=e))),onMount((()=>f.init())),onDestroy((()=>f.reset())),e.$$set=e=>{"data"in e&&r(5,s=e.data),"settings"in e&&r(6,c=e.settings),"classList"in e&&r(0,u=e.classList),"$$scope"in e&&r(8,a=e.$$scope)},e.$$.update=()=>{96&e.$$.dirty&&(f.setRows(s),p.update(c))},[u,n,i,h,p,s,c,d,a,o]}class Datatable extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$c,create_fragment$e,safe_not_equal,{data:5,settings:6,classList:0,dataRows:7})}get dataRows(){return this.$$.ctx[7]}}const{document:document_1}=globals;function get_each_context$6(e,t,r){const n=e.slice();return n[5]=t[r],n[7]=r,n}function create_each_block$6(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$=e[1][e[7]].blockDate+"",S=shortenPubkey(e[1][e[7]].signature,4)+"",k=e[1][e[7]].tradeAction+"",A=totalAbbrev(Math.abs(e[1][e[7]].tradeAmount.uiAmountFloat),e[1][e[7]].tokenPrice,!0,e[1][e[7]].tokenDecimals)+"",E=e[1][e[7]].tokenAbbrev+"";function I(){return e[4](e[7])}return{c(){t=element("tr"),t.innerHTML='<td class="svelte-mfv1fw"></td>',r=space(),n=element("tr"),i=element("td"),o=text($),a=space(),s=element("td"),c=text(S),u=space(),l=element("td"),d=text(k),f=space(),h=element("td"),p=text(A),m=text(" \n              "),g=text(E),b=space(),y=element("td"),y.innerHTML='<i class="text-gradient jet-icons">➜</i>',_=space(),attr(t,"class","datatable-spacer"),attr(i,"class","svelte-mfv1fw"),set_style(s,"color","var(--success)"),attr(s,"class","svelte-mfv1fw"),attr(l,"class","reserve-detail svelte-mfv1fw"),set_style(l,"text-align","center",1),attr(h,"class","asset svelte-mfv1fw"),attr(y,"class","svelte-mfv1fw")},m(e,$){insert(e,t,$),insert(e,r,$),insert(e,n,$),append(n,i),append(i,o),append(n,a),append(n,s),append(s,c),append(n,u),append(n,l),append(l,d),append(n,f),append(n,h),append(h,p),append(h,m),append(h,g),append(n,b),append(n,y),append(n,_),v||(w=listen(n,"click",I),v=!0)},p(t,r){e=t,2&r&&$!==($=e[1][e[7]].blockDate+"")&&set_data(o,$),2&r&&S!==(S=shortenPubkey(e[1][e[7]].signature,4)+"")&&set_data(c,S),2&r&&k!==(k=e[1][e[7]].tradeAction+"")&&set_data(d,k),2&r&&A!==(A=totalAbbrev(Math.abs(e[1][e[7]].tradeAmount.uiAmountFloat),e[1][e[7]].tokenPrice,!0,e[1][e[7]].tokenDecimals)+"")&&set_data(p,A),2&r&&E!==(E=e[1][e[7]].tokenAbbrev+"")&&set_data(g,E)},d(e){e&&detach(t),e&&detach(r),e&&detach(n),v=!1,w()}}}function create_default_slot$2(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$=dictionary[e[0].language].transactions.date+"",S=dictionary[e[0].language].transactions.signature+"",k=dictionary[e[0].language].transactions.tradeAction+"",A=dictionary[e[0].language].transactions.tradeAmount+"";m=new Loader({props:{button:!0}});let E=e[1],I=[];for(let t=0;t<E.length;t+=1)I[t]=create_each_block$6(get_each_context$6(e,E,t));return{c(){t=element("thead"),r=element("th"),n=text($),i=space(),o=element("th"),a=text(S),s=space(),c=element("th"),u=text(k),l=space(),d=element("th"),f=text(A),h=space(),p=element("th"),create_component(m.$$.fragment),b=space(),y=element("div"),_=space(),v=element("tbody");for(let e=0;e<I.length;e+=1)I[e].c();attr(r,"data-key","blockDate"),attr(r,"class","svelte-mfv1fw"),attr(o,"data-key","signature"),attr(o,"class","svelte-mfv1fw"),attr(c,"data-key","tradeAction"),set_style(c,"text-align","center",1),attr(c,"class","svelte-mfv1fw"),attr(d,"data-key","tradeAmount"),attr(d,"class","asset svelte-mfv1fw"),attr(p,"style",g=e[0].transactionLogsInit?"opacity: 0;":"opacity: 1;"),attr(p,"class","svelte-mfv1fw"),attr(y,"class","datatable-divider")},m(e,g){insert(e,t,g),append(t,r),append(r,n),append(t,i),append(t,o),append(o,a),append(t,s),append(t,c),append(c,u),append(t,l),append(t,d),append(d,f),append(t,h),append(t,p),mount_component(m,p,null),insert(e,b,g),insert(e,y,g),insert(e,_,g),insert(e,v,g);for(let e=0;e<I.length;e+=1)I[e].m(v,null);w=!0},p(e,t){if((!w||1&t)&&$!==($=dictionary[e[0].language].transactions.date+"")&&set_data(n,$),(!w||1&t)&&S!==(S=dictionary[e[0].language].transactions.signature+"")&&set_data(a,S),(!w||1&t)&&k!==(k=dictionary[e[0].language].transactions.tradeAction+"")&&set_data(u,k),(!w||1&t)&&A!==(A=dictionary[e[0].language].transactions.tradeAmount+"")&&set_data(f,A),(!w||1&t&&g!==(g=e[0].transactionLogsInit?"opacity: 0;":"opacity: 1;"))&&attr(p,"style",g),2&t){let r;for(E=e[1],r=0;r<E.length;r+=1){const n=get_each_context$6(e,E,r);I[r]?I[r].p(n,t):(I[r]=create_each_block$6(n),I[r].c(),I[r].m(v,null))}for(;r<I.length;r+=1)I[r].d(1);I.length=E.length}},i(e){w||(transition_in(m.$$.fragment,e),w=!0)},o(e){transition_out(m.$$.fragment,e),w=!1},d(e){e&&detach(t),destroy_component(m),e&&detach(b),e&&detach(y),e&&detach(_),e&&detach(v),destroy_each(I,e)}}}function create_fragment$d(e){let t,r,n,i,o,a,s,c,u,l,d,f=dictionary[e[0].language].transactions.title+"";return document_1.title=t="Jet Protocol | "+dictionary[e[0].language].transactions.title,l=new Datatable({props:{settings:e[2],data:e[0].transactionLogs,$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){r=space(),n=element("div"),i=element("h1"),o=text(f),a=space(),s=element("div"),c=space(),u=element("div"),create_component(l.$$.fragment),attr(i,"class","view-title text-gradient"),attr(s,"class","divider svelte-mfv1fw"),attr(u,"class","transaction-logs flex svelte-mfv1fw"),attr(n,"class","view-container flex justify-center column")},m(e,t){insert(e,r,t),insert(e,n,t),append(n,i),append(i,o),append(n,a),append(n,s),append(n,c),append(n,u),mount_component(l,u,null),d=!0},p(e,[r]){(!d||1&r)&&t!==(t="Jet Protocol | "+dictionary[e[0].language].transactions.title)&&(document_1.title=t),(!d||1&r)&&f!==(f=dictionary[e[0].language].transactions.title+"")&&set_data(o,f);const n={};1&r&&(n.data=e[0].transactionLogs),259&r&&(n.$$scope={dirty:r,ctx:e}),l.$set(n)},i(e){d||(transition_in(l.$$.fragment,e),d=!0)},o(e){transition_out(l.$$.fragment,e),d=!1},d(e){e&&detach(r),e&&detach(n),destroy_component(l)}}}function instance$b(e,t,r){let n,i;component_subscribe(e,USER,(e=>r(0,n=e)));const o={sortable:!1,pagination:!0,rowPerPage:8,scrollY:!1,blocks:{searchInput:!1},labels:{noRows:dictionary[n.language].transactions.noTrades,info:dictionary[n.language].transactions.entries,previous:"<",next:">"}};onMount((async()=>{let e=null;for(;!e;)await timeout(1e3),document.querySelectorAll(".dt-pagination-buttons button").forEach((t=>{"❯"===t.innerHTML&&(e=t,e.addEventListener("click",(()=>{getTransactionsDetails(8)})))}))}));return[n,i,o,undefined,e=>window.open(i[e].explorerUrl,"_blank")]}class TransactionLogs extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$b,create_fragment$d,safe_not_equal,{})}}function isOutOfViewport(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i={};return i.top=r.top<0,i.left=r.left<0,i.bottom=r.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight),i.right=r.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function create_fragment$c(e){let t,r,n=e[0](e[1],e[2])+"";return{c(){t=element("div"),attr(t,"class",r="item "+e[3]+" svelte-3e0qet")},m(e,r){insert(e,t,r),t.innerHTML=n},p(e,[i]){7&i&&n!==(n=e[0](e[1],e[2])+"")&&(t.innerHTML=n),8&i&&r!==(r="item "+e[3]+" svelte-3e0qet")&&attr(t,"class",r)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function instance$a(e,t,r){let{isActive:n=!1}=t,{isFirst:i=!1}=t,{isHover:o=!1}=t,{isSelectable:a=!1}=t,{getOptionLabel:s}=t,{item:c}=t,{filterText:u=""}=t,l="";return e.$$set=e=>{"isActive"in e&&r(4,n=e.isActive),"isFirst"in e&&r(5,i=e.isFirst),"isHover"in e&&r(6,o=e.isHover),"isSelectable"in e&&r(7,a=e.isSelectable),"getOptionLabel"in e&&r(0,s=e.getOptionLabel),"item"in e&&r(1,c=e.item),"filterText"in e&&r(2,u=e.filterText)},e.$$.update=()=>{if(242&e.$$.dirty){const e=[];n&&e.push("active"),i&&e.push("first"),o&&e.push("hover"),c.isGroupHeader&&e.push("groupHeader"),c.isGroupItem&&e.push("groupItem"),a||e.push("notSelectable"),r(3,l=e.join(" "))}},[s,c,u,l,n,i,o,a]}class Item extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$a,create_fragment$c,safe_not_equal,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function get_each_context$5(e,t,r){const n=e.slice();return n[41]=t[r],n[42]=r,n}function create_else_block$4(e){let t,r,n=e[1],i=[];for(let t=0;t<n.length;t+=1)i[t]=create_each_block$5(get_each_context$5(e,n,t));const o=e=>transition_out(i[e],1,1,(()=>{i[e]=null}));let a=null;return n.length||(a=create_else_block_2$1(e)),{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=empty(),a&&a.c()},m(e,n){for(let t=0;t<i.length;t+=1)i[t].m(e,n);insert(e,t,n),a&&a.m(e,n),r=!0},p(e,r){if(114390&r[0]){let s;for(n=e[1],s=0;s<n.length;s+=1){const o=get_each_context$5(e,n,s);i[s]?(i[s].p(o,r),transition_in(i[s],1)):(i[s]=create_each_block$5(o),i[s].c(),transition_in(i[s],1),i[s].m(t.parentNode,t))}for(group_outros(),s=n.length;s<i.length;s+=1)o(s);check_outros(),!n.length&&a?a.p(e,r):n.length?a&&(a.d(1),a=null):(a=create_else_block_2$1(e),a.c(),a.m(t.parentNode,t))}},i(e){if(!r){for(let e=0;e<n.length;e+=1)transition_in(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)transition_out(i[e]);r=!1},d(e){destroy_each(i,e),e&&detach(t),a&&a.d(e)}}}function create_if_block$7(e){let t,r,n;var i=e[3];function o(e){return{props:{items:e[1],itemHeight:e[8],$$slots:{default:[create_default_slot$1,({item:e,i:t})=>({41:e,42:t}),({item:e,i:t})=>[0,(e?1024:0)|(t?2048:0)]]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&create_component(t.$$.fragment),r=empty()},m(e,i){t&&mount_component(t,e,i),insert(e,r,i),n=!0},p(e,n){const a={};if(2&n[0]&&(a.items=e[1]),256&n[0]&&(a.itemHeight=e[8]),9814&n[0]|11264&n[1]&&(a.$$scope={dirty:n,ctx:e}),i!==(i=e[3])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}i?(t=new i(o(e)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else i&&t.$set(a)},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_else_block_2$1(e){let t,r=!e[11]&&create_if_block_2$3(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,n){e[11]?r&&(r.d(1),r=null):r?r.p(e,n):(r=create_if_block_2$3(e),r.c(),r.m(t.parentNode,t))},d(e){r&&r.d(e),e&&detach(t)}}}function create_if_block_2$3(e){let t,r;return{c(){t=element("div"),r=text(e[12]),attr(t,"class","empty svelte-1uyqfml")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){4096&t[0]&&set_data(r,e[12])},d(e){e&&detach(t)}}}function create_else_block_1$1(e){let t,r,n,i,o,a;var s=e[4];function c(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:isItemFirst(e[42]),isActive:isItemActive(e[41],e[9],e[10]),isHover:isItemHover(e[2],e[41],e[42],e[1]),isSelectable:isItemSelectable(e[41])}}}function u(){return e[29](e[42])}function l(){return e[30](e[42])}function d(...t){return e[31](e[41],e[42],...t)}return s&&(r=new s(c(e))),{c(){t=element("div"),r&&create_component(r.$$.fragment),n=space(),attr(t,"class","listItem"),attr(t,"tabindex","-1")},m(e,s){insert(e,t,s),r&&mount_component(r,t,null),append(t,n),i=!0,o||(a=[listen(t,"mouseover",u),listen(t,"focus",l),listen(t,"click",d)],o=!0)},p(i,o){e=i;const a={};if(2&o[0]&&(a.item=e[41]),8192&o[0]&&(a.filterText=e[13]),64&o[0]&&(a.getOptionLabel=e[6]),1538&o[0]&&(a.isActive=isItemActive(e[41],e[9],e[10])),6&o[0]&&(a.isHover=isItemHover(e[2],e[41],e[42],e[1])),2&o[0]&&(a.isSelectable=isItemSelectable(e[41])),s!==(s=e[4])){if(r){group_outros();const e=r;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}s?(r=new s(c(e)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,t,n)):r=null}else s&&r.$set(a)},i(e){i||(r&&transition_in(r.$$.fragment,e),i=!0)},o(e){r&&transition_out(r.$$.fragment,e),i=!1},d(e){e&&detach(t),r&&destroy_component(r),o=!1,run_all(a)}}}function create_if_block_1$3(e){let t,r,n=e[7](e[41])+"";return{c(){t=element("div"),r=text(n),attr(t,"class","listGroupTitle svelte-1uyqfml")},m(e,n){insert(e,t,n),append(t,r)},p(e,t){130&t[0]&&n!==(n=e[7](e[41])+"")&&set_data(r,n)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function create_each_block$5(e){let t,r,n,i;const o=[create_if_block_1$3,create_else_block_1$1],a=[];function s(e,t){return e[41].isGroupHeader&&!e[41].isSelectable?0:1}return t=s(e),r=a[t]=o[t](e),{c(){r.c(),n=empty()},m(e,r){a[t].m(e,r),insert(e,n,r),i=!0},p(e,i){let c=t;t=s(e),t===c?a[t].p(e,i):(group_outros(),transition_out(a[c],1,1,(()=>{a[c]=null})),check_outros(),r=a[t],r?r.p(e,i):(r=a[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){i||(transition_in(r),i=!0)},o(e){transition_out(r),i=!1},d(e){a[t].d(e),e&&detach(n)}}}function create_default_slot$1(e){let t,r,n,i,o;var a=e[4];function s(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:isItemFirst(e[42]),isActive:isItemActive(e[41],e[9],e[10]),isHover:isItemHover(e[2],e[41],e[42],e[1]),isSelectable:isItemSelectable(e[41])}}}function c(){return e[26](e[42])}function u(){return e[27](e[42])}function l(...t){return e[28](e[41],e[42],...t)}return a&&(r=new a(s(e))),{c(){t=element("div"),r&&create_component(r.$$.fragment),attr(t,"class","listItem")},m(e,a){insert(e,t,a),r&&mount_component(r,t,null),n=!0,i||(o=[listen(t,"mouseover",c),listen(t,"focus",u),listen(t,"click",l)],i=!0)},p(n,i){e=n;const o={};if(1024&i[1]&&(o.item=e[41]),8192&i[0]&&(o.filterText=e[13]),64&i[0]&&(o.getOptionLabel=e[6]),2048&i[1]&&(o.isFirst=isItemFirst(e[42])),1536&i[0]|1024&i[1]&&(o.isActive=isItemActive(e[41],e[9],e[10])),6&i[0]|3072&i[1]&&(o.isHover=isItemHover(e[2],e[41],e[42],e[1])),1024&i[1]&&(o.isSelectable=isItemSelectable(e[41])),a!==(a=e[4])){if(r){group_outros();const e=r;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}a?(r=new a(s(e)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,t,null)):r=null}else a&&r.$set(o)},i(e){n||(r&&transition_in(r.$$.fragment,e),n=!0)},o(e){r&&transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),r&&destroy_component(r),i=!1,run_all(o)}}}function create_fragment$b(e){let t,r,n,i,o,a;const s=[create_if_block$7,create_else_block$4],c=[];function u(e,t){return e[5]?0:1}return r=u(e),n=c[r]=s[r](e),{c(){t=element("div"),n.c(),attr(t,"class","listContainer svelte-1uyqfml"),attr(t,"style",e[14]),toggle_class(t,"virtualList",e[5])},m(n,s){insert(n,t,s),c[r].m(t,null),e[32](t),i=!0,o||(a=[listen(window,"keydown",e[17]),listen(window,"resize",e[18])],o=!0)},p(e,o){let a=r;r=u(e),r===a?c[r].p(e,o):(group_outros(),transition_out(c[a],1,1,(()=>{c[a]=null})),check_outros(),n=c[r],n?n.p(e,o):(n=c[r]=s[r](e),n.c()),transition_in(n,1),n.m(t,null)),(!i||16384&o[0])&&attr(t,"style",e[14]),32&o[0]&&toggle_class(t,"virtualList",e[5])},i(e){i||(transition_in(n),i=!0)},o(e){transition_out(n),i=!1},d(n){n&&detach(t),c[r].d(),e[32](null),o=!1,run_all(a)}}}function isItemActive(e,t,r){return t&&t[r]===e[r]}function isItemFirst(e){return 0===e}function isItemHover(e,t,r,n){return isItemSelectable(t)&&(e===r||1===n.length)}function isItemSelectable(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function instance$9(e,t,r){const n=createEventDispatcher();let i,o,{container:a}=t,{VirtualList:s=null}=t,{Item:c=Item}=t,{isVirtualList:u=!1}=t,{items:l=[]}=t,{labelIdentifier:d="label"}=t,{getOptionLabel:f=((e,t)=>{if(e)return e.isCreator?`Create "${t}"`:e[d]})}=t,{getGroupHeaderLabel:h=null}=t,{itemHeight:p=40}=t,{hoverItemIndex:m=0}=t,{value:g}=t,{optionIdentifier:b="value"}=t,{hideEmptyState:y=!1}=t,{noOptionsMessage:_="No options"}=t,{isMulti:v=!1}=t,{activeItemIndex:w=0}=t,{filterText:$=""}=t,{parent:S=null}=t,{listPlacement:k=null}=t,{listAutoWidth:A=null}=t,{listOffset:E=5}=t,I=0,R=!1;function T(e){e.isCreator||n("itemSelected",e)}function x(e){R||r(2,m=e)}function P(e){const{item:t,i:i,event:o}=e;if(o.stopPropagation(),g&&!v&&g[b]===t[b])return M();t.isCreator?n("itemCreated",$):isItemSelectable(t)&&(r(19,w=i),r(2,m=i),T(t))}function M(){n("closeList")}async function C(e){if(u)return;let t=!0;for(;t;)e>0&&m===l.length-1?r(2,m=0):r(2,e<0&&0===m?m=l.length-1:m+=e),t=!isItemSelectable(l[m]);await tick(),O("hover")}function O(e){if(u||!a)return;let t;const n=a.querySelector(`.listItem .${e}`);n&&(t=a.getBoundingClientRect().bottom-n.getBoundingClientRect().bottom),r(0,a.scrollTop-=t,a)}function L(){const{height:e,width:t}=S.getBoundingClientRect();r(14,o=""),r(14,o+=`min-width:${t}px;width:${A?"auto":"100%"};`),"top"===k||"auto"===k&&isOutOfViewport(S,a).bottom?r(14,o+=`bottom:${e+E}px;`):r(14,o+=`top:${e+E}px;`)}onMount((()=>{if(l.length>0&&!v&&g){const e=l.findIndex((e=>e[b]===g[b]));e&&r(2,m=e)}O("active"),a.addEventListener("scroll",(()=>{clearTimeout(I),I=setTimeout((()=>{R=!1}),100)}),!1)})),beforeUpdate((()=>{l||r(1,l=[]),l!==i&&l.length>0&&r(2,m=0),i=l}));return e.$$set=e=>{"container"in e&&r(0,a=e.container),"VirtualList"in e&&r(3,s=e.VirtualList),"Item"in e&&r(4,c=e.Item),"isVirtualList"in e&&r(5,u=e.isVirtualList),"items"in e&&r(1,l=e.items),"labelIdentifier"in e&&r(20,d=e.labelIdentifier),"getOptionLabel"in e&&r(6,f=e.getOptionLabel),"getGroupHeaderLabel"in e&&r(7,h=e.getGroupHeaderLabel),"itemHeight"in e&&r(8,p=e.itemHeight),"hoverItemIndex"in e&&r(2,m=e.hoverItemIndex),"value"in e&&r(9,g=e.value),"optionIdentifier"in e&&r(10,b=e.optionIdentifier),"hideEmptyState"in e&&r(11,y=e.hideEmptyState),"noOptionsMessage"in e&&r(12,_=e.noOptionsMessage),"isMulti"in e&&r(21,v=e.isMulti),"activeItemIndex"in e&&r(19,w=e.activeItemIndex),"filterText"in e&&r(13,$=e.filterText),"parent"in e&&r(22,S=e.parent),"listPlacement"in e&&r(23,k=e.listPlacement),"listAutoWidth"in e&&r(24,A=e.listAutoWidth),"listOffset"in e&&r(25,E=e.listOffset)},e.$$.update=()=>{4194305&e.$$.dirty[0]&&S&&a&&L()},[a,l,m,s,c,u,f,h,p,g,b,y,_,$,o,x,P,function(e){switch(e.key){case"Escape":e.preventDefault(),M();break;case"ArrowDown":e.preventDefault(),l.length&&C(1);break;case"ArrowUp":e.preventDefault(),l.length&&C(-1);break;case"Enter":if(e.preventDefault(),0===l.length)break;const t=l[m];if(g&&!v&&g[b]===t[b]){M();break}t.isCreator?n("itemCreated",$):(r(19,w=m),T(l[m]));break;case"Tab":if(e.preventDefault(),0===l.length)return M();if(g&&g[b]===l[m][b])return M();r(19,w=m),T(l[m])}},L,w,d,v,S,k,A,E,e=>x(e),e=>x(e),(e,t,r)=>P({item:e,i:t,event:r}),e=>x(e),e=>x(e),(e,t,r)=>P({item:e,i:t,event:r}),function(e){binding_callbacks[e?"unshift":"push"]((()=>{a=e,r(0,a)}))}]}class List extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$9,create_fragment$b,safe_not_equal,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function create_fragment$a(e){let t,r=e[0](e[1])+"";return{c(){t=element("div"),attr(t,"class","selection svelte-pu1q1n")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,[n]){3&n&&r!==(r=e[0](e[1])+"")&&(t.innerHTML=r)},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function instance$8(e,t,r){let{getSelectionLabel:n}=t,{item:i}=t;return e.$$set=e=>{"getSelectionLabel"in e&&r(0,n=e.getSelectionLabel),"item"in e&&r(1,i=e.item)},[n,i]}class Selection extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$8,create_fragment$a,safe_not_equal,{getSelectionLabel:0,item:1})}}function get_each_context$4(e,t,r){const n=e.slice();return n[9]=t[r],n[11]=r,n}function create_if_block$6(e){let t,r,n;function i(...t){return e[6](e[11],...t)}return{c(){t=element("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',attr(t,"class","multiSelectItem_clear svelte-liu9pa")},m(e,o){insert(e,t,o),r||(n=listen(t,"click",i),r=!0)},p(t,r){e=t},d(e){e&&detach(t),r=!1,n()}}}function create_each_block$4(e){let t,r,n,i,o,a,s,c=e[4](e[9])+"",u=!e[2]&&!e[3]&&create_if_block$6(e);function l(...t){return e[7](e[11],...t)}return{c(){t=element("div"),r=element("div"),n=space(),u&&u.c(),i=space(),attr(r,"class","multiSelectItem_label svelte-liu9pa"),attr(t,"class",o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(e,o){insert(e,t,o),append(t,r),r.innerHTML=c,append(t,n),u&&u.m(t,null),append(t,i),a||(s=listen(t,"click",l),a=!0)},p(n,a){e=n,17&a&&c!==(c=e[4](e[9])+"")&&(r.innerHTML=c),e[2]||e[3]?u&&(u.d(1),u=null):u?u.p(e,a):(u=create_if_block$6(e),u.c(),u.m(t,i)),6&a&&o!==(o="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&attr(t,"class",o)},d(e){e&&detach(t),u&&u.d(),a=!1,s()}}}function create_fragment$9(e){let t,r=e[0],n=[];for(let t=0;t<r.length;t+=1)n[t]=create_each_block$4(get_each_context$4(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=empty()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);insert(e,t,r)},p(e,[i]){if(63&i){let o;for(r=e[0],o=0;o<r.length;o+=1){const a=get_each_context$4(e,r,o);n[o]?n[o].p(a,i):(n[o]=create_each_block$4(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:noop$1,o:noop$1,d(e){destroy_each(n,e),e&&detach(t)}}}function instance$7(e,t,r){const n=createEventDispatcher();let{value:i=[]}=t,{activeValue:o}=t,{isDisabled:a=!1}=t,{multiFullItemClearable:s=!1}=t,{getSelectionLabel:c}=t;function u(e,t){t.stopPropagation(),n("multiItemClear",{i:e})}return e.$$set=e=>{"value"in e&&r(0,i=e.value),"activeValue"in e&&r(1,o=e.activeValue),"isDisabled"in e&&r(2,a=e.isDisabled),"multiFullItemClearable"in e&&r(3,s=e.multiFullItemClearable),"getSelectionLabel"in e&&r(4,c=e.getSelectionLabel)},[i,o,a,s,c,u,(e,t)=>u(e,t),(e,t)=>s?u(e,t):{}]}class MultiSelection extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$7,create_fragment$9,safe_not_equal,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function get_each_context$3(e,t,r){const n=e.slice();return n[23]=t[r],n}const get_default_slot_changes=e=>({item:32&e,i:32&e,hoverItemIndex:2&e}),get_default_slot_context=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function fallback_block(e){let t;return{c(){t=text("Missing template")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_each_block$3(e,t){let r,n,i;const o=t[15].default,a=create_slot(o,t,t[14],get_default_slot_context),s=a||fallback_block();return{key:e,first:null,c(){r=element("svelte-virtual-list-row"),s&&s.c(),n=space(),set_custom_element_data(r,"class","svelte-g2cagw"),this.first=r},m(e,t){insert(e,r,t),s&&s.m(r,null),append(r,n),i=!0},p(e,r){t=e,a&&a.p&&(!i||16418&r)&&update_slot_base(a,o,t,t[14],i?get_slot_changes(o,t[14],r,get_default_slot_changes):get_all_dirty_from_scope(t[14]),get_default_slot_context)},i(e){i||(transition_in(s,e),i=!0)},o(e){transition_out(s,e),i=!1},d(e){e&&detach(r),s&&s.d(e)}}}function create_fragment$8(e){let t,r,n,i,o,a,s=[],c=new Map,u=e[5];const l=e=>e[23].index;for(let t=0;t<u.length;t+=1){let r=get_each_context$3(e,u,t),n=l(r);c.set(n,s[t]=create_each_block$3(n,r))}return{c(){t=element("svelte-virtual-list-viewport"),r=element("svelte-virtual-list-contents");for(let e=0;e<s.length;e+=1)s[e].c();set_style(r,"padding-top",e[6]+"px"),set_style(r,"padding-bottom",e[7]+"px"),set_custom_element_data(r,"class","svelte-g2cagw"),set_style(t,"height",e[0]),set_custom_element_data(t,"class","svelte-g2cagw"),add_render_callback((()=>e[18].call(t)))},m(c,u){insert(c,t,u),append(t,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null);e[16](r),e[17](t),n=add_resize_listener(t,e[18].bind(t)),i=!0,o||(a=listen(t,"scroll",e[8]),o=!0)},p(e,[n]){16418&n&&(u=e[5],group_outros(),s=update_keyed_each(s,n,l,1,e,u,c,r,outro_and_destroy_block,create_each_block$3,null,get_each_context$3),check_outros()),(!i||64&n)&&set_style(r,"padding-top",e[6]+"px"),(!i||128&n)&&set_style(r,"padding-bottom",e[7]+"px"),(!i||1&n)&&set_style(t,"height",e[0])},i(e){if(!i){for(let e=0;e<u.length;e+=1)transition_in(s[e]);i=!0}},o(e){for(let e=0;e<s.length;e+=1)transition_out(s[e]);i=!1},d(r){r&&detach(t);for(let e=0;e<s.length;e+=1)s[e].d();e[16](null),e[17](null),n(),o=!1,a()}}}function instance$6(e,t,r){let n,i,o,a,s,c,{$$slots:u={},$$scope:l}=t,{items:d}=t,{height:f="100%"}=t,{itemHeight:h=40}=t,{hoverItemIndex:p=0}=t,{start:m=0}=t,{end:g=0}=t,b=[],y=0,_=0,v=0;return onMount((()=>{n=o.getElementsByTagName("svelte-virtual-list-row"),r(13,s=!0)})),e.$$set=e=>{"items"in e&&r(11,d=e.items),"height"in e&&r(0,f=e.height),"itemHeight"in e&&r(12,h=e.itemHeight),"hoverItemIndex"in e&&r(1,p=e.hoverItemIndex),"start"in e&&r(9,m=e.start),"end"in e&&r(10,g=e.end),"$$scope"in e&&r(14,l=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&r(5,a=d.slice(m,g).map(((e,t)=>({index:t+m,data:e})))),14340&e.$$.dirty&&s&&async function(e,t,o){const{scrollTop:a}=i;await tick();let s=_-a,u=m;for(;s<t&&u<e.length;){let e=n[u-m];e||(r(10,g=u+1),await tick(),e=n[u-m]),s+=b[u]=o||e.offsetHeight,u+=1}r(10,g=u);const l=e.length-g;c=(_+s)/g,r(7,v=l*c),b.length=e.length,i&&r(3,i.scrollTop=0,i)}(d,y,h)},[f,p,y,i,o,a,_,v,async function(){const{scrollTop:e}=i,t=m;for(let e=0;e<n.length;e+=1)b[m+e]=h||n[e].offsetHeight;let o=0,a=0;for(;o<d.length;){const t=b[o]||c;if(a+t>e){r(9,m=o),r(6,_=a);break}a+=t,o+=1}for(;o<d.length&&(a+=b[o]||c,o+=1,!(a>e+y)););r(10,g=o);const s=d.length-g;for(c=a/g;o<d.length;)b[o++]=c;if(r(7,v=s*c),m<t){await tick();let r=0,o=0;for(let e=m;e<t;e+=1)n[e-m]&&(r+=b[e],o+=h||n[e-m].offsetHeight);const a=o-r;i.scrollTo(0,e+a)}},m,g,d,h,s,l,u,function(e){binding_callbacks[e?"unshift":"push"]((()=>{o=e,r(4,o)}))},function(e){binding_callbacks[e?"unshift":"push"]((()=>{i=e,r(3,i)}))},function(){y=this.offsetHeight,r(2,y)}]}class VirtualList extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$6,create_fragment$8,safe_not_equal,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function create_fragment$7(e){let t,r;return{c(){t=svg_element("svg"),r=svg_element("path"),attr(r,"fill","currentColor"),attr(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),attr(t,"width","100%"),attr(t,"height","100%"),attr(t,"viewBox","-2 -2 50 50"),attr(t,"focusable","false"),attr(t,"aria-hidden","true"),attr(t,"role","presentation")},m(e,n){insert(e,t,n),append(t,r)},p:noop$1,i:noop$1,o:noop$1,d(e){e&&detach(t)}}}class ClearIcon extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$7,safe_not_equal,{})}}function debounce(e,t,r){let n;return function(){let i=this,o=arguments,a=function(){n=null,r||e.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e.apply(i,o)}}function get_each_context$2(e,t,r){const n=e.slice();return n[103]=t[r],n}function create_if_block_10$1(e){let t,r,n,i,o;return{c(){t=element("span"),r=text(e[33]),n=space(),i=element("span"),o=text(e[32]),attr(t,"id","aria-selection"),attr(i,"id","aria-context")},m(e,a){insert(e,t,a),append(t,r),insert(e,n,a),insert(e,i,a),append(i,o)},p(e,t){4&t[1]&&set_data(r,e[33]),2&t[1]&&set_data(o,e[32])},d(e){e&&detach(t),e&&detach(n),e&&detach(i)}}}function create_if_block_9$1(e){let t,r,n;const i=[e[18]];var o=e[17];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=assign$2(t,i[e]);return{props:t}}return o&&(t=new o(a())),{c(){t&&create_component(t.$$.fragment),r=empty()},m(e,i){t&&mount_component(t,e,i),insert(e,r,i),n=!0},p(e,n){const s=262144&n[0]?get_spread_update(i,[get_spread_object(e[18])]):{};if(o!==(o=e[17])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=new o(a()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else o&&t.$set(s)},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_if_block_8$1(e){let t,r,n;var i=e[26];function o(e){return{props:{value:e[2],getSelectionLabel:e[12],activeValue:e[30],isDisabled:e[9],multiFullItemClearable:e[8]}}}return i&&(t=new i(o(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&create_component(t.$$.fragment),r=empty()},m(e,i){t&&mount_component(t,e,i),insert(e,r,i),n=!0},p(e,n){const a={};if(4&n[0]&&(a.value=e[2]),4096&n[0]&&(a.getSelectionLabel=e[12]),1073741824&n[0]&&(a.activeValue=e[30]),512&n[0]&&(a.isDisabled=e[9]),256&n[0]&&(a.multiFullItemClearable=e[8]),i!==(i=e[26])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}i?(t=new i(o(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else i&&t.$set(a)},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_if_block_7$1(e){let t,r,n,i,o;var a=e[25];function s(e){return{props:{item:e[2],getSelectionLabel:e[12]}}}return a&&(r=new a(s(e))),{c(){t=element("div"),r&&create_component(r.$$.fragment),attr(t,"class","selectedItem svelte-17l1npl")},m(a,s){insert(a,t,s),r&&mount_component(r,t,null),n=!0,i||(o=listen(t,"focus",e[40]),i=!0)},p(e,n){const i={};if(4&n[0]&&(i.item=e[2]),4096&n[0]&&(i.getSelectionLabel=e[12]),a!==(a=e[25])){if(r){group_outros();const e=r;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}a?(r=new a(s(e)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,t,null)):r=null}else a&&r.$set(i)},i(e){n||(r&&transition_in(r.$$.fragment,e),n=!0)},o(e){r&&transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),r&&destroy_component(r),i=!1,o()}}}function create_if_block_6$1(e){let t,r,n,i,o;var a=e[23];return a&&(r=new a({})),{c(){t=element("div"),r&&create_component(r.$$.fragment),attr(t,"class","clearSelect svelte-17l1npl"),attr(t,"aria-hidden","true")},m(a,s){insert(a,t,s),r&&mount_component(r,t,null),n=!0,i||(o=listen(t,"click",prevent_default(e[27])),i=!0)},p(e,n){if(a!==(a=e[23])){if(r){group_outros();const e=r;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}a?(r=new a({}),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,t,null)):r=null}},i(e){n||(r&&transition_in(r.$$.fragment,e),n=!0)},o(e){r&&transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),r&&destroy_component(r),i=!1,o()}}}function create_if_block_4$1(e){let t;function r(e,t){return e[22]?create_if_block_5$1:create_else_block$3}let n=r(e),i=n(e);return{c(){t=element("div"),i.c(),attr(t,"class","indicator svelte-17l1npl"),attr(t,"aria-hidden","true")},m(e,r){insert(e,t,r),i.m(t,null)},p(e,o){n===(n=r(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t,null)))},d(e){e&&detach(t),i.d()}}}function create_else_block$3(e){let t,r;return{c(){t=svg_element("svg"),r=svg_element("path"),attr(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),attr(t,"width","100%"),attr(t,"height","100%"),attr(t,"viewBox","0 0 20 20"),attr(t,"focusable","false"),attr(t,"aria-hidden","true"),attr(t,"class","svelte-17l1npl")},m(e,n){insert(e,t,n),append(t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_5$1(e){let t,r;return{c(){t=new HtmlTag,r=empty(),t.a=r},m(n,i){t.m(e[22],n,i),insert(n,r,i)},p(e,r){4194304&r[0]&&t.p(e[22])},d(e){e&&detach(r),e&&t.d()}}}function create_if_block_3$1(e){let t;return{c(){t=element("div"),t.innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',attr(t,"class","spinner svelte-17l1npl")},m(e,r){insert(e,t,r)},d(e){e&&detach(t)}}}function create_if_block_2$2(e){let t,r,n,i;const o=[e[34]];function a(t){e[84](t)}var s=e[24];function c(e){let t={};for(let e=0;e<o.length;e+=1)t=assign$2(t,o[e]);return void 0!==e[28]&&(t.hoverItemIndex=e[28]),{props:t}}return s&&(t=new s(c(e)),binding_callbacks.push((()=>bind(t,"hoverItemIndex",a))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&create_component(t.$$.fragment),n=empty()},m(e,r){t&&mount_component(t,e,r),insert(e,n,r),i=!0},p(e,i){const u=8&i[1]?get_spread_update(o,[get_spread_object(e[34])]):{};if(!r&&268435456&i[0]&&(r=!0,u.hoverItemIndex=e[28],add_flush_callback((()=>r=!1))),s!==(s=e[24])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}s?(t=new s(c(e)),binding_callbacks.push((()=>bind(t,"hoverItemIndex",a))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(e){i||(t&&transition_in(t.$$.fragment,e),i=!0)},o(e){t&&transition_out(t.$$.fragment,e),i=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_if_block_1$2(e){let t,r,n;return{c(){t=element("input"),attr(t,"name",r=e[16].name),attr(t,"type","hidden"),t.value=n=e[2]?e[12](e[2]):null,attr(t,"class","svelte-17l1npl")},m(e,r){insert(e,t,r)},p(e,i){65536&i[0]&&r!==(r=e[16].name)&&attr(t,"name",r),4100&i[0]&&n!==(n=e[2]?e[12](e[2]):null)&&(t.value=n)},d(e){e&&detach(t)}}}function create_if_block$5(e){let t,r=e[2],n=[];for(let t=0;t<r.length;t+=1)n[t]=create_each_block$2(get_each_context$2(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=empty()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);insert(e,t,r)},p(e,i){if(69636&i[0]){let o;for(r=e[2],o=0;o<r.length;o+=1){const a=get_each_context$2(e,r,o);n[o]?n[o].p(a,i):(n[o]=create_each_block$2(a),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){destroy_each(n,e),e&&detach(t)}}}function create_each_block$2(e){let t,r,n;return{c(){t=element("input"),attr(t,"name",r=e[16].name),attr(t,"type","hidden"),t.value=n=e[103]?e[12](e[103]):null,attr(t,"class","svelte-17l1npl")},m(e,r){insert(e,t,r)},p(e,i){65536&i[0]&&r!==(r=e[16].name)&&attr(t,"name",r),4100&i[0]&&n!==(n=e[103]?e[12](e[103]):null)&&(t.value=n)},d(e){e&&detach(t)}}}function create_fragment$6(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_=e[1]&&create_if_block_10$1(e),v=e[17]&&create_if_block_9$1(e),w=e[35]&&create_if_block_8$1(e),$=[{readOnly:s=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],S={};for(let e=0;e<$.length;e+=1)S=assign$2(S,$[e]);let k=!e[7]&&e[29]&&create_if_block_7$1(e),A=e[37]&&create_if_block_6$1(e),E=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&create_if_block_4$1(e),I=e[4]&&create_if_block_3$1(),R=e[5]&&create_if_block_2$2(e),T=(!e[7]||e[7]&&!e[35])&&create_if_block_1$2(e),x=e[7]&&e[35]&&create_if_block$5(e);return{c(){t=element("div"),r=element("span"),_&&_.c(),n=space(),v&&v.c(),i=space(),w&&w.c(),o=space(),a=element("input"),c=space(),k&&k.c(),u=space(),A&&A.c(),l=space(),E&&E.c(),d=space(),I&&I.c(),f=space(),R&&R.c(),h=space(),T&&T.c(),p=space(),x&&x.c(),attr(r,"aria-live","polite"),attr(r,"aria-atomic","false"),attr(r,"aria-relevant","additions text"),attr(r,"class","a11yText svelte-17l1npl"),set_attributes(a,S),toggle_class(a,"svelte-17l1npl",!0),attr(t,"class",m="selectContainer "+e[21]+" svelte-17l1npl"),attr(t,"style",e[11]),toggle_class(t,"hasError",e[10]),toggle_class(t,"multiSelect",e[7]),toggle_class(t,"disabled",e[9]),toggle_class(t,"focused",e[1])},m(s,m){insert(s,t,m),append(t,r),_&&_.m(r,null),append(t,n),v&&v.m(t,null),append(t,i),w&&w.m(t,null),append(t,o),append(t,a),a.autofocus&&a.focus(),e[82](a),set_input_value(a,e[3]),append(t,c),k&&k.m(t,null),append(t,u),A&&A.m(t,null),append(t,l),E&&E.m(t,null),append(t,d),I&&I.m(t,null),append(t,f),R&&R.m(t,null),append(t,h),T&&T.m(t,null),append(t,p),x&&x.m(t,null),e[85](t),g=!0,b||(y=[listen(window,"click",e[41]),listen(window,"focusin",e[41]),listen(window,"keydown",e[39]),listen(a,"focus",e[40]),listen(a,"input",e[83]),listen(t,"click",e[42])],b=!0)},p(e,n){e[1]?_?_.p(e,n):(_=create_if_block_10$1(e),_.c(),_.m(r,null)):_&&(_.d(1),_=null),e[17]?v?(v.p(e,n),131072&n[0]&&transition_in(v,1)):(v=create_if_block_9$1(e),v.c(),transition_in(v,1),v.m(t,i)):v&&(group_outros(),transition_out(v,1,1,(()=>{v=null})),check_outros()),e[35]?w?(w.p(e,n),16&n[1]&&transition_in(w,1)):(w=create_if_block_8$1(e),w.c(),transition_in(w,1),w.m(t,o)):w&&(group_outros(),transition_out(w,1,1,(()=>{w=null})),check_outros()),set_attributes(a,S=get_spread_update($,[(!g||8192&n[0]&&s!==(s=!e[13]))&&{readOnly:s},1&n[1]&&e[31],(!g||32&n[1])&&{placeholder:e[36]},(!g||16384&n[0])&&{style:e[14]},(!g||512&n[0])&&{disabled:e[9]}])),8&n[0]&&a.value!==e[3]&&set_input_value(a,e[3]),toggle_class(a,"svelte-17l1npl",!0),!e[7]&&e[29]?k?(k.p(e,n),536871040&n[0]&&transition_in(k,1)):(k=create_if_block_7$1(e),k.c(),transition_in(k,1),k.m(t,u)):k&&(group_outros(),transition_out(k,1,1,(()=>{k=null})),check_outros()),e[37]?A?(A.p(e,n),64&n[1]&&transition_in(A,1)):(A=create_if_block_6$1(e),A.c(),transition_in(A,1),A.m(t,l)):A&&(group_outros(),transition_out(A,1,1,(()=>{A=null})),check_outros()),e[37]||!(e[20]||e[19]&&!e[2])&&(e[13]||e[9]||e[4]||(!e[29]||e[15])&&e[29])?E&&(E.d(1),E=null):E?E.p(e,n):(E=create_if_block_4$1(e),E.c(),E.m(t,d)),e[4]?I||(I=create_if_block_3$1(),I.c(),I.m(t,f)):I&&(I.d(1),I=null),e[5]?R?(R.p(e,n),32&n[0]&&transition_in(R,1)):(R=create_if_block_2$2(e),R.c(),transition_in(R,1),R.m(t,h)):R&&(group_outros(),transition_out(R,1,1,(()=>{R=null})),check_outros()),!e[7]||e[7]&&!e[35]?T?T.p(e,n):(T=create_if_block_1$2(e),T.c(),T.m(t,p)):T&&(T.d(1),T=null),e[7]&&e[35]?x?x.p(e,n):(x=create_if_block$5(e),x.c(),x.m(t,null)):x&&(x.d(1),x=null),(!g||2097152&n[0]&&m!==(m="selectContainer "+e[21]+" svelte-17l1npl"))&&attr(t,"class",m),(!g||2048&n[0])&&attr(t,"style",e[11]),2098176&n[0]&&toggle_class(t,"hasError",e[10]),2097280&n[0]&&toggle_class(t,"multiSelect",e[7]),2097664&n[0]&&toggle_class(t,"disabled",e[9]),2097154&n[0]&&toggle_class(t,"focused",e[1])},i(e){g||(transition_in(v),transition_in(w),transition_in(k),transition_in(A),transition_in(R),g=!0)},o(e){transition_out(v),transition_out(w),transition_out(k),transition_out(A),transition_out(R),g=!1},d(r){r&&detach(t),_&&_.d(),v&&v.d(),w&&w.d(),e[82](null),k&&k.d(),A&&A.d(),E&&E.d(),I&&I.d(),R&&R.d(),T&&T.d(),x&&x.d(),e[85](null),b=!1,run_all(y)}}}function convertStringItemsToObjects(e){return e.map(((e,t)=>({index:t,value:e,label:`${e}`})))}function instance$5(e,t,r){let n,i,o,a,s,c,u,l;const d=createEventDispatcher();let{id:f=null}=t,{container:h}=t,{input:p}=t,{isMulti:m=!1}=t,{multiFullItemClearable:g=!1}=t,{isDisabled:b=!1}=t,{isCreatable:y=!1}=t,{isFocused:_=!1}=t,{value:v=null}=t,{filterText:w=""}=t,{placeholder:$="Select..."}=t,{placeholderAlwaysShow:S=!1}=t,{items:k=null}=t,{itemFilter:A=((e,t,r)=>`${e}`.toLowerCase().includes(t.toLowerCase()))}=t,{groupBy:E}=t,{groupFilter:I=(e=>e)}=t,{isGroupHeaderSelectable:R=!1}=t,{getGroupHeaderLabel:T=(e=>e[x]||e.id)}=t,{labelIdentifier:x="label"}=t,{getOptionLabel:P=((e,t)=>e.isCreator?`Create "${t}"`:e[x])}=t,{optionIdentifier:M="value"}=t,{loadOptions:C}=t,{hasError:O=!1}=t,{containerStyles:L=""}=t,{getSelectionLabel:B=(e=>e?e[x]:null)}=t,{createGroupHeaderItem:N=(e=>({value:e,label:e}))}=t,{createItem:D=(e=>({value:e,label:e}))}=t;let{isSearchable:U=!0}=t,{inputStyles:j=""}=t,{isClearable:z=!0}=t,{isWaiting:F=!1}=t,{listPlacement:K="auto"}=t,{listOpen:H=!1}=t,{isVirtualList:q=!1}=t,{loadOptionsInterval:W=300}=t,{noOptionsMessage:V="No options"}=t,{hideEmptyState:Y=!1}=t,{inputAttributes:G={}}=t,{listAutoWidth:Z=!0}=t,{itemHeight:J=40}=t,{Icon:X}=t,{iconProps:Q={}}=t,{showChevron:ee=!1}=t,{showIndicator:te=!1}=t,{containerClasses:re=""}=t,{indicatorSvg:ne}=t,{listOffset:ie=5}=t,{ClearIcon:oe=ClearIcon}=t,{Item:ae=Item}=t,{List:se=List}=t,{Selection:ce=Selection}=t,{MultiSelection:ue=MultiSelection}=t,{VirtualList:le=VirtualList}=t;function de(e){if(e.loadOptions&&e.filterText.length>0)return;if(!e.items)return[];e.items&&e.items.length>0&&"object"!=typeof e.items[0]&&(e.items=convertStringItemsToObjects(e.items));let t=e.items.filter((t=>{let r=A(P(t,e.filterText),e.filterText,t);return r&&e.isMulti&&e.value&&Array.isArray(e.value)&&(r=!e.value.some((r=>r[e.optionIdentifier]===t[e.optionIdentifier]))),r}));return e.groupBy&&(t=function(e){const t=[],r={};e.forEach((e=>{const n=E(e);t.includes(n)||(t.push(n),r[n]=[],n&&r[n].push(Object.assign(N(n,e),{id:n,isGroupHeader:!0,isSelectable:R}))),r[n].push(Object.assign({isGroupItem:!!n},e))}));const n=[];return I(t).forEach((e=>{n.push(...r[e])})),n}(t)),e.isCreatable&&(t=fe(t,e.filterText)),t}function fe(e,t){if(0===t.length)return e;const r=D(t);return e[0]&&t===e[0][x]?e:(r.isCreator=!0,[...e,r])}let he,pe,me,ge,be,ye,{selectedValue:_e=null}=t;const ve=debounce((async()=>{r(4,F=!0);let e=await C(w).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),d("error",{type:"loadOptions",details:e})}));e&&!e.cancelled&&(e?(e&&e.length>0&&"object"!=typeof e[0]&&(e=convertStringItemsToObjects(e)),r(81,n=[...e]),d("loaded",{items:n})):r(81,n=[]),y&&r(81,n=fe(n,w)),r(4,F=!1),r(1,_=!0),r(5,H=!0))}),W);let we;function $e(){let e=!0;if(v){const t=[],n=[];v.forEach((r=>{t.includes(r[M])?e=!1:(t.push(r[M]),n.push(r))})),e||r(2,v=n)}return e}function Se(e){let t=e?e[M]:v[M];return k.find((e=>e[M]===t))}function ke(e){const{detail:t}=e,n=v[t?t.i:v.length-1];1===v.length?r(2,v=void 0):r(2,v=v.filter((e=>e!==n))),d("clear",n)}function Ae(){r(1,_=!0),p&&p.focus()}beforeUpdate((async()=>{r(77,pe=v),r(78,me=w),r(79,ge=_),r(80,be=m)})),onMount((()=>{_&&p&&p.focus()}));let{ariaValues:Ee=(e=>`Option ${e}, selected.`)}=t,{ariaListOpen:Ie=((e,t)=>`You are currently focused on option ${e}. There are ${t} results available.`)}=t,{ariaFocused:Re=(()=>"Select is focused, type to refine list, press down to open the menu.")}=t;return e.$$set=e=>{"id"in e&&r(46,f=e.id),"container"in e&&r(0,h=e.container),"input"in e&&r(6,p=e.input),"isMulti"in e&&r(7,m=e.isMulti),"multiFullItemClearable"in e&&r(8,g=e.multiFullItemClearable),"isDisabled"in e&&r(9,b=e.isDisabled),"isCreatable"in e&&r(47,y=e.isCreatable),"isFocused"in e&&r(1,_=e.isFocused),"value"in e&&r(2,v=e.value),"filterText"in e&&r(3,w=e.filterText),"placeholder"in e&&r(48,$=e.placeholder),"placeholderAlwaysShow"in e&&r(49,S=e.placeholderAlwaysShow),"items"in e&&r(50,k=e.items),"itemFilter"in e&&r(51,A=e.itemFilter),"groupBy"in e&&r(52,E=e.groupBy),"groupFilter"in e&&r(53,I=e.groupFilter),"isGroupHeaderSelectable"in e&&r(54,R=e.isGroupHeaderSelectable),"getGroupHeaderLabel"in e&&r(55,T=e.getGroupHeaderLabel),"labelIdentifier"in e&&r(56,x=e.labelIdentifier),"getOptionLabel"in e&&r(57,P=e.getOptionLabel),"optionIdentifier"in e&&r(58,M=e.optionIdentifier),"loadOptions"in e&&r(59,C=e.loadOptions),"hasError"in e&&r(10,O=e.hasError),"containerStyles"in e&&r(11,L=e.containerStyles),"getSelectionLabel"in e&&r(12,B=e.getSelectionLabel),"createGroupHeaderItem"in e&&r(60,N=e.createGroupHeaderItem),"createItem"in e&&r(61,D=e.createItem),"isSearchable"in e&&r(13,U=e.isSearchable),"inputStyles"in e&&r(14,j=e.inputStyles),"isClearable"in e&&r(15,z=e.isClearable),"isWaiting"in e&&r(4,F=e.isWaiting),"listPlacement"in e&&r(63,K=e.listPlacement),"listOpen"in e&&r(5,H=e.listOpen),"isVirtualList"in e&&r(64,q=e.isVirtualList),"loadOptionsInterval"in e&&r(65,W=e.loadOptionsInterval),"noOptionsMessage"in e&&r(66,V=e.noOptionsMessage),"hideEmptyState"in e&&r(67,Y=e.hideEmptyState),"inputAttributes"in e&&r(16,G=e.inputAttributes),"listAutoWidth"in e&&r(68,Z=e.listAutoWidth),"itemHeight"in e&&r(69,J=e.itemHeight),"Icon"in e&&r(17,X=e.Icon),"iconProps"in e&&r(18,Q=e.iconProps),"showChevron"in e&&r(19,ee=e.showChevron),"showIndicator"in e&&r(20,te=e.showIndicator),"containerClasses"in e&&r(21,re=e.containerClasses),"indicatorSvg"in e&&r(22,ne=e.indicatorSvg),"listOffset"in e&&r(70,ie=e.listOffset),"ClearIcon"in e&&r(23,oe=e.ClearIcon),"Item"in e&&r(71,ae=e.Item),"List"in e&&r(24,se=e.List),"Selection"in e&&r(25,ce=e.Selection),"MultiSelection"in e&&r(26,ue=e.MultiSelection),"VirtualList"in e&&r(72,le=e.VirtualList),"selectedValue"in e&&r(73,_e=e.selectedValue),"ariaValues"in e&&r(74,Ee=e.ariaValues),"ariaListOpen"in e&&r(75,Ie=e.ariaListOpen),"ariaFocused"in e&&r(76,Re=e.ariaFocused)},e.$$.update=()=>{140&e.$$.dirty[0]|405340160&e.$$.dirty[1]&&r(81,n=de({loadOptions:C,filterText:w,items:k,value:v,isMulti:m,optionIdentifier:M,groupBy:E,isCreatable:y})),2048&e.$$.dirty[2]&&_e&&console.warn("selectedValue is no longer used. Please use value instead."),524288&e.$$.dirty[1]&&function(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&v&&(m?!v.some((e=>!e||!e[M])):v[M])&&(Array.isArray(v)?r(2,v=v.map((e=>Se(e)||e))):r(2,v=Se()||v))}(k),4&e.$$.dirty[0]&&v&&("string"==typeof v?r(2,v={[M]:v,label:v}):m&&Array.isArray(v)&&v.length>0&&r(2,v=v.map((e=>"string"==typeof e?{value:e,label:e}:e)))),73728&e.$$.dirty[0]&&(!G&&U||(r(31,we=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},G)),f&&r(31,we.id=f,we),U||r(31,we.readonly=!0,we))),128&e.$$.dirty[0]|262144&e.$$.dirty[2]&&(m&&v&&(Array.isArray(v)?r(2,v=[...v]):r(2,v=[v])),be&&!m&&v&&r(2,v=null)),132&e.$$.dirty[0]&&m&&v&&v.length>1&&$e(),4&e.$$.dirty[0]&&v&&(m?JSON.stringify(v)!==JSON.stringify(pe)&&$e()&&d("select",v):pe&&JSON.stringify(v[M])===JSON.stringify(pe[M])||d("select",v)),132&e.$$.dirty[0]|32768&e.$$.dirty[2]&&!v&&m&&pe&&d("select",v),2&e.$$.dirty[0]|131072&e.$$.dirty[2]&&_!==ge&&(_||H?Ae():p&&p.blur()),8&e.$$.dirty[0]|65536&e.$$.dirty[2]&&w!==me&&0!==w.length&&(r(1,_=!0),r(5,H=!0),C?ve():(r(5,H=!0),m&&r(30,he=void 0))),12&e.$$.dirty[0]&&r(29,i=v&&0===w.length),536904208&e.$$.dirty[0]&&r(37,o=i&&z&&!b&&!F),132&e.$$.dirty[0]|393216&e.$$.dirty[1]&&r(36,a=S&&m?$:v?"":$),132&e.$$.dirty[0]&&r(35,s=m&&v&&v.length>0),141&e.$$.dirty[0]|218103808&e.$$.dirty[1]|526326&e.$$.dirty[2]&&r(34,c={Item:ae,filterText:w,optionIdentifier:M,noOptionsMessage:V,hideEmptyState:Y,isVirtualList:q,VirtualList:le,value:v,isMulti:m,getGroupHeaderLabel:T,items:n,itemHeight:J,getOptionLabel:P,listPlacement:K,parent:h,listAutoWidth:Z,listOffset:ie}),132&e.$$.dirty[0]&&r(33,u=v?function(){let e;return e=m&&v.length>0?v.map((e=>B(e))).join(", "):B(v),Ee(e)}():""),268435490&e.$$.dirty[0]|524288&e.$$.dirty[2]&&r(32,l=function(){if(!_||!n||0===n.length)return"";let e=n[ye];if(H&&e){let t=B(e),r=n?n.length:0;return Ie(t,r)}return Re()}())},[h,_,v,w,F,H,p,m,g,b,O,L,B,U,j,z,G,X,Q,ee,te,re,ne,oe,se,ce,ue,function(){r(2,v=void 0),r(5,H=!1),d("clear",v),Ae()},ye,i,he,we,l,u,c,s,a,o,ke,function(e){if(_)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),r(5,H=!0),r(30,he=void 0);break;case"Tab":H||r(1,_=!1);break;case"Backspace":if(!m||w.length>0)return;if(m&&v&&v.length>0){if(ke(void 0!==he?he:v.length-1),0===he||void 0===he)break;r(30,he=v.length>he?he-1:void 0)}break;case"ArrowLeft":if(!m||w.length>0)return;void 0===he?r(30,he=v.length-1):v.length>he&&0!==he&&r(30,he-=1);break;case"ArrowRight":if(!m||w.length>0||void 0===he)return;he===v.length-1?r(30,he=void 0):he<v.length-1&&r(30,he+=1)}},Ae,function(e){if(!h)return;const t=e.path&&e.path.length>0?e.path[0]:e.target;h.contains(t)||(r(1,_=!1),r(5,H=!1),r(30,he=void 0),p&&p.blur())},function(){b||(r(1,_=!0),r(5,H=!H))},function(e){const{detail:t}=e;if(t){r(3,w="");const e=Object.assign({},t);e.isGroupHeader&&!e.isSelectable||(r(2,v=m?v?v.concat([e]):[e]:e),r(2,v),setTimeout((()=>{r(5,H=!1),r(30,he=void 0)})))}},function(e){const{detail:t}=e;m?(r(2,v=v||[]),r(2,v=[...v,D(t)])):r(2,v=D(t)),d("itemCreated",t),r(3,w=""),r(5,H=!1),r(30,he=void 0)},function(){r(3,w=""),r(5,H=!1)},f,y,$,S,k,A,E,I,R,T,x,P,M,C,N,D,()=>n,K,q,W,V,Y,Z,J,ie,ae,le,_e,Ee,Ie,Re,pe,me,ge,be,n,function(e){binding_callbacks[e?"unshift":"push"]((()=>{p=e,r(6,p)}))},function(){w=this.value,r(3,w)},function(e){ye=e,r(28,ye)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{h=e,r(0,h)}))}]}class Select extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$5,create_fragment$6,safe_not_equal,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function create_if_block_2$1(e){let t,r,n,i,o,a,s,c,u=e[2].rpcPing+"";return{c(){t=element("div"),n=space(),i=element("p"),o=text("("),a=text(u),s=text("ms)"),attr(t,"class","ping-indicator svelte-15kz2mb"),attr(t,"style",r=e[2].rpcPing<1e3?"background: var(--success);":"background: var(--failure);"),attr(i,"style",c=e[2].rpcPing<1e3?"color: var(--success);":"color: var(--failure);"),attr(i,"class","svelte-15kz2mb")},m(e,r){insert(e,t,r),insert(e,n,r),insert(e,i,r),append(i,o),append(i,a),append(i,s)},p(e,n){4&n&&r!==(r=e[2].rpcPing<1e3?"background: var(--success);":"background: var(--failure);")&&attr(t,"style",r),4&n&&u!==(u=e[2].rpcPing+"")&&set_data(a,u),4&n&&c!==(c=e[2].rpcPing<1e3?"color: var(--success);":"color: var(--failure);")&&attr(i,"style",c)},d(e){e&&detach(t),e&&detach(n),e&&detach(i)}}}function create_if_block_1$1(e){let t,r,n,i,o=dictionary[e[2].language].settings.reset.toUpperCase()+"";return{c(){t=element("p"),r=text(o),attr(t,"class","reset-rpc bicyclette-bold text-gradient svelte-15kz2mb")},m(o,a){insert(o,t,a),append(t,r),n||(i=listen(t,"click",e[5]),n=!0)},p(e,t){4&t&&o!==(o=dictionary[e[2].language].settings.reset.toUpperCase()+"")&&set_data(r,o)},d(e){e&&detach(t),n=!1,i()}}}function create_else_block$2(e){let t,r;return t=new Button({props:{small:!0,secondary:!0,text:dictionary[e[2].language].settings.connect,onClick:e[8]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};4&r&&(n.text=dictionary[e[2].language].settings.connect),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$4(e){let t,r,n,i,o,a,s,c,u,l,d=shortenPubkey(e[2].wallet.publicKey.toString(),4)+"";return u=new Button({props:{small:!0,secondary:!0,text:dictionary[e[2].language].settings.disconnect,onClick:e[7]}}),{c(){t=element("div"),r=element("img"),o=space(),a=element("p"),s=text(d),c=space(),create_component(u.$$.fragment),attr(r,"width","28px"),attr(r,"height","auto"),set_style(r,"margin-right","var(--spacing-xs)"),src_url_equal(r.src,n="img/wallets/"+e[2].wallet.name.replace(" ","_").toLowerCase()+".png")||attr(r,"src",n),attr(r,"alt",i=e[2].wallet.name+" Logo"),attr(r,"class","svelte-15kz2mb"),set_style(a,"margin","0 var(--spacing-lg) 0 var(--spacing-xs)"),attr(a,"class","svelte-15kz2mb"),attr(t,"class","wallet flex-centered svelte-15kz2mb")},m(e,n){insert(e,t,n),append(t,r),append(t,o),append(t,a),append(a,s),append(t,c),mount_component(u,t,null),l=!0},p(e,t){(!l||4&t&&!src_url_equal(r.src,n="img/wallets/"+e[2].wallet.name.replace(" ","_").toLowerCase()+".png"))&&attr(r,"src",n),(!l||4&t&&i!==(i=e[2].wallet.name+" Logo"))&&attr(r,"alt",i),(!l||4&t)&&d!==(d=shortenPubkey(e[2].wallet.publicKey.toString(),4)+"")&&set_data(s,d);const o={};4&t&&(o.text=dictionary[e[2].language].settings.disconnect),u.$set(o)},i(e){l||(transition_in(u.$$.fragment,e),l=!0)},o(e){transition_out(u.$$.fragment,e),l=!1},d(e){e&&detach(t),destroy_component(u)}}}function create_fragment$5(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v,w,$,S,k,A,E,I,R,T,x,P,M,C,O,L,B,N,D,U,j,z,F,K,H,q,W,V,Y,G,Z,J,X,Q,ee,te,re=dictionary[e[2].language].settings.title+"",ne=dictionary[e[2].language].settings.rpcNode.toUpperCase()+"",ie=(e[2].rpcNode??dictionary[e[2].language].settings.defaultNode)+"",oe=dictionary[e[2].language].settings.wallet.toUpperCase()+"",ae=dictionary[e[2].language].settings.theme.toUpperCase()+"",se=dictionary[e[2].language].language.toUpperCase()+"";document.title=t="Jet Protocol | "+dictionary[e[2].language].settings.title;let ce=e[2].rpcPing&&create_if_block_2$1(e),ue=e[2].rpcNode&&create_if_block_1$1(e);function le(t){e[6](t)}let de={type:"text",placeholder:"ex: https://api.devnet.solana.com/",submit:e[4],error:e[1]};void 0!==e[0]&&(de.value=e[0]),v=new Input({props:de}),binding_callbacks.push((()=>bind(v,"value",le)));const fe=[create_if_block$4,create_else_block$2],he=[];function pe(e,t){return e[2].wallet?0:1}return T=pe(e),x=he[T]=fe[T](e),U=new Toggle({props:{onClick:e[9],text:e[2].darkTheme?dictionary[e[2].language].settings.dark:dictionary[e[2].language].settings.light,icon:"❂",active:e[2].darkTheme}}),Y=new Select({props:{items:Object.keys(dictionary).map(e[10]),value:dictionary[e[2].language].language}}),Y.$on("select",e[11]),{c(){r=space(),n=element("div"),i=element("h1"),o=text(re),a=space(),s=element("div"),c=space(),u=element("div"),l=element("div"),d=element("span"),f=text(ne),h=space(),p=element("div"),m=element("p"),g=text(ie),b=space(),ce&&ce.c(),y=space(),ue&&ue.c(),_=space(),create_component(v.$$.fragment),$=space(),S=element("div"),k=space(),A=element("div"),E=element("span"),I=text(oe),R=space(),x.c(),P=space(),M=element("div"),C=space(),O=element("div"),L=element("span"),B=text(ae),N=space(),D=element("div"),create_component(U.$$.fragment),j=space(),z=element("div"),F=space(),K=element("div"),H=element("span"),q=text(se),W=space(),V=element("div"),create_component(Y.$$.fragment),G=space(),Z=element("i"),J=space(),X=element("div"),Q=space(),ee=element("div"),ee.innerHTML='<a href="https://twitter.com/jetprotocol" target="_blank"><i class="text-gradient fab fa-twitter svelte-15kz2mb"></i></a> \n      <a href="https://discord.gg/RW2hsqwfej" target="_blank"><i class="text-gradient fab fa-discord svelte-15kz2mb"></i></a> \n      <a href="https://github.com/jet-lab/jet-v1" target="_blank"><i class="text-gradient fab fa-github svelte-15kz2mb"></i></a>',attr(i,"class","view-title text-gradient"),attr(s,"class","divider svelte-15kz2mb"),attr(d,"class","svelte-15kz2mb"),attr(m,"class","svelte-15kz2mb"),attr(p,"class","flex align-center justify-start"),set_style(p,"padding","var(--spacing-xs) 0"),attr(l,"class","setting flex align-start justify-center column"),attr(S,"class","divider svelte-15kz2mb"),attr(E,"class","svelte-15kz2mb"),attr(A,"class","setting flex align-start justify-center column"),attr(M,"class","divider svelte-15kz2mb"),attr(L,"class","svelte-15kz2mb"),attr(D,"class","theme-toggle-container flex align-center justify-start svelte-15kz2mb"),attr(O,"class","setting flex align-start justify-center column"),attr(z,"class","divider svelte-15kz2mb"),attr(H,"class","svelte-15kz2mb"),attr(Z,"class","fas fa-caret-down svelte-15kz2mb"),attr(V,"class","dropdown-select"),attr(K,"class","setting flex align-start justify-center column"),attr(X,"class","divider svelte-15kz2mb"),attr(ee,"class","socials flex align-center justify-start svelte-15kz2mb"),attr(u,"class","settings svelte-15kz2mb"),attr(n,"class","view-container flex column")},m(e,t){insert(e,r,t),insert(e,n,t),append(n,i),append(i,o),append(n,a),append(n,s),append(n,c),append(n,u),append(u,l),append(l,d),append(d,f),append(l,h),append(l,p),append(p,m),append(m,g),append(p,b),ce&&ce.m(p,null),append(p,y),ue&&ue.m(p,null),append(l,_),mount_component(v,l,null),append(u,$),append(u,S),append(u,k),append(u,A),append(A,E),append(E,I),append(A,R),he[T].m(A,null),append(u,P),append(u,M),append(u,C),append(u,O),append(O,L),append(L,B),append(O,N),append(O,D),mount_component(U,D,null),append(u,j),append(u,z),append(u,F),append(u,K),append(K,H),append(H,q),append(K,W),append(K,V),mount_component(Y,V,null),append(V,G),append(V,Z),append(u,J),append(u,X),append(u,Q),append(u,ee),te=!0},p(e,[r]){(!te||4&r)&&t!==(t="Jet Protocol | "+dictionary[e[2].language].settings.title)&&(document.title=t),(!te||4&r)&&re!==(re=dictionary[e[2].language].settings.title+"")&&set_data(o,re),(!te||4&r)&&ne!==(ne=dictionary[e[2].language].settings.rpcNode.toUpperCase()+"")&&set_data(f,ne),(!te||4&r)&&ie!==(ie=(e[2].rpcNode??dictionary[e[2].language].settings.defaultNode)+"")&&set_data(g,ie),e[2].rpcPing?ce?ce.p(e,r):(ce=create_if_block_2$1(e),ce.c(),ce.m(p,y)):ce&&(ce.d(1),ce=null),e[2].rpcNode?ue?ue.p(e,r):(ue=create_if_block_1$1(e),ue.c(),ue.m(p,null)):ue&&(ue.d(1),ue=null);const n={};2&r&&(n.error=e[1]),!w&&1&r&&(w=!0,n.value=e[0],add_flush_callback((()=>w=!1))),v.$set(n),(!te||4&r)&&oe!==(oe=dictionary[e[2].language].settings.wallet.toUpperCase()+"")&&set_data(I,oe);let i=T;T=pe(e),T===i?he[T].p(e,r):(group_outros(),transition_out(he[i],1,1,(()=>{he[i]=null})),check_outros(),x=he[T],x?x.p(e,r):(x=he[T]=fe[T](e),x.c()),transition_in(x,1),x.m(A,null)),(!te||4&r)&&ae!==(ae=dictionary[e[2].language].settings.theme.toUpperCase()+"")&&set_data(B,ae);const a={};4&r&&(a.onClick=e[9]),4&r&&(a.text=e[2].darkTheme?dictionary[e[2].language].settings.dark:dictionary[e[2].language].settings.light),4&r&&(a.active=e[2].darkTheme),U.$set(a),(!te||4&r)&&se!==(se=dictionary[e[2].language].language.toUpperCase()+"")&&set_data(q,se);const s={};4&r&&(s.value=dictionary[e[2].language].language),Y.$set(s)},i(e){te||(transition_in(v.$$.fragment,e),transition_in(x),transition_in(U.$$.fragment,e),transition_in(Y.$$.fragment,e),te=!0)},o(e){transition_out(v.$$.fragment,e),transition_out(x),transition_out(U.$$.fragment,e),transition_out(Y.$$.fragment,e),te=!1},d(e){e&&detach(r),e&&detach(n),ce&&ce.d(),ue&&ue.d(),destroy_component(v),he[T].d(),destroy_component(U),destroy_component(Y)}}}function instance$4(e,t,r){let n;component_subscribe(e,USER,(e=>r(2,n=e)));let i=null,o=null;const a=async()=>{localStorage.removeItem("jetPreferredNode"),USER.update((e=>(e.rpcPing=0,e))),await getIDLAndAnchorAndMarketPubkeys(),initTransactionLogs()};return[i,o,n,a,async()=>{i?(localStorage.setItem("jetPreferredNode",i),USER.update((e=>(e.rpcPing=0,e))),await getIDLAndAnchorAndMarketPubkeys(),initTransactionLogs(),r(1,o=null),r(0,i=null)):r(1,o=dictionary[n.language].settings.noUrl)},()=>a(),function(e){i=e,r(0,i)},()=>disconnectWallet(),()=>USER.update((e=>(e.connectingWallet=!0,e))),()=>setDark(!n.darkTheme),e=>({value:e,label:dictionary[e].language}),e=>{Object.keys(dictionary).forEach((t=>{t===e.detail.value&&(localStorage.setItem("jetPreferredLanguage",e.detail.value),USER.update((t=>(t.language=e.detail.value,t))))}))}]}class Settings extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$4,create_fragment$5,safe_not_equal,{})}}function get_each_context$1(e,t,r){const n=e.slice();return n[6]=t[r],n}function create_if_block$3(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g,b,y,_,v=dictionary[e[1].language].settings.worldOfDefi+"";o=new Logo({props:{width:120}});let w=e[2],$=[];for(let t=0;t<w.length;t+=1)$[t]=create_each_block$1(get_each_context$1(e,w,t));return{c(){t=element("div"),n=space(),i=element("div"),create_component(o.$$.fragment),a=space(),s=element("span"),c=text(v),u=space(),l=element("div"),d=space(),f=element("div");for(let e=0;e<$.length;e+=1)$[e].c();h=space(),p=element("i"),p.textContent="✕",attr(t,"class","modal-bg svelte-t7yw8m"),attr(s,"class","svelte-t7yw8m"),attr(l,"class","divider"),attr(f,"class","wallets flex-centered column svelte-t7yw8m"),attr(p,"class","jet-icons close"),attr(i,"class","modal flex-centered column svelte-t7yw8m")},m(r,m){insert(r,t,m),insert(r,n,m),insert(r,i,m),mount_component(o,i,null),append(i,a),append(i,s),append(s,c),append(i,u),append(i,l),append(i,d),append(i,f);for(let e=0;e<$.length;e+=1)$[e].m(f,null);append(i,h),append(i,p),b=!0,y||(_=[listen(t,"click",e[3]),listen(p,"click",e[5])],y=!0)},p(e,t){if((!b||2&t)&&v!==(v=dictionary[e[1].language].settings.worldOfDefi+"")&&set_data(c,v),5&t){let r;for(w=e[2],r=0;r<w.length;r+=1){const n=get_each_context$1(e,w,r);$[r]?$[r].p(n,t):($[r]=create_each_block$1(n),$[r].c(),$[r].m(f,null))}for(;r<$.length;r+=1)$[r].d(1);$.length=w.length}},i(e){b||(add_render_callback((()=>{r||(r=create_bidirectional_transition(t,fade,{duration:50},!0)),r.run(1)})),transition_in(o.$$.fragment,e),add_render_callback((()=>{g&&g.end(1),m=create_in_transition(i,fly,{y:25,duration:500}),m.start()})),b=!0)},o(e){r||(r=create_bidirectional_transition(t,fade,{duration:50},!1)),r.run(0),transition_out(o.$$.fragment,e),m&&m.invalidate(),g=create_out_transition(i,fade,{duration:50}),b=!1},d(e){e&&detach(t),e&&r&&r.end(),e&&detach(n),e&&detach(i),destroy_component(o),destroy_each($,e),e&&g&&g.end(),y=!1,run_all(_)}}}function create_each_block$1(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p=e[6].name+"";function m(){return e[4](e[6])}return{c(){t=element("div"),r=element("div"),n=element("img"),o=space(),a=element("p"),s=text(p),c=space(),u=element("i"),u.textContent="➜",l=space(),src_url_equal(n.src,i=e[6].logo)||attr(n,"src",i),attr(n,"alt",e[6].name+" Logo"),attr(n,"class","svelte-t7yw8m"),attr(a,"class","svelte-t7yw8m"),attr(r,"class","flex-centered"),attr(u,"class","text-gradient jet-icons svelte-t7yw8m"),attr(t,"class",d=e[6].name.toLowerCase()+" wallet flex align-center justify-between svelte-t7yw8m"),toggle_class(t,"active",e[0]===e[6].name)},m(e,i){insert(e,t,i),append(t,r),append(r,n),append(r,o),append(r,a),append(a,s),append(t,c),append(t,u),append(t,l),f||(h=listen(t,"click",m),f=!0)},p(r,n){e=r,5&n&&toggle_class(t,"active",e[0]===e[6].name)},d(e){e&&detach(t),f=!1,h()}}}function create_fragment$4(e){let t,r,n=e[1].connectingWallet&&!e[1].wallet&&create_if_block$3(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[1].connectingWallet&&!e[1].wallet?n?(n.p(e,r),2&r&&transition_in(n,1)):(n=create_if_block$3(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$3(e,t,r){let n,i;component_subscribe(e,USER,(e=>r(1,n=e)));return[i,n,[{name:"Phantom",logo:"img/wallets/phantom.png",url:"https://phantom.app/"},{name:"Slope",logo:"img/wallets/slope.png",url:"https://slope.finance/"},{name:"Solflare",logo:"img/wallets/solflare.png",url:"https://solflare.com/"},{name:"Solong",logo:"img/wallets/solong.png",url:"https://solongwallet.com/"},{name:"Sollet",logo:"img/wallets/sollet.png",url:"https://www.sollet.io/"},{name:"Math Wallet",logo:"img/wallets/math_wallet.png",url:"https://mathwallet.org/en-us/"}],()=>USER.update((e=>(e.connectingWallet=!1,e))),e=>{r(0,i=e.name),getWalletAndAnchor(e)},()=>USER.update((e=>(e.connectingWallet=!1,e)))]}class ConnectWalletModal extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$3,create_fragment$4,safe_not_equal,{})}}function create_if_block$2(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p;function m(e,t){return e[0].alert||e[0].suggestion?create_if_block_10:create_else_block_2}let g=m(e),b=g(e);const y=[create_if_block_2,create_if_block_7,create_if_block_8],_=[];function v(e,t){return e[0].suggestion?0:e[0].definition?1:e[0].alert?2:-1}~(s=v(e))&&(c=_[s]=y[s](e));let w=e[2]&&create_if_block_1(e);return{c(){t=element("div"),n=space(),i=element("div"),b.c(),o=space(),a=element("div"),c&&c.c(),u=space(),w&&w.c(),attr(t,"class","modal-bg flex-centered svelte-1wtjoic"),attr(a,"class","copilot-body modal-section flex align-start justify-center column svelte-1wtjoic"),attr(i,"class","copilot modal flex-centered column svelte-1wtjoic")},m(r,c){insert(r,t,c),insert(r,n,c),insert(r,i,c),b.m(i,null),append(i,o),append(i,a),~s&&_[s].m(a,null),append(a,u),w&&w.m(a,null),f=!0,h||(p=listen(t,"click",e[3]),h=!0)},p(e,t){g===(g=m(e))&&b?b.p(e,t):(b.d(1),b=g(e),b&&(b.c(),b.m(i,o)));let r=s;s=v(e),s===r?~s&&_[s].p(e,t):(c&&(group_outros(),transition_out(_[r],1,1,(()=>{_[r]=null})),check_outros()),~s?(c=_[s],c?c.p(e,t):(c=_[s]=y[s](e),c.c()),transition_in(c,1),c.m(a,u)):c=null),e[2]&&w.p(e,t)},i(e){f||(add_render_callback((()=>{r||(r=create_bidirectional_transition(t,fade,{duration:50},!0)),r.run(1)})),transition_in(c),add_render_callback((()=>{d&&d.end(1),l=create_in_transition(i,fly,{y:25,duration:500}),l.start()})),f=!0)},o(e){r||(r=create_bidirectional_transition(t,fade,{duration:50},!1)),r.run(0),transition_out(c),l&&l.invalidate(),d=create_out_transition(i,fade,{duration:50}),f=!1},d(e){e&&detach(t),e&&r&&r.end(),e&&detach(n),e&&detach(i),b.d(),~s&&_[s].d(),w&&w.d(),e&&d&&d.end(),h=!1,p()}}}function create_else_block_2(e){let t,r;return{c(){t=element("img"),src_url_equal(t.src,r="img/copilot/copilot.png")||attr(t,"src","img/copilot/copilot.png"),attr(t,"alt","Copilot Icon"),attr(t,"class","svelte-1wtjoic")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_10(e){let t,r;return{c(){t=element("img"),src_url_equal(t.src,r="img/copilot/copilot_white.png")||attr(t,"src","img/copilot/copilot_white.png"),attr(t,"alt","Copilot Icon"),attr(t,"class","svelte-1wtjoic"),toggle_class(t,"success",e[0].alert&&e[0].alert?.good||e[0].suggestion&&e[0].suggestion.good),toggle_class(t,"failure",e[0].alert&&!e[0].alert?.good||e[0].suggestion&&!e[0].suggestion.good)},m(e,r){insert(e,t,r)},p(e,r){1&r&&toggle_class(t,"success",e[0].alert&&e[0].alert?.good||e[0].suggestion&&e[0].suggestion.good),1&r&&toggle_class(t,"failure",e[0].alert&&!e[0].alert?.good||e[0].suggestion&&!e[0].suggestion.good)},d(e){e&&detach(t)}}}function create_if_block_8(e){let t,r,n,i,o,a,s,c,u,l,d=e[0].alert.header+"",f=e[0].alert.text+"";const h=[create_if_block_9,create_else_block_1],p=[];function m(e,t){return e[0].alert.action?0:1}return c=m(e),u=p[c]=h[c](e),{c(){t=element("h1"),r=text(d),i=space(),o=element("span"),a=space(),s=element("div"),u.c(),attr(t,"class","bicyclette svelte-1wtjoic"),attr(t,"style",n=e[0].alert.good?"color: var(--success);":"color: var(--failure);"),attr(o,"class","modal-section svelte-1wtjoic"),attr(s,"class","button flex-centered svelte-1wtjoic")},m(e,n){insert(e,t,n),append(t,r),insert(e,i,n),insert(e,o,n),o.innerHTML=f,insert(e,a,n),insert(e,s,n),p[c].m(s,null),l=!0},p(e,i){(!l||1&i)&&d!==(d=e[0].alert.header+"")&&set_data(r,d),(!l||1&i&&n!==(n=e[0].alert.good?"color: var(--success);":"color: var(--failure);"))&&attr(t,"style",n),(!l||1&i)&&f!==(f=e[0].alert.text+"")&&(o.innerHTML=f);let a=c;c=m(e),c===a?p[c].p(e,i):(group_outros(),transition_out(p[a],1,1,(()=>{p[a]=null})),check_outros(),u=p[c],u?u.p(e,i):(u=p[c]=h[c](e),u.c()),transition_in(u,1),u.m(s,null))},i(e){l||(transition_in(u),l=!0)},o(e){transition_out(u),l=!1},d(e){e&&detach(t),e&&detach(i),e&&detach(o),e&&detach(a),e&&detach(s),p[c].d()}}}function create_if_block_7(e){let t,r,n,i,o,a,s,c,u=e[0].definition.term+"",l=e[0].definition.definition+"";return s=new Button({props:{text:dictionary[e[1].language].copilot.okay,onClick:e[6],small:!0}}),{c(){t=element("h1"),r=text(u),n=space(),i=element("span"),o=space(),a=element("div"),create_component(s.$$.fragment),attr(t,"class","bicyclette svelte-1wtjoic"),set_style(t,"color","var(--jet-blue)"),attr(i,"class","modal-section svelte-1wtjoic"),attr(a,"class","button flex-centered svelte-1wtjoic")},m(e,u){insert(e,t,u),append(t,r),insert(e,n,u),insert(e,i,u),i.innerHTML=l,insert(e,o,u),insert(e,a,u),mount_component(s,a,null),c=!0},p(e,t){(!c||1&t)&&u!==(u=e[0].definition.term+"")&&set_data(r,u),(!c||1&t)&&l!==(l=e[0].definition.definition+"")&&(i.innerHTML=l);const n={};2&t&&(n.text=dictionary[e[1].language].copilot.okay),s.$set(n)},i(e){c||(transition_in(s.$$.fragment,e),c=!0)},o(e){transition_out(s.$$.fragment,e),c=!1},d(e){e&&detach(t),e&&detach(n),e&&detach(i),e&&detach(o),e&&detach(a),destroy_component(s)}}}function create_if_block_2(e){let t,r,n,i,o,a,s,c,u,l,d=dictionary[e[1].language].copilot.header+"",f=e[0].suggestion.overview&&create_if_block_6(e),h=e[0].suggestion.detail&&create_if_block_5(e),p=e[0].suggestion.solution&&create_if_block_4(e);const m=[create_if_block_3,create_else_block$1],g=[];function b(e,t){return e[0].suggestion.action?0:1}return c=b(e),u=g[c]=m[c](e),{c(){t=element("h1"),r=text(d),n=space(),f&&f.c(),i=space(),h&&h.c(),o=space(),p&&p.c(),a=space(),s=element("div"),u.c(),attr(t,"class","bicyclette modal-section text-gradient svelte-1wtjoic"),attr(s,"class","button flex-centered svelte-1wtjoic")},m(e,u){insert(e,t,u),append(t,r),insert(e,n,u),f&&f.m(e,u),insert(e,i,u),h&&h.m(e,u),insert(e,o,u),p&&p.m(e,u),insert(e,a,u),insert(e,s,u),g[c].m(s,null),l=!0},p(e,t){(!l||2&t)&&d!==(d=dictionary[e[1].language].copilot.header+"")&&set_data(r,d),e[0].suggestion.overview?f?f.p(e,t):(f=create_if_block_6(e),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),e[0].suggestion.detail?h?h.p(e,t):(h=create_if_block_5(e),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null),e[0].suggestion.solution?p?p.p(e,t):(p=create_if_block_4(e),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null);let n=c;c=b(e),c===n?g[c].p(e,t):(group_outros(),transition_out(g[n],1,1,(()=>{g[n]=null})),check_outros(),u=g[c],u?u.p(e,t):(u=g[c]=m[c](e),u.c()),transition_in(u,1),u.m(s,null))},i(e){l||(transition_in(u),l=!0)},o(e){transition_out(u),l=!1},d(e){e&&detach(t),e&&detach(n),f&&f.d(e),e&&detach(i),h&&h.d(e),e&&detach(o),p&&p.d(e),e&&detach(a),e&&detach(s),g[c].d()}}}function create_else_block_1(e){let t,r;return t=new Button({props:{text:dictionary[e[1].language].copilot.okay,onClick:e[8],error:!e[0].alert?.good,small:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.text=dictionary[e[1].language].copilot.okay),1&r&&(n.error=!e[0].alert?.good),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_9(e){let t,r;return t=new Button({props:{text:e[0].alert.action.text,onClick:e[7],error:!e[0].alert?.good,small:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.text=e[0].alert.action.text),1&r&&(n.onClick=e[7]),1&r&&(n.error=!e[0].alert?.good),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_6(e){let t,r,n,i=e[0].suggestion.overview+"";return{c(){t=element("h2"),r=text(i),attr(t,"class","bicyclette modal-section svelte-1wtjoic"),attr(t,"style",n=e[0].suggestion.good?"color: var(--jet-blue);":"color: var(--failure);")},m(e,n){insert(e,t,n),append(t,r)},p(e,o){1&o&&i!==(i=e[0].suggestion.overview+"")&&set_data(r,i),1&o&&n!==(n=e[0].suggestion.good?"color: var(--jet-blue);":"color: var(--failure);")&&attr(t,"style",n)},d(e){e&&detach(t)}}}function create_if_block_5(e){let t,r=e[0].suggestion.detail+"";return{c(){t=element("span"),attr(t,"class","modal-section svelte-1wtjoic")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){1&n&&r!==(r=e[0].suggestion.detail+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_if_block_4(e){let t,r=e[0].suggestion.solution+"";return{c(){t=element("span"),attr(t,"class","modal-section svelte-1wtjoic")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){1&n&&r!==(r=e[0].suggestion.solution+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_else_block$1(e){let t,r;return t=new Button({props:{text:dictionary[e[1].language].copilot.okay,onClick:e[5],error:!e[0].suggestion?.good,small:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.text=dictionary[e[1].language].copilot.okay),1&r&&(n.error=!e[0].suggestion?.good),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_3(e){let t,r;return t=new Button({props:{text:e[0].suggestion.action.text??dictionary[e[1].language].copilot.okay,onClick:e[4],error:!e[0].suggestion?.good,small:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};3&r&&(n.text=e[0].suggestion.action.text??dictionary[e[1].language].copilot.okay),1&r&&(n.onClick=e[4]),1&r&&(n.error=!e[0].suggestion?.good),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1(e){let t,r,n;return{c(){t=element("i"),t.textContent="✕",attr(t,"class","jet-icons close")},m(i,o){insert(i,t,o),r||(n=listen(t,"click",e[9]),r=!0)},p:noop$1,d(e){e&&detach(t),r=!1,n()}}}function create_fragment$3(e){let t,r,n=e[0]&&create_if_block$2(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[0]?n?(n.p(e,r),1&r&&transition_in(n,1)):(n=create_if_block$2(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$2(e,t,r){let n,i;component_subscribe(e,COPILOT,(e=>r(0,n=e))),component_subscribe(e,USER,(e=>r(1,i=e))),onMount((()=>{document.addEventListener("keypress",(e=>{"Escape"!==e.code&&"Enter"!==e.code||COPILOT.set(null)}))}));const o=localStorage.getItem("jetDisclaimer");return[n,i,o,()=>o?COPILOT.set(null):null,()=>{n?.suggestion?.action?.onClick(),COPILOT.set(null)},()=>COPILOT.set(null),()=>COPILOT.set(null),()=>{n?.alert?.action?.onClick(),COPILOT.set(null)},()=>COPILOT.set(null),()=>COPILOT.set(null)]}class Copilot extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$2,create_fragment$3,safe_not_equal,{})}}function get_each_context(e,t,r){const n=e.slice();return n[4]=t[r],n[6]=r,n}function create_if_block$1(e){let t,r,n=e[0].notifications,i=[];for(let t=0;t<n.length;t+=1)i[t]=create_each_block(get_each_context(e,n,t));const o=e=>transition_out(i[e],1,1,(()=>{i[e]=null}));return{c(){t=element("div");for(let e=0;e<i.length;e+=1)i[e].c();attr(t,"class","notifications flex-centered column svelte-1u4ie2k")},m(e,n){insert(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);r=!0},p(e,r){if(1&r){let a;for(n=e[0].notifications,a=0;a<n.length;a+=1){const o=get_each_context(e,n,a);i[a]?(i[a].p(o,r),transition_in(i[a],1)):(i[a]=create_each_block(o),i[a].c(),transition_in(i[a],1),i[a].m(t,null))}for(group_outros(),a=n.length;a<i.length;a+=1)o(a);check_outros()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)transition_in(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)transition_out(i[e]);r=!1},d(e){e&&detach(t),destroy_each(i,e)}}}function create_each_block(e){let t,r,n,i,o,a,s,c,u,l,d,f,h=e[4].text+"";function p(){return e[1](e[4])}function m(){return e[2](e[4])}function g(){return e[3](e[6])}return{c(){t=element("div"),r=element("div"),r.innerHTML='<img src="img/copilot/copilot.png" alt="Copilot Icon" class="svelte-1u4ie2k"/>',n=space(),i=element("p"),o=space(),a=element("i"),a.textContent="✕",s=space(),attr(r,"class","copilot-img flex-centered svelte-1u4ie2k"),attr(i,"class","svelte-1u4ie2k"),attr(a,"class","jet-icons close svelte-1u4ie2k"),attr(t,"class","notification flex-centered svelte-1u4ie2k"),toggle_class(t,"success",e[4].success)},m(e,c){insert(e,t,c),append(t,r),append(t,n),append(t,i),i.innerHTML=h,append(t,o),append(t,a),append(t,s),l=!0,d||(f=[listen(r,"click",p),listen(i,"click",m),listen(a,"click",g)],d=!0)},p(r,n){e=r,(!l||1&n)&&h!==(h=e[4].text+"")&&(i.innerHTML=h),1&n&&toggle_class(t,"success",e[4].success)},i(e){l||(add_render_callback((()=>{u&&u.end(1),c=create_in_transition(t,fly,{y:25,duration:500}),c.start()})),l=!0)},o(e){c&&c.invalidate(),u=create_out_transition(t,fade,{duration:50}),l=!1},d(e){e&&detach(t),e&&u&&u.end(),d=!1,run_all(f)}}}function create_fragment$2(e){let t,r,n=e[0].notifications?.length&&create_if_block$1(e);return{c(){n&&n.c(),t=empty()},m(e,i){n&&n.m(e,i),insert(e,t,i),r=!0},p(e,[r]){e[0].notifications?.length?n?(n.p(e,r),1&r&&transition_in(n,1)):(n=create_if_block$1(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function instance$1(e,t,r){let n;component_subscribe(e,USER,(e=>r(0,n=e)));return[n,e=>{e.success&&navigate("/transactions")},e=>{e.success&&navigate("/transactions")},e=>n.clearNotification(e)]}class Notifications extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$1,create_fragment$2,safe_not_equal,{})}}function create_fragment$1(e){let t;return{c(){t=element("div"),t.innerHTML='<a href="https://www.jetprotocol.io/terms-of-use" target="_blank" class="svelte-4ukasy"><span class="bicyclette svelte-4ukasy">Terms of Use</span></a> \n  <a href="https://www.jetprotocol.io/privacy-policy" target="_blank" class="svelte-4ukasy"><span class="bicyclette svelte-4ukasy">Privacy Policy</span></a>',attr(t,"class","flex-center svelte-4ukasy")},m(e,r){insert(e,t,r)},p:noop$1,i:noop$1,o:noop$1,d(e){e&&detach(t)}}}class TermsConditions extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$1,safe_not_equal,{})}}function create_else_block(e){let t,r;return t=new Loader({props:{fullscreen:!0}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block(e){let t,r,n,i,o,a,s,c,u,l,d,f,h,p,m,g;return t=new Nav({}),n=new Route$1({props:{path:"/",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),o=new Route$1({props:{path:"/transactions",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),s=new Route$1({props:{path:"/settings",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),u=new ConnectWalletModal({}),d=new Copilot({}),h=new Notifications({}),m=new TermsConditions({}),{c(){create_component(t.$$.fragment),r=space(),create_component(n.$$.fragment),i=space(),create_component(o.$$.fragment),a=space(),create_component(s.$$.fragment),c=space(),create_component(u.$$.fragment),l=space(),create_component(d.$$.fragment),f=space(),create_component(h.$$.fragment),p=space(),create_component(m.$$.fragment)},m(e,b){mount_component(t,e,b),insert(e,r,b),mount_component(n,e,b),insert(e,i,b),mount_component(o,e,b),insert(e,a,b),mount_component(s,e,b),insert(e,c,b),mount_component(u,e,b),insert(e,l,b),mount_component(d,e,b),insert(e,f,b),mount_component(h,e,b),insert(e,p,b),mount_component(m,e,b),g=!0},i(e){g||(transition_in(t.$$.fragment,e),transition_in(n.$$.fragment,e),transition_in(o.$$.fragment,e),transition_in(s.$$.fragment,e),transition_in(u.$$.fragment,e),transition_in(d.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(m.$$.fragment,e),g=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(n.$$.fragment,e),transition_out(o.$$.fragment,e),transition_out(s.$$.fragment,e),transition_out(u.$$.fragment,e),transition_out(d.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(m.$$.fragment,e),g=!1},d(e){destroy_component(t,e),e&&detach(r),destroy_component(n,e),e&&detach(i),destroy_component(o,e),e&&detach(a),destroy_component(s,e),e&&detach(c),destroy_component(u,e),e&&detach(l),destroy_component(d,e),e&&detach(f),destroy_component(h,e),e&&detach(p),destroy_component(m,e)}}}function create_default_slot_3(e){let t,r;return t=new Cockpit({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_2(e){let t,r;return t=new TransactionLogs({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1(e){let t,r;return t=new Settings({}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot(e){let t,r,n,i;const o=[create_if_block,create_else_block],a=[];function s(e,t){return e[0]?0:1}return t=s(e),r=a[t]=o[t](e),{c(){r.c(),n=empty()},m(e,r){a[t].m(e,r),insert(e,n,r),i=!0},p(e,i){let c=t;t=s(e),t!==c&&(group_outros(),transition_out(a[c],1,1,(()=>{a[c]=null})),check_outros(),r=a[t],r||(r=a[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){i||(transition_in(r),i=!0)},o(e){transition_out(r),i=!1},d(e){a[t].d(e),e&&detach(n)}}}function create_fragment(e){let t,r;return t=new Router$1({props:{primary:!1,$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,[r]){const n={};3&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance(e,t,r){let n=!1;return onMount((async()=>{checkDarkTheme(),await getIDLAndAnchorAndMarketPubkeys(),r(0,n=!0);try{await subscribeToMarket(),MARKET.update((e=>(e.marketInit=!0,e)))}catch(e){return console.error(`Unable to connect: ${e}`),rollbar.critical(`Unable to connect: ${e}`),void INIT_FAILED.set(!0)}})),[n]}class App extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{})}}const app=new App({target:document.body});return app}();
//# sourceMappingURL=bundle.js.map
